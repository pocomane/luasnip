/*
The MIT License

Copyright (C) 2014 Dan Allen, Guillaume Grossetie, Anthonny Qu√©rouil and the Asciidoctor Project

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
"undefined"===typeof Opal&&(function(b){function x(){}function C(){}function B(){}function u(){}function v(){}function m(a,b){if(a)return a.$$const[b]}function w(a,b){var d,l,g;if(null!=a)for(g=c.ancestors(a),d=0,l=g.length;d<l;d++)if(g[d].$$const&&e.call(g[d].$$const,b))return g[d].$$const[b]}function z(a,b,c){if(!c)return(a||p).$const_missing(b)}function r(a,b){var d,l,g=b.$instance_methods();for(d=g.length-1;0<=d;d--)l="$"+g[d],c.bridge_method(a,b,l,b.$$proto[l])}var a=this,g;"undefined"!==typeof global&&
(a=global);"undefined"!==typeof window&&(a=window);g="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in g||(g.log=function(){});"warn"in g||(g.warn=g.log);if("undefined"!==typeof this.Opal)return g.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var D,H,p,q,f,c=this.Opal={},k={};c.global=a;a.Opal=c;c.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var e=Object.hasOwnProperty;
c.slice=Array.prototype.slice;var d=4;c.uid=function(){return d+=2};c.id=function(a){return a.$$is_number?2*a+1:a.$$id||(a.$$id=c.uid())};c.gvars={};c.exit=function(a){c.gvars.DEBUG&&g.log("Exited with status "+a)};c.exceptions=[];c.pop_exception=function(){c.gvars["!"]=c.exceptions.pop()||D};c.inspect=function(a){return a===b?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};c.truthy=function(a){return a!==D&&null!=a&&(!a.$$is_boolean||1==a)};c.falsy=function(a){return a===D||null==
a||a.$$is_boolean&&0==a};c.const_get_local=function(a,b,d){var l;if(null!=a){"::"===a&&(a=p);if(!a.$$is_a_module)throw new c.TypeError(a.toString()+" is not a class/module");l=m(a,b);if(null!=l)return l;l=z(a,b,d);if(null!=l)return l}};c.const_get_qualified=function(a,b,d){var l,g,e=c.const_cache_version;if(null!=a){"::"===a&&(a=p);if(!a.$$is_a_module)throw new c.TypeError(a.toString()+" is not a class/module");null==(g=a.$$const_cache)&&(g=a.$$const_cache=Object.create(null));l=g[b];null==l||l[0]!==
e?(null!=(l=m(a,b))||null!=(l=w(a,b)),g[b]=[e,l]):l=l[1];return null!=l?l:z(a,b,d)}};c.const_cache_version=1;c.const_get_relative=function(a,b,d){var l=a[0],g,e=c.const_cache_version,f;null==(f=a.$$const_cache)&&(f=a.$$const_cache=Object.create(null));g=f[b];if(null==g||g[0]!==e){var k;if(!(k=null!=(g=m(l,b)))){a:{var q;if(0!==a.length)for(g=0,k=a.length;g<k;g++)if(q=a[g].$$const[b],null!=q){a=q;break a}a=void 0}k=null!=(g=a)}k||null!=(g=w(l,b))||(a=null==l||l.$$is_module?w(p,b):void 0,null!=(g=a));
f[b]=[e,g]}else g=g[1];return null!=g?g:z(l,b,d)};c.const_set=function(a,b,d){if(null==a||"::"===a)a=p;if(d.$$is_a_module){if(null==d.$$name||d.$$name===D)d.$$name=b;null==d.$$base_module&&(d.$$base_module=a)}a.$$const=a.$$const||Object.create(null);a.$$const[b]=d;a.$$=a.$$const;c.const_cache_version++;a===p&&(c[b]=d);return d};c.constants=function(a,b){null==b&&(b=!0);var d,l=[a],g,e,f={},k;b&&(l=l.concat(c.ancestors(a)));b&&a.$$is_module&&(l=l.concat([c.Object]).concat(c.ancestors(c.Object)));g=
0;for(e=l.length;g<e;g++){d=l[g];if(a!==p&&d==p)break;for(k in d.$$const)f[k]=!0}return Object.keys(f)};c.const_remove=function(a,b){c.const_cache_version++;if(null!=a.$$const[b]){var d=a.$$const[b];delete a.$$const[b];return d}if(null!=a.$$autoload&&null!=a.$$autoload[b])return delete a.$$autoload[b],D;throw c.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};c.klass=function(a,b,d,g){var e,f;null==a&&(a=p);a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof b&&(f=b,b=p);if(e=
m(a,d)){if(!e.$$is_class)throw c.TypeError.$new(d+" is not a class");if(b&&e.$$super!==b)throw c.TypeError.$new("superclass mismatch for class "+d);return e}null==b&&(b=p);g=f||c.boot_class_alloc(d,g,b);e=c.setup_class_object(d,g,b.$$name,b.constructor);e.$$super=b;e.$$parent=b;c.const_set(a,d,e);a[d]=e;f?c.bridge(e,g):b.$inherited&&b.$inherited(e);return e};c.boot_class_alloc=function(a,b,c){if(c){var d=function(){};d.prototype=c.$$proto||c.prototype;b.prototype=new d}a&&(b.displayName=a+"_alloc");
return b.prototype.constructor=b};c.setup_module_or_class=function(a){a.$$id=c.uid();a.$$is_a_module=!0;a.$$inc=[];a.$$name=D;a.$$const=Object.create(null);a.$$cvars=Object.create(null)};c.setup_class_object=function(a,b,d,g){var e=function(){};e.prototype=g.prototype;e.displayName=d;d=function(){};d.prototype=new e;e=new d;c.setup_module_or_class(e);e.$$alloc=b;e.$$name=a||D;d.displayName="#<Class:"+(a||"#<Class:"+e.$$id+">")+">";e.$$proto=b.prototype;e.$$proto.$$class=e;e.constructor=d;e.$$is_class=
!0;e.$$class=f;return e};c.module=function(a,b){var d;null==a&&(a=p);a.$$is_class||a.$$is_module||(a=a.$$class);d=m(a,b);null==d&&a===p&&(d=w(p,b));if(d){if(!d.$$is_module&&d!==p)throw c.TypeError.$new(b+" is not a module");}else d=c.module_allocate(q),c.const_set(a,b,d);return d};c.module_initialize=function(a,b){if(b!==D){var c=b.$$s;b.$$s=null;b.call(a);b.$$s=c}return D};c.module_allocate=function(a){var b=function(){};b.prototype=a.$$alloc.prototype;var d=function(){};d.prototype=new b;b=new d;
c.setup_module_or_class(b);b.$$included_in=[];d.displayName="#<Class:#<Module:"+b.$$id+">>";b.$$proto={};b.constructor=d;b.$$is_module=!0;b.$$class=q;b.$$super=a;b.$$parent=a;return b};c.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||a.$$is_module?c.build_class_singleton_class(a):c.build_object_singleton_class(a)};c.build_class_singleton_class=function(a){var b,d;if(a.$$meta)return a.$$meta;b=a.constructor;d=a===H?f:c.build_class_singleton_class(a.$$super);b=c.setup_class_object(null,
b,d.$$name,d.constructor);b.$$super=d;b.$$parent=d;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b};c.build_object_singleton_class=function(a){var b=a.$$class,d="#<Class:#<"+b.$$name+":"+b.$$id+">>",g=c.boot_class_alloc(d,function(){},b),d=c.setup_class_object(d,g,b.$$name,b.constructor);d.$$super=b;d.$$parent=b;d.$$class=b.$$class;d.$$proto=a;d.$$is_singleton=!0;d.$$singleton_of=a;return a.$$meta=d};c.class_variables=function(a){a=c.ancestors(a);var b,d={};for(b=a.length-1;0<=b;b--){var g=
a[b],e;for(e in g.$$cvars)d[e]=g.$$cvars[e]}return d};c.class_variable_set=function(a,b,d){var g=c.ancestors(a),f;for(f=g.length-2;0<=f;f--){var k=g[f];if(e.call(k.$$cvars,b))return k.$$cvars[b]=d}return a.$$cvars[b]=d};c.bridge_method=function(a,b,c,d){var g,f,k,p;g=a.$$bridge.$ancestors();f=0;for(p=g.length;f<p;f++){k=g[f];if(e.call(k.$$proto,c)&&k.$$proto[c]&&!k.$$proto[c].$$donated&&!k.$$proto[c].$$stub&&k!==b)break;if(k===b){a.prototype[c]=d;break}}};c.bridge_methods=function(a,b){var c,d=k[a.$__id__()];
c=b.$__id__();if(d)for(k[c]=d.slice(),c=d.length-1;0<=c;c--)r(d[c],b)};c.has_cyclic_dep=function t(a,b,c,d){var g,e,f;for(g=b.length-1;0<=g;g--)if(f=b[g],e=f.$$id,!d[e]&&(d[e]=!0,e===a||t(a,f[c],c,d)))return!0;return!1};c.append_features=function(a,b){var d,g;for(g=b.$$inc.length-1;0<=g;g--)if(b.$$inc[g]===a)return;if(!b.$$is_class&&c.has_cyclic_dep(b.$$id,[a],"$$inc",{}))throw c.ArgumentError.$new("cyclic include detected");c.const_cache_version++;b.$$inc.push(a);a.$$included_in.push(b);c.bridge_methods(b,
a);b.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:b.$$parent,$$module:a,$$iclass:!0};d=a.$instance_methods();for(g=d.length-1;0<=g;g--)c.update_includer(a,b,"$"+d[g])};c.stubs={};c.bridge=function(a,b){if(b.$$bridge)throw c.ArgumentError.$new("already bridged");c.stub_subscribers.push(b.prototype);for(var d in c.stubs)d in b.prototype||(b.prototype[d]=c.stub_for(d));b.prototype.$$class=a;b.$$bridge=a;d=a.$ancestors();for(var g=d.length-1;0<=g;g--){var e=b,f=d[g].$__id__();k[f]||(k[f]=[]);
k[f].push(e);r(b,d[g])}for(var p in x.prototype){var q=x.prototype[q];!q||!q.$$stub||p in b.prototype||(b.prototype[p]=q)}return a};c.update_includer=function(a,b,d){var g,e,f,k,p,q,D,y;f=a.$$proto[d];g=b.$$proto;e=g[d];if(!g.hasOwnProperty(d)||e.$$donated||e.$$stub)if(g.hasOwnProperty(d)&&!e.$$stub){k=b.$$inc;p=0;for(q=k.length;p<q;p++)k[p]===e.$$donated&&(D=p),k[p]===a&&(y=p);D<=y&&(g[d]=f,g[d].$$donated=a)}else g[d]=f,g[d].$$donated=a;b.$$included_in&&c.update_includers(b,d)};c.update_includers=
function(a,b){var d,g,e,f;if(f=a.$$included_in)for(d=0,g=f.length;d<g;d++)e=f[d],c.update_includer(a,e,b)};c.ancestors=function(a){for(var b=[],d,g,e,f;a;){b.push(a);for(g=a.$$inc.length-1;0<=g;g--)for(d=c.ancestors(a.$$inc[g]),e=0,f=d.length;e<f;e++)b.push(d[e]);a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return b};c.add_stubs=function(a){var b,d=c.stub_subscribers,g,e=a.length,f,k=d.length,p,q,D=c.stubs;for(g=0;g<e;g++)if(p=a[g],!D.hasOwnProperty(p))for(D[p]=
!0,q=c.stub_for(p),f=0;f<k;f++)b=d[f],p in b||(b[p]=q)};c.stub_subscribers=[x.prototype];c.add_stub_for=function(a,b){var d=c.stub_for(b);a[b]=d};c.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;b.$$p=null;for(var c=Array(arguments.length),d=0,g=c.length;d<g;d++)c[d]=arguments[d];return this.$method_missing.apply(this,[a.slice(1)].concat(c))}b.$$stub=!0;return b};c.ac=function(a,b,d,g){var e="",e=d.$$is_class||d.$$is_module?e+(d.$$name+"."):e+(d.$$class.$$name+"#");throw c.ArgumentError.$new("["+
(e+g)+"] wrong number of arguments("+a+" for "+b+")");};c.block_ac=function(a,b,d){throw c.ArgumentError.$new("`block in "+d+"': wrong number of arguments ("+a+" for "+b+")");};c.find_super_dispatcher=function(a,b,d,g,e){d=(e?a.$$is_class||a.$$is_module?e.$$super:a.$$class.$$proto:c.find_obj_super_dispatcher(a,b,d))["$"+b];if(!g&&d.$$stub&&c.Kernel.$method_missing===a.$method_missing)throw c.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return d};c.find_iter_super_dispatcher=
function(a,b,d,g,e){if(!d)throw c.RuntimeError.$new("super called outside of method");if(e&&d.$$define_meth)throw c.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");d.$$def&&(b=d.$$jsid);return c.find_super_dispatcher(a,b,d,g)};c.find_obj_super_dispatcher=function(a,b,d){a=a.$$meta||a.$$class;a=c.find_owning_class(a,d);if(!a)throw Error("could not find current class for super()");return c.find_super_func(a,
"$"+b,d)};c.find_owning_class=function(a,b){for(var c=b.$$owner;!(!a||a.$$iclass&&a.$$module===b.$$donated||a.$$iclass&&a.$$module===c||c.$$is_singleton&&a===c.$$singleton_of.$$class)&&a!==c;)a=a.$$parent;return a};c.find_super_func=function(a,b,c){for(a=a.$$parent;a;){var d=a.$$proto[b];if(d&&d!==c)break;a=a.$$parent}return a.$$proto};c.ret=function(a){c.returner.$v=a;throw c.returner;};c.brk=function(a,b){b.$v=a;throw b;};c.new_brk=function(){return Error("unexpected break")};c.yield1=function(a,
b){if("function"!==typeof a)throw c.LocalJumpError.$new("no block given");var d=a.$$has_top_level_mlhs_arg,g=a.$$has_trailing_comma_in_args;if(1<a.length||(d||g)&&1===a.length)b=c.to_ary(b);return(1<a.length||g&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};c.yieldX=function(a,b){if("function"!==typeof a)throw c.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var d=Array(b.length),g=0,e=d.length;g<e;g++)d[g]=b[g];
return a.apply(null,d)}return a.apply(null,b)};c.rescue=function(a,b){for(var d=0;d<b.length;d++){var g=b[d];if(g.$$is_array){if(g=c.rescue(a,g))return g}else if(g===c.JS.Error||g["$==="](a))return g}return null};c.is_a=function(a,b){if(a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var d,g,e=c.ancestors(a.$$is_class?c.get_singleton_class(a):a.$$meta||a.$$class);d=0;for(g=e.length;d<g;d++)if(e[d]===b)return!0;return!1};c.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",
!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw c.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw c.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};c.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var b=a.$to_ary();if(b===D)return[a];if(b.$$is_array)return b;throw c.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+b.$$class+")");}return[a]};c.to_a=
function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var b=a.$to_a();if(b===D)return[a];if(b.$$is_array)return b;throw c.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+b.$$class+")");}return[a]};c.extract_kwargs=function(a){var b=a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),b.$to_hash()):c.hash2([],{})};c.kwrestargs=function(a,b){var d=[],g={},e=null,f=a.$$smap;for(e in f)b[e]||
(d.push(e),g[e]=f[e]);return c.hash2(d,g)};c.send=function(a,b,c,d){var g="string"===typeof b?a["$"+b]:b;return null!=g?(g.$$p=d,g.apply(a,c)):a.$method_missing.apply(a,[b].concat(c))};c.def=function(a,b,d){a===c.top?c.defn(c.Object,b,d):a.$$eval||!a.$$is_class&&!a.$$is_module?c.defs(a,b,d):c.defn(a,b,d)};c.defn=function(a,b,d){a.$$proto[b]=d;d.$$owner=a;null==d.displayName&&(d.displayName=b.substr(1));a.$$is_module&&(c.update_includers(a,b),a.$$module_function&&c.defs(a,b,d));var g=a.$__id__&&!a.$__id__.$$stub&&
k[a.$__id__()];if(g)for(var e=g.length-1;0<=e;e--)c.bridge_method(g[e],a,b,d);d=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||d?d&&d.$singleton_method_added&&!d.$singleton_method_added.$$stub&&d.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1));return D};c.defs=function(a,b,d){c.defn(c.get_singleton_class(a),b,d)};c.rdef=function(a,b){if(!e.call(a.$$proto,b))throw c.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$proto[b];a.$$is_singleton?
a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};c.udef=function(a,b){if(!a.$$proto[b]||a.$$proto[b].$$stub)throw c.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());c.add_stub_for(a.$$proto,b);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(b.substr(1)):
a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};c.alias=function(a,b,d){var g="$"+b,e="$"+d,f=a.$$proto["$"+d],k;if(a.$$eval)return c.alias(c.get_singleton_class(a),b,d);if("function"!==typeof f||f.$$stub){for(var p=a.$$super;"function"!==typeof f&&p;)f=p[e],p=p.$$super;if("function"!==typeof f||f.$$stub)throw c.NameError.$new("undefined method `"+d+"' for class `"+a.$name()+"'");}f.$$alias_of&&(f=f.$$alias_of);k=function(){var a=k.$$p,b,d,g;b=Array(arguments.length);
d=0;for(g=arguments.length;d<g;d++)b[d]=arguments[d];null!=a&&(k.$$p=null);return c.send(this,f,b,a)};k.displayName=b;k.length=f.length;k.$$arity=f.$$arity;k.$$parameters=f.$$parameters;k.$$source_location=f.$$source_location;k.$$alias_of=f;k.$$alias_name=b;c.defn(a,g,k);return a};c.alias_native=function(a,b,d){b="$"+b;var g=a.$$proto[d];if("function"!==typeof g||g.$$stub)throw c.NameError.$new("undefined native method `"+d+"' for class `"+a.$name()+"'");c.defn(a,b,g);return a};c.hash_init=function(a){a.$$smap=
Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};c.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;for(var d=0,g=a.$$keys,e=a.$$smap,f=g.length,k,p;d<f;d++)k=g[d],k.$$is_string?p=e[k]:(p=k.value,k=k.key),c.hash_put(b,k,p)};c.hash_put=function(a,d,g){if(d.$$is_string)e.call(a.$$smap,d)||a.$$keys.push(d),a.$$smap[d]=g;else{var f,k,p;f=a.$$by_identity?c.id(d):d.$hash();if(e.call(a.$$map,f)){for(k=a.$$map[f];k;){if(d===k.key||d["$eql?"](k.key)){p=b;k.value=g;break}p=k;k=k.next}p&&
(k={key:d,key_hash:f,value:g},a.$$keys.push(k),p.next=k)}else k={key:d,key_hash:f,value:g},a.$$keys.push(k),a.$$map[f]=k}};c.hash_get=function(a,b){if(b.$$is_string){if(e.call(a.$$smap,b))return a.$$smap[b]}else{var d;d=a.$$by_identity?c.id(b):b.$hash();if(e.call(a.$$map,d))for(d=a.$$map[d];d;){if(b===d.key||b["$eql?"](d.key))return d.value;d=d.next}}};c.hash_delete=function(a,b){var c,d=a.$$keys,g=d.length,f;if(b.$$is_string){if(!e.call(a.$$smap,b))return;for(c=0;c<g;c++)if(d[c]===b){d.splice(c,
1);break}f=a.$$smap[b];delete a.$$smap[b];return f}var k=b.$hash();if(e.call(a.$$map,k))for(var p=a.$$map[k],q;p;){if(b===p.key||b["$eql?"](p.key)){f=p.value;for(c=0;c<g;c++)if(d[c]===p){d.splice(c,1);break}q&&p.next?q.next=p.next:q?delete q.next:p.next?a.$$map[k]=p.next:delete a.$$map[k];return f}q=p;p=p.next}};c.hash_rehash=function(a){for(var c=0,d=a.$$keys.length,g,f,k;c<d;c++)if(!a.$$keys[c].$$is_string&&(g=a.$$keys[c].key.$hash(),g!==a.$$keys[c].key_hash)){f=a.$$map[a.$$keys[c].key_hash];for(k=
b;f;){if(f===a.$$keys[c]){k&&f.next?k.next=f.next:k?delete k.next:f.next?a.$$map[a.$$keys[c].key_hash]=f.next:delete a.$$map[a.$$keys[c].key_hash];break}k=f;f=f.next}a.$$keys[c].key_hash=g;if(e.call(a.$$map,g)){f=a.$$map[g];for(k=b;f;){if(f===a.$$keys[c]){k=b;break}k=f;f=f.next}k&&(k.next=a.$$keys[c])}else a.$$map[g]=a.$$keys[c]}};c.hash=function(){var a=arguments.length,b,d,g,f,k;if(1===a&&arguments[0].$$is_hash)return arguments[0];b=new c.Hash.$$alloc;c.hash_init(b);if(1===a&&arguments[0].$$is_array){a=
arguments[0];g=a.length;for(d=0;d<g;d++){if(2!==a[d].length)throw c.ArgumentError.$new("value not of length 2: "+a[d].$inspect());f=a[d][0];k=a[d][1];c.hash_put(b,f,k)}return b}if(1===a){a=arguments[0];for(f in a)e.call(a,f)&&(k=a[f],c.hash_put(b,f,k));return b}if(0!==a%2)throw c.ArgumentError.$new("odd number of arguments for Hash");for(d=0;d<a;d+=2)f=arguments[d],k=arguments[d+1],c.hash_put(b,f,k);return b};c.hash2=function(a,b){var d=new c.Hash.$$alloc;d.$$smap=b;d.$$map=Object.create(null);d.$$keys=
a;return d};c.range=function(a,b,d){var g=new c.Range.$$alloc;g.begin=a;g.end=b;g.excl=d;return g};c.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};c.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};c.modules={};c.loaded_features=["corelib/runtime"];
c.current_dir=".";c.require_table={"corelib/runtime":!0};c.normalize=function(a){var b,d=[];"."!==c.current_dir&&(a=c.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var g=0,e=a.length;g<e;g++)b=a[g],""!==b&&(".."===b?d.pop():d.push(b));return d.join("/")};c.loaded=function(a){var b,d,g;b=0;for(d=a.length;b<d;b++){g=c.normalize(a[b]);if(c.require_table[g])break;c.loaded_features.push(g);c.require_table[g]=!0}};c.load=function(a){a=c.normalize(a);
c.loaded([a]);var b=c.modules[a];if(b)b(c);else{b=c.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(c.LoadError)throw c.LoadError.$new(a);throw a;}"warning"===b&&g.warn("WARNING: LoadError: "+a)}return!0};c.require=function(a){a=c.normalize(a);return c.require_table[a]?!1:c.load(a)};c.boot_class_alloc("BasicObject",x);c.boot_class_alloc("Object",C,x);c.boot_class_alloc("Module",u,C);c.boot_class_alloc("Class",B,u);c.BasicObject=H=c.setup_class_object("BasicObject",
x,"Class",B);c.Object=p=c.setup_class_object("Object",C,"BasicObject",H.constructor);c.Module=q=c.setup_class_object("Module",u,"Object",p.constructor);c.Class=f=c.setup_class_object("Class",B,"Module",q.constructor);H.$$const.BasicObject=H;c.const_set(p,"BasicObject",H);c.const_set(p,"Object",p);c.const_set(p,"Module",q);c.const_set(p,"Class",f);H.$$class=f;p.$$class=f;q.$$class=f;f.$$class=f;H.$$super=null;p.$$super=H;q.$$super=p;f.$$super=q;H.$$parent=null;p.$$parent=H;q.$$parent=p;f.$$parent=
q;p.$$proto.toString=function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a};p.$$proto.$require=c.require;c.$$=p.$$;c.top=new p.$$alloc;c.top.$to_s=c.top.$inspect=function(){return"main"};c.klass(p,p,"NilClass",v);D=c.nil=new v;D.$$id=4;D.call=D.apply=function(){throw c.LocalJumpError.$new("no block given");};c.breaker=Error("unexpected break (old)");c.returner=Error("unexpected return");TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=
function(b){var x=[],C=b.nil,B=b.module,u=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(v,m){var w=B(v,"Opal"),z=[w].concat(m),r,a,g,D,H,p,q,f,c,k,e,d,h,t;b.defs(w,"$bridge",r=function(a,c){return b.bridge(a,c)},r.$$arity=2);b.defs(w,"$type_error",a=function(a,c,d,g){var e;null==d&&(d=C);null==g&&(g=C);return u(u(e=d)?g:e)?b.const_get_relative(z,"TypeError").$new("can't convert "+a.$class()+
" into "+c+" ("+a.$class()+"#"+d+" gives "+g.$class()+")"):b.const_get_relative(z,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+c)},a.$$arity=-3);b.defs(w,"$coerce_to",g=function(a,b,c){if(u(b["$==="](a)))return a;u(a["$respond_to?"](c))||this.$raise(this.$type_error(a,b));return a.$__send__(c)},g.$$arity=3);b.defs(w,"$coerce_to!",D=function(a,b,c){var d=C,d=this.$coerce_to(a,b,c);u(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},D.$$arity=3);b.defs(w,"$coerce_to?",
H=function(a,b,c){var d=C;if(!u(a["$respond_to?"](c)))return C;d=this.$coerce_to(a,b,c);if(u(d["$nil?"]()))return C;u(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},H.$$arity=3);b.defs(w,"$try_convert",p=function(a,b,c){return u(b["$==="](a))?a:u(a["$respond_to?"](c))?a.$__send__(c):C},p.$$arity=3);b.defs(w,"$compare",q=function(a,c){var d=C,d=a["$<=>"](c);u(d===C)&&this.$raise(b.const_get_relative(z,"ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return d},
q.$$arity=2);b.defs(w,"$destructure",f=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),c=0,d=b.length;c<d;c++)b[c]=a[c];return b},f.$$arity=1);b.defs(w,"$respond_to?",c=function(a,b,c){null==c&&(c=!1);return null!=a&&a.$$class?a["$respond_to?"](b,c):!1},c.$$arity=-3);b.defs(w,"$inspect_obj",k=function(a){return b.inspect(a)},k.$$arity=1);b.defs(w,"$instance_variable_name!",e=function(a){a=b.const_get_relative(z,"Opal")["$coerce_to!"](a,b.const_get_relative(z,
"String"),"to_str");u(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(b.const_get_relative(z,"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},e.$$arity=1);b.defs(w,"$class_variable_name!",d=function(a){a=b.const_get_relative(z,"Opal")["$coerce_to!"](a,b.const_get_relative(z,"String"),"to_str");u(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(b.const_get_relative(z,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},d.$$arity=1);
b.defs(w,"$const_name!",h=function(a){a=b.const_get_relative(z,"Opal")["$coerce_to!"](a,b.const_get_relative(z,"String"),"to_str");u(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(b.const_get_relative(z,"NameError"),"wrong constant name "+a);return a},h.$$arity=1);b.defs(w,"$pristine",t=function(a,b){var c,d=arguments.length;c=d-1;0>c&&(c=0);c=Array(c);for(var g=1;g<d;g++)c[g-1]=arguments[g];for(d=c.length-1;0<=d;d--)g=c[d],(g=a.$$proto["$"+g])&&!g.$$stub&&(g.$$pristine=!0);return C},t.$$arity=
-2)}(x[0],x)},Opal.modules["corelib/module"]=function(b){function x(b,a){return"number"===typeof b&&"number"===typeof a?b<a:b["$<"](a)}var C=[],B=b.nil,u=b.klass,v=b.truthy,m=b.send,w=b.range,z=b.hash2;b.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $to_proc $lambda $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(r,$super,g){function D(){}r=D=u(r,$super,"Module",D);var H=[r].concat(g),p,q,f,c,k,e,d,h,t,Y,l,Ea,n,X,W,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,ba,N,O,ma,da,I,pa,C,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua,Ca,va,Ba,Fa;b.defs(r,"$allocate",p=function(){return b.module_allocate(this)},p.$$arity=0);b.def(r,"$initialize",q=function(){var c=q.$$p,d=c||B;c&&(q.$$p=null);return b.module_initialize(this,d)},q.$$arity=0);b.def(r,"$===",f=function(c){return v(null==c)?!1:b.is_a(c,this)},f.$$arity=1);b.def(r,
"$<",c=function(c){v(b.const_get_relative(H,"Module")["$==="](c))||this.$raise(b.const_get_relative(H,"TypeError"),"compared with non class/module");var d,g,e;if(this===c)return!1;g=0;d=b.ancestors(this);for(e=d.length;g<e;g++)if(d[g]===c)return!0;g=0;d=b.ancestors(c);for(e=d.length;g<e;g++)if(d[g]===this)return!1;return B},c.$$arity=1);b.def(r,"$<=",k=function(b){var c;return v(c=this["$equal?"](b))?c:x(this,b)},k.$$arity=1);b.def(r,"$>",e=function(c){v(b.const_get_relative(H,"Module")["$==="](c))||
this.$raise(b.const_get_relative(H,"TypeError"),"compared with non class/module");return x(c,this)},e.$$arity=1);b.def(r,"$>=",d=function(b){var c;return v(c=this["$equal?"](b))?c:"number"===typeof this&&"number"===typeof b?this>b:this["$>"](b)},d.$$arity=1);b.def(r,"$<=>",h=function(c){var d=B;if(this===c)return 0;if(!v(b.const_get_relative(H,"Module")["$==="](c)))return B;d=x(this,c);return v(d["$nil?"]())?B:v(d)?-1:1},h.$$arity=1);b.def(r,"$alias_method",t=function(c,d){b.alias(this,c,d);return this},
t.$$arity=2);b.def(r,"$alias_native",Y=function(c,d){null==d&&(d=c);b.alias_native(this,c,d);return this},Y.$$arity=-2);b.def(r,"$ancestors",l=function(){return b.ancestors(this)},l.$$arity=0);b.def(r,"$append_features",Ea=function(c){b.append_features(this,c);return this},Ea.$$arity=1);b.def(r,"$attr_accessor",n=function(c){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];m(this,"attr_reader",b.to_a(d));return m(this,"attr_writer",b.to_a(d))},n.$$arity=
-1);b.alias(r,"attr","attr_accessor");b.def(r,"$attr_reader",X=function(c){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=this.$$proto;for(e=d.length-1;0<=e;e--){var f=d[e],h="$"+f,f=b.ivar(f),k=function(b){return function(){return null==this[b]?B:this[b]}}(f);g[f]=B;k.$$parameters=[];k.$$arity=0;this.$$is_singleton?g.constructor.prototype[h]=k:b.defn(this,h,k)}return B},X.$$arity=-1);b.def(r,"$attr_writer",W=function(c){var d,g=arguments.length;d=g-
0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=this.$$proto;for(e=d.length-1;0<=e;e--){var f=d[e],h="$"+f+"=",f=b.ivar(f),k=function(b){return function(c){return this[b]=c}}(f);k.$$parameters=[["req"]];k.$$arity=1;g[f]=B;this.$$is_singleton?g.constructor.prototype[h]=k:b.defn(this,h,k)}return B},W.$$arity=-1);b.def(r,"$autoload",E=function(c,d){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[c]=d;return B},E.$$arity=2);b.def(r,"$class_variables",
ca=function(){return Object.keys(b.class_variables(this))},ca.$$arity=0);b.def(r,"$class_variable_get",wa=function(c){c=b.const_get_relative(H,"Opal")["$class_variable_name!"](c);var d=b.class_variables(this)[c];null==d&&this.$raise(b.const_get_relative(H,"NameError").$new("uninitialized class variable "+c+" in "+this,c));return d},wa.$$arity=1);b.def(r,"$class_variable_set",y=function(c,d){c=b.const_get_relative(H,"Opal")["$class_variable_name!"](c);return b.class_variable_set(this,c,d)},y.$$arity=
2);b.def(r,"$class_variable_defined?",A=function(c){c=b.const_get_relative(H,"Opal")["$class_variable_name!"](c);return b.class_variables(this).hasOwnProperty(c)},A.$$arity=1);b.def(r,"$remove_class_variable",ha=function(c){c=b.const_get_relative(H,"Opal")["$class_variable_name!"](c);if(b.hasOwnProperty.call(this.$$cvars,c)){var d=this.$$cvars[c];delete this.$$cvars[c];return d}this.$raise(b.const_get_relative(H,"NameError"),"cannot remove "+c+" for "+this)},ha.$$arity=1);b.def(r,"$constants",ja=
function(c){null==c&&(c=!0);return b.constants(this,c)},ja.$$arity=-1);b.defs(r,"$constants",P=function(c){if(null==c){c=(this.$$nesting||[]).concat(b.Object);var d,g={},e,f;e=0;for(f=c.length;e<f;e++)for(d in c[e].$$const)g[d]=!0;return Object.keys(g)}return b.constants(this,c)},P.$$arity=-1);b.defs(r,"$nesting",L=function(){return this.$$nesting||[]},L.$$arity=0);b.def(r,"$const_defined?",U=function(c,d){null==d&&(d=!0);c=b.const_get_relative(H,"Opal")["$const_name!"](c);v(c["$=~"](b.const_get_qualified(b.const_get_relative(H,
"Opal"),"CONST_NAME_REGEXP")))||this.$raise(b.const_get_relative(H,"NameError").$new("wrong constant name "+c,c));var g,e=[this],f,h;d&&(e=e.concat(b.ancestors(this)),this.$$is_module&&(e=e.concat([b.Object]).concat(b.ancestors(b.Object))));f=0;for(h=e.length;f<h;f++)if(g=e[f],null!=g.$$const[c])return!0;return!1},U.$$arity=-2);b.def(r,"$const_get",J=function(c,d){var g;null==d&&(d=!0);c=b.const_get_relative(H,"Opal")["$const_name!"](c);0===c.indexOf("::")&&"::"!==c&&(c=c.slice(2));if(v(-1!=c.indexOf("::")&&
"::"!=c))return m(c.$split("::"),"inject",[this],(g=function(b,c){null==b&&(b=B);null==c&&(c=B);return b.$const_get(c)},g.$$s=this,g.$$arity=2,g));v(c["$=~"](b.const_get_qualified(b.const_get_relative(H,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(b.const_get_relative(H,"NameError").$new("wrong constant name "+c,c));return d?b.const_get_relative([this],c):b.const_get_local(this,c)},J.$$arity=-2);b.def(r,"$const_missing",Q=function(c){var d=B;if(this.$$autoload&&(d=this.$$autoload[c]))return this.$require(d),
this.$const_get(c);d=this["$=="](b.const_get_relative(H,"Object"))?c:""+this+"::"+c;return this.$raise(b.const_get_relative(H,"NameError").$new("uninitialized constant "+d,c))},Q.$$arity=1);b.def(r,"$const_set",R=function(c,d){var g;c=b.const_get_relative(H,"Opal")["$const_name!"](c);v(v(g=c["$!~"](b.const_get_qualified(b.const_get_relative(H,"Opal"),"CONST_NAME_REGEXP")))?g:c["$start_with?"]("::"))&&this.$raise(b.const_get_relative(H,"NameError").$new("wrong constant name "+c,c));b.const_set(this,
c,d);return d},R.$$arity=2);b.def(r,"$public_constant",V=function(b){return B},V.$$arity=1);b.def(r,"$define_method",ba=function(c,d){var g,e,f=this,h=ba.$$p,k=h||B,l=B;h&&(ba.$$p=null);v(void 0===d&&k===B)&&f.$raise(b.const_get_relative(H,"ArgumentError"),"tried to create a Proc object without a block");k=v(g=k)?g:function(){l=d;return b.const_get_relative(H,"Proc")["$==="](l)?d:b.const_get_relative(H,"Method")["$==="](l)?d.$to_proc().$$unbound:b.const_get_relative(H,"UnboundMethod")["$==="](l)?
m(f,"lambda",[],(e=function(c){var g=e.$$s||this,f,h=B,h=arguments.length;f=h-0;0>f&&(f=0);f=Array(f);for(var ya=0;ya<h;ya++)f[ya-0]=arguments[ya];h=d.$bind(g);return m(h,"call",b.to_a(f))},e.$$s=f,e.$$arity=-1,e)):f.$raise(b.const_get_relative(H,"TypeError"),"wrong argument type "+k.$class()+" (expected Proc/Method)")}();k.$$jsid=c;k.$$s=null;k.$$def=k;k.$$define_meth=!0;b.defn(f,"$"+c,k);return c},ba.$$arity=-2);b.def(r,"$remove_method",N=function(c){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=
Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=0;for(e=d.length;g<e;g++)b.rdef(this,"$"+d[g]);return this},N.$$arity=-1);b.def(r,"$singleton_class?",O=function(){return!!this.$$is_singleton},O.$$arity=0);b.def(r,"$include",ma=function(c){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];for(g=d.length-1;0<=g;g--)e=d[g],e.$$is_module||this.$raise(b.const_get_relative(H,"TypeError"),"wrong argument type "+e.$class()+" (expected Module)"),e.$append_features(this),
e.$included(this);return this},ma.$$arity=-1);b.def(r,"$included_modules",da=function(){var b,c=function(b){for(var d=[],g=0,e=b.$$inc.length;g<e;g++){var f=b.$$inc[g];d.push(f);d=d.concat(c(f))}return d};b=c(this);if(this.$$is_class)for(var d=this;d;d=d.$$super)b=b.concat(c(d));return b},da.$$arity=0);b.def(r,"$include?",I=function(c){c.$$is_module||this.$raise(b.const_get_relative(H,"TypeError"),"wrong argument type "+c.$class()+" (expected Module)");var d,g,e,f=b.ancestors(this);d=0;for(g=f.length;d<
g;d++)if(e=f[d],e===c&&e!==this)return!0;return!1},I.$$arity=1);b.def(r,"$instance_method",pa=function(c){var d=this.$$proto["$"+c];d&&!d.$$stub||this.$raise(b.const_get_relative(H,"NameError").$new("undefined method `"+c+"' for class `"+this.$name()+"'",c));return b.const_get_relative(H,"UnboundMethod").$new(this,d.$$owner||this,d,c)},pa.$$arity=1);b.def(r,"$instance_methods",C=function(c){null==c&&(c=!0);var d,g=[],e=this.$$proto,f;for(f in e)if("$"===f.charAt(0)&&"$"!==f.charAt(1)&&(d=e[f],"function"===
typeof d&&!d.$$stub)){if(!this.$$is_module){if(this!==b.BasicObject&&d===b.BasicObject.$$proto[f])continue;if(!c&&!e.hasOwnProperty(f))continue;if(!c&&d.$$donated)continue}g.push(f.substr(1))}return g},C.$$arity=-1);b.def(r,"$included",Z=function(b){return B},Z.$$arity=1);b.def(r,"$extended",fa=function(b){return B},fa.$$arity=1);b.def(r,"$method_added",K=function(b){return B},K.$$arity=-1);b.def(r,"$method_removed",ka=function(b){return B},ka.$$arity=-1);b.def(r,"$method_undefined",oa=function(b){return B},
oa.$$arity=-1);b.def(r,"$module_eval",aa=function(c){var d,g,e,f=aa.$$p,h=f||B,k=B,l=e=e=e=B,k=arguments.length;e=k-0;0>e&&(e=0);e=Array(e);for(var t=0;t<k;t++)e[t-0]=arguments[t];f&&(aa.$$p=null);v(v(d=h["$nil?"]())?!!b.compile:d)?(v(w(1,3,!1)["$cover?"](e.$size()))||b.const_get_relative(H,"Kernel").$raise(b.const_get_relative(H,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(b.to_a(e)),k=null==d[0]?B:d[0],e=null==d[1]?B:d[1],d,e=z(["file","eval"],{file:v(d=e)?d:"(eval)",eval:!0}),
e=b.hash({arity_check:!1}).$merge(e),l=b.const_get_relative(H,"Opal").$compile(k,e),h=m(b.const_get_relative(H,"Kernel"),"proc",[],(g=function(){return function(b){return eval(l)}(g.$$s||this)},g.$$s=this,g.$$arity=0,g))):v(e["$any?"]())&&b.const_get_relative(H,"Kernel").$raise(b.const_get_relative(H,"ArgumentError"),""+("wrong number of arguments ("+e.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");d=h.$$s;h.$$s=
null;f=h.apply(this,[this]);h.$$s=d;return f},aa.$$arity=-1);b.alias(r,"class_eval","module_eval");b.def(r,"$module_exec",ia=function(c){var d,g=ia.$$p,e=g||B,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var h=0;h<f;h++)d[h-0]=arguments[h];g&&(ia.$$p=null);e===B&&this.$raise(b.const_get_relative(H,"LocalJumpError"),"no block given");g=e.$$s;e.$$s=null;d=e.apply(this,d);e.$$s=g;return d},ia.$$arity=-1);b.alias(r,"class_exec","module_exec");b.def(r,"$method_defined?",za=function(b){b=this.$$proto["$"+
b];return!!b&&!b.$$stub},za.$$arity=1);b.def(r,"$module_function",qa=function(c){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(0===d.length)this.$$module_function=!0;else for(g=0,e=d.length;g<e;g++){var f="$"+d[g];b.defs(this,f,this.$$proto[f])}return this},qa.$$arity=-1);b.def(r,"$name",na=function(){if(this.$$full_name)return this.$$full_name;for(var c=[],d=this;d;){if(d.$$name===B||null==d.$$name)return B;c.unshift(d.$$name);d=d.$$base_module;if(d===
b.Object)break}return 0===c.length?B:this.$$full_name=c.join("::")},na.$$arity=0);b.def(r,"$remove_const",ra=function(c){return b.const_remove(this,c)},ra.$$arity=1);b.def(r,"$to_s",ta=function(){var c;return v(c=b.Module.$name.call(this))?c:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},ta.$$arity=0);b.def(r,"$undef_method",ua=function(c){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=0;for(e=d.length;g<e;g++)b.udef(this,
"$"+d[g]);return this},ua.$$arity=-1);b.def(r,"$instance_variables",Ca=function(){var c=B,c=(b.Module.$$nesting=H,this.$constants()),d=[],g;for(g in this)this.hasOwnProperty(g)&&"$"!==g.charAt(0)&&"constructor"!==g&&!c["$include?"](g)&&d.push("@"+g);return d},Ca.$$arity=0);b.def(r,"$dup",va=function(){var c=va.$$p,d=B,g=d=B,e=B;c&&(va.$$p=null);g=0;e=arguments.length;for(d=Array(e);g<e;g++)d[g]=arguments[g];d=m(this,b.find_super_dispatcher(this,"dup",va,!1),d,c);d.$copy_class_variables(this);d.$copy_constants(this);
return d},va.$$arity=0);b.def(r,"$copy_class_variables",Ba=function(b){for(var c in b.$$cvars)this.$$cvars[c]=b.$$cvars[c]},Ba.$$arity=1);return(b.def(r,"$copy_constants",Fa=function(c){var d;c=c.$$const;for(d in c)b.const_set(this,d,c[d])},Fa.$$arity=1),B)&&"copy_constants"}(C[0],null,C)},Opal.modules["corelib/class"]=function(b){var x=b.top,C=[],B=b.nil,u=b.klass,v=b.send;b.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]);x.$require("corelib/module");return function(m,$super,
z){function r(){}m=r=u(m,$super,"Class",r);var a=[m].concat(z),g,D,H,p,q,f,c;b.defs(m,"$new",g=function(c){var e=g.$$p,d=e||B;null==c&&(c=b.const_get_relative(a,"Object"));e&&(g.$$p=null);if(!c.$$is_class)throw b.TypeError.$new("superclass must be a Class");e=b.boot_class_alloc(null,function(){},c);e=b.setup_class_object(null,e,c.$$name,c.constructor);e.$$super=c;e.$$parent=c;c.$inherited(e);b.module_initialize(e,d);return e},g.$$arity=-1);b.def(m,"$allocate",D=function(){var a=new this.$$alloc;a.$$id=
b.uid();return a},D.$$arity=0);b.def(m,"$inherited",H=function(a){return B},H.$$arity=1);b.def(m,"$initialize_dup",p=function(a){this.$initialize_copy(a);this.$$full_name=this.$$name=null},p.$$arity=1);b.def(m,"$new",q=function(a){var c,d=q.$$p,g=d||B,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var p=0;p<f;p++)c[p-0]=arguments[p];d&&(q.$$p=null);d=this.$allocate();b.send(d,d.$initialize,c,g);return d},q.$$arity=-1);b.def(m,"$superclass",f=function(){return this.$$super||B},f.$$arity=0);return(b.def(m,
"$to_s",c=function(){c.$$p&&(c.$$p=null);var a=this.$$singleton_of;return a&&(a.$$is_class||a.$$is_module)?"#<Class:"+a.$name()+">":a?"#<Class:#<"+a.$$class.$name()+":0x"+b.id(a).$to_s(16)+">>":v(this,b.find_super_dispatcher(this,"to_s",c,!1),[],null)},c.$$arity=0),B)&&"to_s"}(C[0],null,C)},Opal.modules["corelib/basic_object"]=function(b){var x=[],C=b.nil,B=b.klass,u=b.truthy,v=b.range,m=b.hash2,w=b.send;b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));
return function(z,$super,a){function g(){}z=g=B(z,$super,"BasicObject",g);[z].concat(a);var D,H,p,q,f,c,k,e,d,h,t,Y,l;b.def(z,"$initialize",D=function(a){return C},D.$$arity=-1);b.def(z,"$==",H=function(a){return this===a},H.$$arity=1);b.def(z,"$eql?",p=function(a){return this["$=="](a)},p.$$arity=1);b.alias(z,"equal?","==");b.def(z,"$__id__",q=function(){return this.$$id||(this.$$id=b.uid())},q.$$arity=0);b.def(z,"$__send__",f=function(a,b){var c,d=f.$$p,g=d||C,e=arguments.length;c=e-1;0>c&&(c=0);
c=Array(c);for(var h=1;h<e;h++)c[h-1]=arguments[h];d&&(f.$$p=null);if(d=this["$"+a])return g!==C&&(d.$$p=g),d.apply(this,c);g!==C&&(this.$method_missing.$$p=g);return this.$method_missing.apply(this,[a].concat(c))},f.$$arity=-2);b.def(z,"$!",c=function(){return!1},c.$$arity=0);b.def(z,"$!=",k=function(a){return this["$=="](a)["$!"]()},k.$$arity=1);b.def(z,"$instance_eval",e=function(a){var c,d,g,f=e.$$p,h=f||C,k=C,l=g=g=g=C,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var p=0;p<k;p++)g[p-0]=
arguments[p];f&&(e.$$p=null);u(u(c=h["$nil?"]())?!!b.compile:c)?(u(v(1,3,!1)["$cover?"](g.$size()))||b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),c=[].concat(b.to_a(g)),k=null==c[0]?C:c[0],g=null==c[1]?C:c[1],c,g=m(["file","eval"],{file:u(c=g)?c:"(eval)",eval:!0}),g=b.hash({arity_check:!1}).$merge(g),l=b.const_get_qualified("::","Opal").$compile(k,g),h=w(b.const_get_qualified("::","Kernel"),"proc",[],(d=function(){return function(a){return eval(l)}(d.$$s||
this)},d.$$s=this,d.$$arity=0,d))):u(g["$any?"]())&&b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","ArgumentError"),"wrong number of arguments ("+g.$size()+" for 0)");c=h.$$s;var t;h.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{t=h.call(this,this)}finally{this.$$eval=!1}}else t=h.call(this,this);h.$$s=c;return t},e.$$arity=-1);b.def(z,"$instance_exec",d=function(a){var c,g=d.$$p,e=g||C,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-
0]=arguments[h];g&&(d.$$p=null);u(e)||b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","ArgumentError"),"no block given");var g=e.$$s,k;e.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{k=e.apply(this,c)}finally{this.$$eval=!1}}else k=e.apply(this,c);e.$$s=g;return k},d.$$arity=-1);b.def(z,"$singleton_method_added",h=function(a){return C},h.$$arity=-1);b.def(z,"$singleton_method_removed",t=function(a){return C},t.$$arity=-1);b.def(z,"$singleton_method_undefined",
Y=function(a){return C},Y.$$arity=-1);return(b.def(z,"$method_missing",l=function(a,c){var d,g=l.$$p,e=C,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];g&&(l.$$p=null);e=u(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class;return b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","NoMethodError").$new(e,a))},l.$$arity=-2),C)&&"method_missing"}(x[0],
null,x)},Opal.modules["corelib/kernel"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var C=[],B=b.nil,u=b.module,v=b.truthy,m=b.gvars,w=b.hash2,z=b.send,r=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $any? $print $format $puts $each $<= $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $srand $new_seed $sym $arg $open $include".split(" "));
(function(a,g){var D=u(a,"Kernel"),H=[D].concat(g),p,q,f,c,k,e,d,h,t,r,l,Ea,n,X,W,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,ba,N,O,ma,da,I,pa,C,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua,Ca,va,Ba,Fa,Ga,Ia,Aa,Ka,Ja,La,la,Ha,F,xa,ga;b.def(D,"$method_missing",p=function(a,c){var d,g=p.$$p,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];g&&(p.$$p=null);return this.$raise(b.const_get_relative(H,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,d))},p.$$arity=
-2);b.def(D,"$=~",q=function(a){return!1},q.$$arity=1);b.def(D,"$!~",f=function(a){return this["$=~"](a)["$!"]()},f.$$arity=1);b.def(D,"$===",c=function(a){var b;return v(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},c.$$arity=1);b.def(D,"$<=>",k=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==B?0:B},k.$$arity=1);b.def(D,"$method",e=function(a){var c=this["$"+a];c&&!c.$$stub||this.$raise(b.const_get_relative(H,"NameError").$new("undefined method `"+a+"' for class `"+
this.$class()+"'",a));return b.const_get_relative(H,"Method").$new(this,c.$$owner||this.$class(),c,a)},e.$$arity=1);b.def(D,"$methods",d=function(a){null==a&&(a=!0);var c=[],d;for(d in this)"$"==d[0]&&"function"===typeof this[d]&&(0!=a&&a!==B||b.hasOwnProperty.call(this,d))&&void 0===this[d].$$stub&&c.push(d.substr(1));return c},d.$$arity=-1);b.alias(D,"public_methods","methods");b.def(D,"$Array",h=function(a){var c;if(a===B)return[];if(a.$$is_array)return a;c=b.const_get_relative(H,"Opal")["$coerce_to?"](a,
b.const_get_relative(H,"Array"),"to_ary");if(c!==B)return c;c=b.const_get_relative(H,"Opal")["$coerce_to?"](a,b.const_get_relative(H,"Array"),"to_a");return c!==B?c:[a]},h.$$arity=1);b.def(D,"$at_exit",t=function(){var a,b=t.$$p,c=b||B;null==m.__at_exit__&&(m.__at_exit__=B);b&&(t.$$p=null);m.__at_exit__=v(a=m.__at_exit__)?a:[];return m.__at_exit__["$<<"](c)},t.$$arity=0);b.def(D,"$caller",r=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return[]},
r.$$arity=-1);b.def(D,"$class",l=function(){return this.$$class},l.$$arity=0);b.def(D,"$copy_instance_variables",Ea=function(a){var b=Object.keys(a),c,d,g;c=0;for(d=b.length;c<d;c++)g=b[c],"$"!==g.charAt(0)&&a.hasOwnProperty(g)&&(this[g]=a[g])},Ea.$$arity=1);b.def(D,"$copy_singleton_methods",n=function(a){var c;if(a.hasOwnProperty("$$meta")){var d=b.get_singleton_class(a).$$proto,g=b.get_singleton_class(this).$$proto;for(c in d)"$"===c.charAt(0)&&d.hasOwnProperty(c)&&(g[c]=d[c])}for(c in a)"$"===
c.charAt(0)&&"$"!==c.charAt(1)&&a.hasOwnProperty(c)&&(this[c]=a[c])},n.$$arity=1);b.def(D,"$clone",X=function(a){var c=B;if(null==a||!a.$$is_hash)if(null==a)w([],{});else throw b.ArgumentError.$new("expected kwargs");c=this.$class().$allocate();c.$copy_instance_variables(this);c.$copy_singleton_methods(this);c.$initialize_clone(this);return c},X.$$arity=-1);b.def(D,"$initialize_clone",W=function(a){return this.$initialize_copy(a)},W.$$arity=1);b.def(D,"$define_singleton_method",E=function(a,b){var c=
E.$$p,d=c||B;c&&(E.$$p=null);return z(this.$singleton_class(),"define_method",[a,b],d.$to_proc())},E.$$arity=-2);b.def(D,"$dup",ca=function(){var a=B,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},ca.$$arity=0);b.def(D,"$initialize_dup",wa=function(a){return this.$initialize_copy(a)},wa.$$arity=1);b.def(D,"$enum_for",y=function(a,c){var d,g=y.$$p,e=g||B;null==a&&(a="each");var f=arguments.length;d=f-1;0>d&&(d=0);d=Array(d);for(var h=1;h<f;h++)d[h-1]=
arguments[h];g&&(y.$$p=null);return z(b.const_get_relative(H,"Enumerator"),"for",[this,a].concat(b.to_a(d)),e.$to_proc())},y.$$arity=-1);b.alias(D,"to_enum","enum_for");b.def(D,"$equal?",A=function(a){return this===a},A.$$arity=1);b.def(D,"$exit",ha=function(a){var c,d=B;null==m.__at_exit__&&(m.__at_exit__=B);null==a&&(a=!0);for(m.__at_exit__=v(c=m.__at_exit__)?c:[];!v(m.__at_exit__["$empty?"]());)d=m.__at_exit__.$pop(),d.$call();a=null==a?0:a.$$is_boolean?a?0:1:a.$$is_numeric?a.$to_i():0;b.exit(a);
return B},ha.$$arity=-1);b.def(D,"$extend",ja=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];d=this.$singleton_class();for(g=c.length-1;0<=g;g--){var e=c[g];e.$$is_module||this.$raise(b.const_get_relative(H,"TypeError"),"wrong argument type "+e.$class()+" (expected Module)");e.$append_features(d);e.$extended(this)}return this},ja.$$arity=-1);b.def(D,"$format",P=function(a,c){function d(){J&32&&t.$raise(b.const_get_relative(H,"ArgumentError"),
"flag after width");J&128&&t.$raise(b.const_get_relative(H,"ArgumentError"),"flag after precision")}function g(){J&32&&t.$raise(b.const_get_relative(H,"ArgumentError"),"width given twice");J&128&&t.$raise(b.const_get_relative(H,"ArgumentError"),"width after precision")}function e(a){a>=q.length&&t.$raise(b.const_get_relative(H,"ArgumentError"),"too few arguments");return q[a]}function f(){switch(U){case -1:t.$raise(b.const_get_relative(H,"ArgumentError"),"unnumbered("+X+") mixed with numbered");case -2:t.$raise(b.const_get_relative(H,
"ArgumentError"),"unnumbered("+X+") mixed with named")}U=X++;return e(U-1)}function h(a){0<U&&t.$raise(b.const_get_relative(H,"ArgumentError"),"numbered("+a+") after unnumbered("+U+")");-2===U&&t.$raise(b.const_get_relative(H,"ArgumentError"),"numbered("+a+") after named");1>a&&t.$raise(b.const_get_relative(H,"ArgumentError"),"invalid index - "+a+"$");U=-1;return e(a-1)}function k(){return void 0===Y?f():Y}function l(c){var d;for(d="";;F++){F===va&&t.$raise(b.const_get_relative(H,"ArgumentError"),
"malformed format string - %*[0-9]");if(48>a.charCodeAt(F)||57<a.charCodeAt(F))return F--,d=parseInt(d,10)||0,2147483647<d&&t.$raise(b.const_get_relative(H,"ArgumentError"),""+c+" too big"),d;d+=a.charAt(F)}}function p(b){b=l(b);"$"===a.charAt(F+1)?(F++,b=h(b)):b=f();return b.$to_int()}var t=this,q,Na=B;null==m.DEBUG&&(m.DEBUG=B);var Na=arguments.length,D=Na-1;0>D&&(D=0);q=Array(D);for(D=1;D<Na;D++)q[D-1]=arguments[D];v(q.$length()["$=="](1)?q["$[]"](0)["$respond_to?"]("to_ary"):q.$length()["$=="](1))&&
(Na=b.const_get_relative(H,"Opal")["$coerce_to?"](q["$[]"](0),b.const_get_relative(H,"Array"),"to_ary"),v(Na["$nil?"]())||(q=Na.$to_a()));var Na="",D=0,y,F,va=a.length,L,n,ga,E,A,Ba,Aa,O,r,Y,X=1,U=0,J;for(F=a.indexOf("%");-1!==F;F=a.indexOf("%",F)){n=void 0;J=0;A=E=-1;Y=void 0;y=F;F++;switch(a.charAt(F)){case "%":D=F;case "":case "\n":case "\x00":F++;continue}a:for(;F<va;F++)switch(a.charAt(F)){case " ":d();J|=16;continue a;case "#":d();J|=1;continue a;case "+":d();J|=4;continue a;case "-":d();J|=
2;continue a;case "0":d();J|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":L=l("width");if("$"===a.charAt(F+1)){if(F+2===va){n="%";F++;break a}void 0!==Y&&t.$raise(b.const_get_relative(H,"ArgumentError"),"value given twice - %"+L+"$");Y=h(L);F++}else g(),J|=32,E=L;continue a;case "<":case "{":for(ga="<"===a.charAt(F)?">":"}",L="",F++;;F++){F===va&&t.$raise(b.const_get_relative(H,"ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(F)===
ga)if(0<U&&t.$raise(b.const_get_relative(H,"ArgumentError"),"named "+L+" after unnumbered("+U+")"),-1===U&&t.$raise(b.const_get_relative(H,"ArgumentError"),"named "+L+" after numbered"),U=-2,void 0!==q[0]&&q[0].$$is_hash||t.$raise(b.const_get_relative(H,"ArgumentError"),"one hash required"),Y=q[0].$fetch(L),">"===ga)continue a;else{n=Y.toString();-1!==A&&(n=n.slice(0,A));if(J&2)for(;n.length<E;)n+=" ";else for(;n.length<E;)n=" "+n;break a}L+=a.charAt(F)}case "*":F++;g();J|=32;E=p("width");0>E&&(J|=
2,E=-E);continue a;case ".":J&128&&t.$raise(b.const_get_relative(H,"ArgumentError"),"precision given twice");J|=192;A=0;F++;if("*"===a.charAt(F)){F++;A=p("precision");0>A&&(J&=-65);continue a}A=l("precision");continue a;case "d":case "i":case "u":L=t.$Integer(k());if(0<=L){for(n=L.toString();n.length<A;)n="0"+n;if(J&2){if(J&4||J&16)n=(J&4?"+":" ")+n;for(;n.length<E;)n+=" "}else if(J&8&&-1===A){for(;n.length<E-(J&4||J&16?1:0);)n="0"+n;if(J&4||J&16)n=(J&4?"+":" ")+n}else{if(J&4||J&16)n=(J&4?"+":" ")+
n;for(;n.length<E;)n=" "+n}}else{for(n=(-L).toString();n.length<A;)n="0"+n;if(J&2)for(n="-"+n;n.length<E;)n+=" ";else if(J&8&&-1===A){for(;n.length<E-1;)n="0"+n;n="-"+n}else for(n="-"+n;n.length<E;)n=" "+n}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(F)){case "b":case "B":Ba=2;Aa="0b";O=/^1+/;r="1";break;case "o":Ba=8;Aa="0";O=/^3?7+/;r="7";break;case "x":case "X":Ba=16,Aa="0x",O=/^f+/,r="f"}L=t.$Integer(k());if(0<=L){for(n=L.toString(Ba);n.length<A;)n="0"+n;if(J&2){if(J&4||
J&16)n=(J&4?"+":" ")+n;for(J&1&&0!==L&&(n=Aa+n);n.length<E;)n+=" "}else if(J&8&&-1===A){for(;n.length<E-(J&4||J&16?1:0)-(J&1&&0!==L?Aa.length:0);)n="0"+n;J&1&&0!==L&&(n=Aa+n);if(J&4||J&16)n=(J&4?"+":" ")+n}else{J&1&&0!==L&&(n=Aa+n);if(J&4||J&16)n=(J&4?"+":" ")+n;for(;n.length<E;)n=" "+n}}else if(J&4||J&16){for(n=(-L).toString(Ba);n.length<A;)n="0"+n;if(J&2)for(J&1&&(n=Aa+n),n="-"+n;n.length<E;)n+=" ";else if(J&8&&-1===A){for(;n.length<E-1-(J&1?2:0);)n="0"+n;J&1&&(n=Aa+n);n="-"+n}else for(J&1&&(n=
Aa+n),n="-"+n;n.length<E;)n=" "+n}else{for(n=(L>>>0).toString(Ba).replace(O,r);n.length<A-2;)n=r+n;if(J&2)for(n=".."+n,J&1&&(n=Aa+n);n.length<E;)n+=" ";else if(J&8&&-1===A){for(;n.length<E-2-(J&1?Aa.length:0);)n=r+n;n=".."+n;J&1&&(n=Aa+n)}else for(n=".."+n,J&1&&(n=Aa+n);n.length<E;)n=" "+n}a.charAt(F)===a.charAt(F).toUpperCase()&&(n=n.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":L=t.$Float(k());if(0<=L||isNaN(L)){if(Infinity===L)n="Inf";else switch(a.charAt(F)){case "f":n=L.toFixed(-1===
A?6:A);break;case "e":case "E":n=L.toExponential(-1===A?6:A);break;case "g":case "G":n=L.toExponential(),ga=parseInt(n.split("e")[1],10),-4>ga||ga>=(-1===A?6:A)||(n=L.toPrecision(-1===A?J&1?6:void 0:A))}if(J&2){if(J&4||J&16)n=(J&4?"+":" ")+n;for(;n.length<E;)n+=" "}else if(J&8&&Infinity!==L&&!isNaN(L)){for(;n.length<E-(J&4||J&16?1:0);)n="0"+n;if(J&4||J&16)n=(J&4?"+":" ")+n}else{if(J&4||J&16)n=(J&4?"+":" ")+n;for(;n.length<E;)n=" "+n}}else{if(-Infinity===L)n="Inf";else switch(a.charAt(F)){case "f":n=
(-L).toFixed(-1===A?6:A);break;case "e":case "E":n=(-L).toExponential(-1===A?6:A);break;case "g":case "G":n=(-L).toExponential(),ga=parseInt(n.split("e")[1],10),-4>ga||ga>=(-1===A?6:A)||(n=(-L).toPrecision(-1===A?J&1?6:void 0:A))}if(J&2)for(n="-"+n;n.length<E;)n+=" ";else if(J&8&&-Infinity!==L){for(;n.length<E-1;)n="0"+n;n="-"+n}else for(n="-"+n;n.length<E;)n=" "+n}a.charAt(F)!==a.charAt(F).toUpperCase()||Infinity===L||-Infinity===L||isNaN(L)||(n=n.toUpperCase());n=n.replace(/([eE][-+]?)([0-9])$/,
"$10$2");break a;case "a":case "A":t.$raise(b.const_get_relative(H,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":L=k();L["$respond_to?"]("to_ary")&&(L=L.$to_ary()[0]);n=L["$respond_to?"]("to_str")?L.$to_str():String.fromCharCode(b.const_get_relative(H,"Opal").$coerce_to(L,b.const_get_relative(H,"Integer"),"to_int"));1!==n.length&&t.$raise(b.const_get_relative(H,"ArgumentError"),"%c requires a character");if(J&2)for(;n.length<E;)n+=" ";else for(;n.length<
E;)n=" "+n;break a;case "p":n=k().$inspect();-1!==A&&(n=n.slice(0,A));if(J&2)for(;n.length<E;)n+=" ";else for(;n.length<E;)n=" "+n;break a;case "s":n=k().$to_s();-1!==A&&(n=n.slice(0,A));if(J&2)for(;n.length<E;)n+=" ";else for(;n.length<E;)n=" "+n;break a;default:t.$raise(b.const_get_relative(H,"ArgumentError"),"malformed format string - %"+a.charAt(F))}void 0===n&&t.$raise(b.const_get_relative(H,"ArgumentError"),"malformed format string - %");Na+=a.slice(D,y)+n;D=F+1}m.DEBUG&&0<=U&&X<q.length&&t.$raise(b.const_get_relative(H,
"ArgumentError"),"too many arguments for format string");return Na+a.slice(D)},P.$$arity=-2);b.def(D,"$hash",L=function(){return this.$__id__()},L.$$arity=0);b.def(D,"$initialize_copy",U=function(a){return B},U.$$arity=1);b.def(D,"$inspect",J=function(){return this.$to_s()},J.$$arity=0);b.def(D,"$instance_of?",Q=function(a){a.$$is_class||a.$$is_module||this.$raise(b.const_get_relative(H,"TypeError"),"class or module required");return this.$$class===a},Q.$$arity=1);b.def(D,"$instance_variable_defined?",
R=function(a){a=b.const_get_relative(H,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,a.substr(1))},R.$$arity=1);b.def(D,"$instance_variable_get",V=function(a){a=b.const_get_relative(H,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?B:a},V.$$arity=1);b.def(D,"$instance_variable_set",ba=function(a,c){a=b.const_get_relative(H,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=c},ba.$$arity=2);b.def(D,"$remove_instance_variable",
N=function(a){a=b.const_get_relative(H,"Opal")["$instance_variable_name!"](a);var c=b.ivar(a.substr(1));return this.hasOwnProperty(c)?(a=this[c],delete this[c],a):this.$raise(b.const_get_relative(H,"NameError"),"instance variable "+a+" not defined")},N.$$arity=1);b.def(D,"$instance_variables",O=function(){var a=[],b,c;for(c in this)this.hasOwnProperty(c)&&"$"!==c.charAt(0)&&(b="$"===c.substr(-1)?c.slice(0,c.length-1):c,a.push("@"+b));return a},O.$$arity=0);b.def(D,"$Integer",ma=function(a,c){var d=
this,g,e;if(!a.$$is_string)return void 0!==c&&d.$raise(b.const_get_relative(H,"ArgumentError"),"base specified for non string value"),a===B&&d.$raise(b.const_get_relative(H,"TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&d.$raise(b.const_get_relative(H,"FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(g=a.$to_int(),g!==B)?g:b.const_get_relative(H,"Opal")["$coerce_to!"](a,b.const_get_relative(H,"Integer"),"to_i");if("0"===a)return 0;
void 0===c?c=0:(c=b.const_get_relative(H,"Opal").$coerce_to(c,b.const_get_relative(H,"Integer"),"to_int"),(1===c||0>c||36<c)&&d.$raise(b.const_get_relative(H,"ArgumentError"),"invalid radix "+c));g=a.toLowerCase();g=g.replace(/(\d)_(?=\d)/g,"$1");g=g.replace(/^(\s*[+-]?)(0[bodx]?)/,function(g,e,f){switch(f){case "0b":if(0===c||2===c)return c=2,e;case "0":case "0o":if(0===c||8===c)return c=8,e;case "0d":if(0===c||10===c)return c=10,e;case "0x":if(0===c||16===c)return c=16,e}d.$raise(b.const_get_relative(H,
"ArgumentError"),'invalid value for Integer(): "'+a+'"')});c=0===c?10:c;e="0-"+(10>=c?c-1:"9a-"+String.fromCharCode(97+(c-11)));(new RegExp("^\\s*[+-]?["+e+"]+\\s*$")).test(g)||d.$raise(b.const_get_relative(H,"ArgumentError"),'invalid value for Integer(): "'+a+'"');g=parseInt(g,c);isNaN(g)&&d.$raise(b.const_get_relative(H,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return g},ma.$$arity=-2);b.def(D,"$Float",da=function(a){var c;a===B&&this.$raise(b.const_get_relative(H,"TypeError"),"can't convert nil into Float");
if(a.$$is_string){c=a.toString();c=c.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(c))return this.$Integer(c);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(c)||this.$raise(b.const_get_relative(H,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(c)}return b.const_get_relative(H,"Opal")["$coerce_to!"](a,b.const_get_relative(H,"Float"),"to_f")},da.$$arity=1);b.def(D,"$Hash",I=function(a){var c;return v(v(c=a["$nil?"]())?c:a["$=="]([]))?w([],{}):
v(b.const_get_relative(H,"Hash")["$==="](a))?a:b.const_get_relative(H,"Opal")["$coerce_to!"](a,b.const_get_relative(H,"Hash"),"to_hash")},I.$$arity=1);b.def(D,"$is_a?",pa=function(a){a.$$is_class||a.$$is_module||this.$raise(b.const_get_relative(H,"TypeError"),"class or module required");return b.is_a(this,a)},pa.$$arity=1);b.def(D,"$itself",C=function(){return this},C.$$arity=0);b.alias(D,"kind_of?","is_a?");b.def(D,"$lambda",Z=function(){var a=Z.$$p,b=a||B;a&&(Z.$$p=null);b.$$is_lambda=!0;return b},
Z.$$arity=0);b.def(D,"$load",fa=function(a){a=b.const_get_relative(H,"Opal")["$coerce_to!"](a,b.const_get_relative(H,"String"),"to_str");return b.load(a)},fa.$$arity=1);b.def(D,"$loop",K=function(){var a,c=K.$$p,d=c||B,g=B;c&&(K.$$p=null);if(d===B)return z(this,"enum_for",["loop"],(a=function(){return b.const_get_qualified(b.const_get_relative(H,"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;v(!0);)try{b.yieldX(d,[])}catch(e){if(b.rescue(e,[b.const_get_relative(H,"StopIteration")])){g=e;try{return g.$result()}finally{b.pop_exception()}}else throw e;
}return this},K.$$arity=0);b.def(D,"$nil?",ka=function(){return!1},ka.$$arity=0);b.alias(D,"object_id","__id__");b.def(D,"$printf",oa=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];v(c["$any?"]())&&this.$print(z(this,"format",b.to_a(c)));return B},oa.$$arity=-1);b.def(D,"$proc",aa=function(){var a=aa.$$p,c=a||B;a&&(aa.$$p=null);v(c)||this.$raise(b.const_get_relative(H,"ArgumentError"),"tried to create Proc object without a block");c.$$is_lambda=
!1;return c},aa.$$arity=0);b.def(D,"$puts",ia=function(a){var c;null==m.stdout&&(m.stdout=B);var d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];return z(m.stdout,"puts",b.to_a(c))},ia.$$arity=-1);b.def(D,"$p",za=function(a){var b,c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];z(c,"each",[],(b=function(a){null==m.stdout&&(m.stdout=B);null==a&&(a=B);return m.stdout.$puts(a.$inspect())},b.$$s=this,b.$$arity=1,b));return v(x(c.$length(),
1))?c["$[]"](0):c},za.$$arity=-1);b.def(D,"$print",qa=function(a){var c;null==m.stdout&&(m.stdout=B);var d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];return z(m.stdout,"print",b.to_a(c))},qa.$$arity=-1);b.def(D,"$warn",na=function(a){var c,d;null==m.VERBOSE&&(m.VERBOSE=B);null==m.stderr&&(m.stderr=B);var g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];return v(v(c=m.VERBOSE["$nil?"]())?c:d["$empty?"]())?B:z(m.stderr,
"puts",b.to_a(d))},na.$$arity=-1);b.def(D,"$raise",ra=function(a,c,d){null==m["!"]&&(m["!"]=B);null==c&&(c=B);if(null==a&&m["!"]!==B)throw m["!"];null==a?a=b.const_get_relative(H,"RuntimeError").$new():a.$$is_string?a=b.const_get_relative(H,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(c):a["$is_a?"](b.const_get_relative(H,"Exception"))||(a=b.const_get_relative(H,"TypeError").$new("exception class/object expected"));m["!"]!==B&&b.exceptions.push(m["!"]);m["!"]=
a;throw a;},ra.$$arity=-1);b.alias(D,"fail","raise");b.def(D,"$rand",ta=function(a){if(void 0===a)return b.const_get_qualified(b.const_get_relative(H,"Random"),"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return b.const_get_qualified(b.const_get_relative(H,"Random"),"DEFAULT").$rand(a)},ta.$$arity=-1);b.def(D,"$respond_to?",ua=function(a,b){null==b&&(b=!1);if(v(this["$respond_to_missing?"](a,b)))return!0;var c=this["$"+a];return"function"!==typeof c||
c.$$stub?!1:!0},ua.$$arity=-2);b.def(D,"$respond_to_missing?",Ca=function(a,b){return!1},Ca.$$arity=-2);b.def(D,"$require",va=function(a){a=b.const_get_relative(H,"Opal")["$coerce_to!"](a,b.const_get_relative(H,"String"),"to_str");return b.require(a)},va.$$arity=1);b.def(D,"$require_relative",Ba=function(a){b.const_get_relative(H,"Opal")["$try_convert!"](a,b.const_get_relative(H,"String"),"to_str");a=b.const_get_relative(H,"File").$expand_path(b.const_get_relative(H,"File").$join(b.current_file,"..",
a));return b.require(a)},Ba.$$arity=1);b.def(D,"$require_tree",Fa=function(a){var c=[];a=b.const_get_relative(H,"File").$expand_path(a);a=b.normalize(a);"."===a&&(a="");for(var d in b.modules)d["$start_with?"](a)&&c.push([d,b.require(d)]);return c},Fa.$$arity=1);b.alias(D,"send","__send__");b.alias(D,"public_send","__send__");b.def(D,"$singleton_class",Ga=function(){return b.get_singleton_class(this)},Ga.$$arity=0);b.def(D,"$sleep",Ia=function(a){null==a&&(a=B);a===B&&this.$raise(b.const_get_relative(H,
"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(b.const_get_relative(H,"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(b.const_get_relative(H,"ArgumentError"),"time interval must be positive");for(var c=b.global.performance?function(){return performance.now()}:function(){return new Date},d=c();c()-d<=1E3*a;);return a},Ia.$$arity=-1);b.alias(D,"sprintf","format");b.def(D,"$srand",Aa=function(a){null==a&&(a=b.const_get_relative(H,
"Random").$new_seed());return b.const_get_relative(H,"Random").$srand(a)},Aa.$$arity=-1);b.def(D,"$String",Ka=function(a){var c;return v(c=b.const_get_relative(H,"Opal")["$coerce_to?"](a,b.const_get_relative(H,"String"),"to_str"))?c:b.const_get_relative(H,"Opal")["$coerce_to!"](a,b.const_get_relative(H,"String"),"to_s")},Ka.$$arity=1);b.def(D,"$tap",Ja=function(){var a=Ja.$$p,c=a||B;a&&(Ja.$$p=null);b.yield1(c,this);return this},Ja.$$arity=0);b.def(D,"$to_proc",La=function(){return this},La.$$arity=
0);b.def(D,"$to_s",la=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},la.$$arity=0);b.def(D,"$catch",Ha=function(a){var c=Ha.$$p,d=c||B,g=B;c&&(Ha.$$p=null);try{return b.yieldX(d,[])}catch(e){if(b.rescue(e,[b.const_get_relative(H,"UncaughtThrowError")])){g=e;try{return g.$sym()["$=="](a)?g.$arg():this.$raise()}finally{b.pop_exception()}}else throw e;}},Ha.$$arity=1);b.def(D,"$throw",F=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-
0]=arguments[g];return this.$raise(b.const_get_relative(H,"UncaughtThrowError"),c)},F.$$arity=-1);b.def(D,"$open",xa=function(a){var c,d=xa.$$p,g=d||B,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];d&&(xa.$$p=null);return z(b.const_get_relative(H,"File"),"open",b.to_a(c),g.$to_proc())},xa.$$arity=-1);b.def(D,"$yield_self",ga=function(){var a,c=ga.$$p,d=c||B;c&&(ga.$$p=null);return d===B?z(this,"enum_for",["yield_self"],(a=function(){return 1},a.$$s=this,a.$$arity=
0,a)):b.yield1(d,this)},ga.$$arity=0)})(C[0],C);return function(a,$super,D){function H(){}a=H=r(a,$super,"Object",H);D=[a].concat(D);return a.$include(b.const_get_relative(D,"Kernel"))}(C[0],null,C)},Opal.modules["corelib/error"]=function(b){var x=[],C=b.nil,B=b.klass,u=b.send,v=b.truthy,m=b.module,w=b.hash2;b.add_stubs("$new $clone $to_s $empty? $class $+ $attr_reader $[] $> $length $inspect $raise".split(" "));(function(m,$super,a){function g(){}m=g=B(m,$super,"Exception",g);var D=m.$$proto;[m].concat(a);
var H,p,q,f,c,k,e,d;D.message=C;var h;b.defs(m,"$new",H=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];d=0<c.length?c[0]:C;g=new this.$$alloc(d);g.name=this.$$name;g.message=d;b.send(g,g.$initialize,c);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(g,h);return g},H.$$arity=-1);h=m.$new;b.defs(m,"$exception",p=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];
return u(this,"new",b.to_a(c))},p.$$arity=-1);b.def(m,"$initialize",q=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.message=0<b.length?b[0]:C},q.$$arity=-1);b.def(m,"$backtrace",f=function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},f.$$arity=0);b.def(m,"$exception",c=function(a){null==a&&(a=C);if(a===C||this===a)return this;var b=this.$clone();b.message=a;return b},c.$$arity=-1);
b.def(m,"$message",k=function(){return this.$to_s()},k.$$arity=0);b.def(m,"$inspect",e=function(){var a=C,a=this.$to_s();return v(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},e.$$arity=0);return(b.def(m,"$to_s",d=function(){var a,b;return v(a=v(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},d.$$arity=0),C)&&"to_s"})(x[0],Error,x);(function(b,$super,a){function g(){}[g=B(b,$super,"ScriptError",g)].concat(a);return C})(x[0],b.const_get_relative(x,
"Exception"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"SyntaxError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"ScriptError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"LoadError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"ScriptError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"NotImplementedError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"ScriptError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"SystemExit",g)].concat(a);
return C})(x[0],b.const_get_relative(x,"Exception"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"NoMemoryError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"Exception"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"SignalException",g)].concat(a);return C})(x[0],b.const_get_relative(x,"Exception"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"Interrupt",g)].concat(a);return C})(x[0],b.const_get_relative(x,"Exception"),x);(function(b,$super,a){function g(){}[g=B(b,
$super,"SecurityError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"Exception"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"StandardError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"Exception"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"EncodingError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"ZeroDivisionError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),
x);(function(b,$super,a){function g(){}[g=B(b,$super,"NameError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"NoMethodError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"NameError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"RuntimeError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"FrozenError",g)].concat(a);return C})(x[0],
b.const_get_relative(x,"RuntimeError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"LocalJumpError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"TypeError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"ArgumentError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,
"IndexError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"StopIteration",g)].concat(a);return C})(x[0],b.const_get_relative(x,"IndexError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"KeyError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"IndexError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"RangeError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(b,
$super,a){function g(){}[g=B(b,$super,"FloatDomainError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"RangeError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"IOError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(b,$super,a){function g(){}[g=B(b,$super,"SystemCallError",g)].concat(a);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(z,r){var a=[m(z,"Errno")].concat(r);(function(a,$super,H){function p(){}a=p=B(a,$super,"EINVAL",
p);[a].concat(H);var q;return(b.defs(a,"$new",q=function(a){var c=q.$$p,g=C;null==a&&(a=C);c&&(q.$$p=null);g="Invalid argument";v(a)&&(a=" - "+a,g="number"===typeof g&&"number"===typeof a?g+a:g["$+"](a));return u(this,b.find_super_dispatcher(this,"new",q,!1,p),[g],null)},q.$$arity=-1),C)&&"new"})(a[0],b.const_get_relative(a,"SystemCallError"),a)})(x[0],x);(function(m,$super,a){function g(){}m=g=B(m,$super,"UncaughtThrowError",g);var D=m.$$proto;[m].concat(a);var H;D.sym=C;m.$attr_reader("sym","arg");
return(b.def(m,"$initialize",H=function(a){H.$$p&&(H.$$p=null);this.sym=a["$[]"](0);var g;g=a.$length();g="number"===typeof g?1<g:g["$>"](1);v(g)&&(this.arg=a["$[]"](1));return u(this,b.find_super_dispatcher(this,"initialize",H,!1),["uncaught throw "+this.sym.$inspect()],null)},H.$$arity=1),C)&&"initialize"})(x[0],b.const_get_relative(x,"ArgumentError"),x);(function(m,$super,a){function g(){}m=g=B(m,$super,"NameError",g);[m].concat(a);var D;m.$attr_reader("name");return(b.def(m,"$initialize",D=function(a,
g){var q=D.$$p;null==g&&(g=C);q&&(D.$$p=null);u(this,b.find_super_dispatcher(this,"initialize",D,!1),[a],null);return this.name=g},D.$$arity=-2),C)&&"initialize"})(x[0],null,x);(function(m,$super,a){function g(){}m=g=B(m,$super,"NoMethodError",g);[m].concat(a);var D;m.$attr_reader("args");return(b.def(m,"$initialize",D=function(a,g,q){var f=D.$$p;null==g&&(g=C);null==q&&(q=[]);f&&(D.$$p=null);u(this,b.find_super_dispatcher(this,"initialize",D,!1),[a,g],null);return this.args=q},D.$$arity=-2),C)&&
"initialize"})(x[0],null,x);(function(b,$super,a){function g(){}b=g=B(b,$super,"StopIteration",g);[b].concat(a);return b.$attr_reader("result")})(x[0],null,x);(function(m,$super,a){function g(){}m=g=B(m,$super,"KeyError",g);var D=m.$$proto,H=[m].concat(a),p,q,f;D.receiver=D.key=C;b.def(m,"$initialize",p=function(a,g){var e,d,f=p.$$p;if(null==g||!g.$$is_hash)if(null==g)g=w([],{});else throw b.ArgumentError.$new("expected kwargs");e=g.$$smap.receiver;null==e&&(e=C);d=g.$$smap.key;null==d&&(d=C);f&&
(p.$$p=null);u(this,b.find_super_dispatcher(this,"initialize",p,!1),[a],null);this.receiver=e;return this.key=d},p.$$arity=-2);b.def(m,"$receiver",q=function(){var a;return v(a=this.receiver)?a:this.$raise(b.const_get_relative(H,"ArgumentError"),"no receiver is available")},q.$$arity=0);return(b.def(m,"$key",f=function(){var a;return v(a=this.key)?a:this.$raise(b.const_get_relative(H,"ArgumentError"),"no key is available")},f.$$arity=0),C)&&"key"})(x[0],null,x);return function(b,r){var a=[m(b,"JS")].concat(r);
(function(a,$super,b){function p(){}[p=B(a,$super,"Error",p)].concat(b);return C})(a[0],null,a)}(x[0],x)},Opal.modules["corelib/constants"]=function(b){var x=[];b.const_set(x[0],"RUBY_PLATFORM","opal");b.const_set(x[0],"RUBY_ENGINE","opal");b.const_set(x[0],"RUBY_VERSION","2.5.0");b.const_set(x[0],"RUBY_ENGINE_VERSION","0.11.1.dev");b.const_set(x[0],"RUBY_RELEASE_DATE","2018-03-06");b.const_set(x[0],"RUBY_PATCHLEVEL",0);b.const_set(x[0],"RUBY_REVISION",0);b.const_set(x[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");
return b.const_set(x[0],"RUBY_DESCRIPTION","opal "+b.const_get_relative(x,"RUBY_ENGINE_VERSION")+" ("+b.const_get_relative(x,"RUBY_RELEASE_DATE")+" revision "+b.const_get_relative(x,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(b){var x=b.top;b.add_stubs(["$require"]);x.$require("corelib/runtime");x.$require("corelib/helpers");x.$require("corelib/module");x.$require("corelib/class");x.$require("corelib/basic_object");x.$require("corelib/kernel");x.$require("corelib/error");return x.$require("corelib/constants")},
Opal.modules["corelib/nil"]=function(b){var x=[],C=b.nil,B=b.klass,u=b.hash2,v=b.truthy;b.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(m,$super,z){function r(){}m=r=B(m,$super,"NilClass",r);var a=m.$$proto,g=[m].concat(z),D,H,p,q,f,c,k,e,d,h,t,Y,l,Ea,n,X,W,E;a.$$meta=m;(function(a,c){var d=[a].concat(c),g;b.def(a,"$allocate",g=function(){return this.$raise(b.const_get_relative(d,"TypeError"),"allocator undefined for "+this.$name())},g.$$arity=0);b.udef(a,"$new");return C})(b.get_singleton_class(m),
g);b.def(m,"$!",D=function(){return!0},D.$$arity=0);b.def(m,"$&",H=function(a){return!1},H.$$arity=1);b.def(m,"$|",p=function(a){return!1!==a&&a!==C},p.$$arity=1);b.def(m,"$^",q=function(a){return!1!==a&&a!==C},q.$$arity=1);b.def(m,"$==",f=function(a){return a===C},f.$$arity=1);b.def(m,"$dup",c=function(){return C},c.$$arity=0);b.def(m,"$clone",k=function(a){if(null==a||!a.$$is_hash)if(null==a)u([],{});else throw b.ArgumentError.$new("expected kwargs");return C},k.$$arity=-1);b.def(m,"$inspect",e=
function(){return"nil"},e.$$arity=0);b.def(m,"$nil?",d=function(){return!0},d.$$arity=0);b.def(m,"$singleton_class",h=function(){return b.const_get_relative(g,"NilClass")},h.$$arity=0);b.def(m,"$to_a",t=function(){return[]},t.$$arity=0);b.def(m,"$to_h",Y=function(){return b.hash()},Y.$$arity=0);b.def(m,"$to_i",l=function(){return 0},l.$$arity=0);b.alias(m,"to_f","to_i");b.def(m,"$to_s",Ea=function(){return""},Ea.$$arity=0);b.def(m,"$to_c",n=function(){return b.const_get_relative(g,"Complex").$new(0,
0)},n.$$arity=0);b.def(m,"$rationalize",X=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=c.$length();d="number"===typeof d?1<d:d["$>"](1);v(d)&&this.$raise(b.const_get_relative(g,"ArgumentError"));return this.$Rational(0,1)},X.$$arity=-1);b.def(m,"$to_r",W=function(){return this.$Rational(0,1)},W.$$arity=0);return(b.def(m,"$instance_variables",E=function(){return[]},E.$$arity=0),C)&&"instance_variables"})(x[0],null,x);return b.const_set(x[0],
"NIL",C)},Opal.modules["corelib/boolean"]=function(b){var x=[],C=b.nil,B=b.klass,u=b.hash2;b.add_stubs(["$raise","$name"]);(function(v,$super,w){function z(){}v=z=B(v,$super,"Boolean",z);var r=v.$$proto,a=[v].concat(w),g,D,H,p,q,f,c,k,e,d;r.$$is_boolean=!0;r.$$meta=v;(function(a,c){var d=[a].concat(c),g;b.def(a,"$allocate",g=function(){return this.$raise(b.const_get_relative(d,"TypeError"),"allocator undefined for "+this.$name())},g.$$arity=0);b.udef(a,"$new");return C})(b.get_singleton_class(v),
a);b.def(v,"$__id__",g=function(){return this.valueOf()?2:0},g.$$arity=0);b.alias(v,"object_id","__id__");b.def(v,"$!",D=function(){return 1!=this},D.$$arity=0);b.def(v,"$&",H=function(a){return 1==this?!1!==a&&a!==C:!1},H.$$arity=1);b.def(v,"$|",p=function(a){return 1==this?!0:!1!==a&&a!==C},p.$$arity=1);b.def(v,"$^",q=function(a){return 1==this?!1===a||a===C:!1!==a&&a!==C},q.$$arity=1);b.def(v,"$==",f=function(a){return 1==this===a.valueOf()},f.$$arity=1);b.alias(v,"equal?","==");b.alias(v,"eql?",
"==");b.def(v,"$singleton_class",c=function(){return b.const_get_relative(a,"Boolean")},c.$$arity=0);b.def(v,"$to_s",k=function(){return 1==this?"true":"false"},k.$$arity=0);b.def(v,"$dup",e=function(){return this},e.$$arity=0);return(b.def(v,"$clone",d=function(a){if(null==a||!a.$$is_hash)if(null==a)u([],{});else throw b.ArgumentError.$new("expected kwargs");return this},d.$$arity=-1),C)&&"clone"})(x[0],Boolean,x);b.const_set(x[0],"TrueClass",b.const_get_relative(x,"Boolean"));b.const_set(x[0],"FalseClass",
b.const_get_relative(x,"Boolean"));b.const_set(x[0],"TRUE",!0);return b.const_set(x[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(b){function x(b,m){return"number"===typeof b&&"number"===typeof m?b>m:b["$>"](m)}function C(b,m){return"number"===typeof b&&"number"===typeof m?b<m:b["$<"](m)}var B=[],u=b.nil,v=b.module,m=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(w,z){var r=v(w,"Comparable"),a=[r].concat(z),g,D,H,p,q,f,c,k;b.defs(r,
"$normalize",g=function(c){return m(b.const_get_relative(a,"Integer")["$==="](c))?c:m(x(c,0))?1:m(C(c,0))?-1:0},g.$$arity=1);b.def(r,"$==",D=function(c){var d=u;try{return m(this["$equal?"](c))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):m(d=this["$<=>"](c))?0==b.const_get_relative(a,"Comparable").$normalize(d):!1}catch(g){if(b.rescue(g,[b.const_get_relative(a,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw g;}},D.$$arity=1);b.def(r,"$>",
H=function(c){var d=u;m(d=this["$<=>"](c))||this.$raise(b.const_get_relative(a,"ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed");return 0<b.const_get_relative(a,"Comparable").$normalize(d)},H.$$arity=1);b.def(r,"$>=",p=function(c){var d=u;m(d=this["$<=>"](c))||this.$raise(b.const_get_relative(a,"ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed");return 0<=b.const_get_relative(a,"Comparable").$normalize(d)},p.$$arity=1);b.def(r,"$<",q=function(c){var d=
u;m(d=this["$<=>"](c))||this.$raise(b.const_get_relative(a,"ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed");return 0>b.const_get_relative(a,"Comparable").$normalize(d)},q.$$arity=1);b.def(r,"$<=",f=function(c){var d=u;m(d=this["$<=>"](c))||this.$raise(b.const_get_relative(a,"ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed");return 0>=b.const_get_relative(a,"Comparable").$normalize(d)},f.$$arity=1);b.def(r,"$between?",c=function(a,b){return C(this,
a)||x(this,b)?!1:!0},c.$$arity=2);b.def(r,"$clamp",k=function(c,d){var g=u,g=c["$<=>"](d);m(g)||this.$raise(b.const_get_relative(a,"ArgumentError"),"comparison of "+c.$class()+" with "+d.$class()+" failed");m(x(b.const_get_relative(a,"Comparable").$normalize(g),0))&&this.$raise(b.const_get_relative(a,"ArgumentError"),"min argument must be smaller than max argument");return m(C(b.const_get_relative(a,"Comparable").$normalize(this["$<=>"](c)),0))?c:m(x(b.const_get_relative(a,"Comparable").$normalize(this["$<=>"](d)),
0))?d:this},k.$$arity=2)}(B[0],B)},Opal.modules["corelib/regexp"]=function(b){var x=[],C=b.nil,B=b.klass,u=b.send,v=b.truthy,m=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(b,$super,m){function a(){}[a=B(b,$super,"RegexpError",a)].concat(m);return C})(x[0],b.const_get_relative(x,"StandardError"),x);(function(w,$super,r){function a(){}w=a=B(w,$super,"Regexp",a);
var g=w.$$proto,D=[w].concat(r),H,p,q,f,c,k,e,d,h,t;b.const_set(D[0],"IGNORECASE",1);b.const_set(D[0],"EXTENDED",2);b.const_set(D[0],"MULTILINE",4);g.$$is_regexp=!0;(function(a,c){var d=[a].concat(c),g,e,f,h,k;b.def(a,"$allocate",g=function(){var a=g.$$p,c=C,d=c=C,e=C;a&&(g.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];c=u(this,b.find_super_dispatcher(this,"allocate",g,!1),c,a);c.uninitialized=!0;return c},g.$$arity=0);b.def(a,"$escape",e=function(a){return b.escape_regexp(a)},
e.$$arity=1);b.def(a,"$last_match",f=function(a){null==m["~"]&&(m["~"]=C);null==a&&(a=C);return v(a["$nil?"]())?m["~"]:m["~"]["$[]"](a)},f.$$arity=-1);b.alias(a,"quote","escape");b.def(a,"$union",h=function(a){var c,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var e=0;e<g;e++)c[e-0]=arguments[e];var f,h;if(0==c.length)return/(?!)/;if(1==c.length&&c[0].$$is_regexp)return c[0];g=c[0].$$is_array;1<c.length&&g&&this.$raise(b.const_get_relative(d,"TypeError"),"no implicit conversion of Array into String");
g&&(c=c[0]);f=void 0;for(var g=[],k=0;k<c.length;k++)e=c[k],e.$$is_string?g.push(this.$escape(e)):e.$$is_regexp?(h=e.$options(),void 0!=f&&f!=h&&this.$raise(b.const_get_relative(d,"TypeError"),"All expressions must use the same options"),f=h,g.push("("+e.source+")")):g.push(this.$escape(e.$to_str()));return this.$new(g.$join("|"),f)},h.$$arity=-1);return(b.def(a,"$new",k=function(a,c){if(a.$$is_regexp)return new RegExp(a);a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"String"),
"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(b.const_get_relative(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===c||c["$!"]())return new RegExp(a);if(c.$$is_number){var g="";b.const_get_relative(d,"IGNORECASE")&c&&(g+="i");b.const_get_relative(d,"MULTILINE")&c&&(g+="m");c=g}else c="i";return new RegExp(a,c)},k.$$arity=-2),C)&&"new"})(b.get_singleton_class(w),D);b.def(w,"$==",H=function(a){return a.constructor==RegExp&&this.toString()===a.toString()},
H.$$arity=1);b.def(w,"$===",p=function(a){return this.$match(b.const_get_relative(D,"Opal")["$coerce_to?"](a,b.const_get_relative(D,"String"),"to_str"))!==C},p.$$arity=1);b.def(w,"$=~",q=function(a){var b;null==m["~"]&&(m["~"]=C);return v(b=this.$match(a))?m["~"].$begin(0):b},q.$$arity=1);b.alias(w,"eql?","==");b.def(w,"$inspect",f=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){for(var a=b[2],b=b[1].split(""),c=b.length,d=!1,g="",e=0;e<c;e++){var f=b[e];d||"/"!=f||(g=g.concat("\\"));
g=g.concat(f);d="\\"==f?d?!1:!0:!1}return"/"+g+"/"+a}return a},f.$$arity=0);b.def(w,"$match",c=function(a,d){var g=c.$$p,e=g||C;null==m["~"]&&(m["~"]=C);g&&(c.$$p=null);this.uninitialized&&this.$raise(b.const_get_relative(D,"TypeError"),"uninitialized Regexp");d=void 0===d?0:b.const_get_relative(D,"Opal").$coerce_to(d,b.const_get_relative(D,"Integer"),"to_int");if(a===C)return m["~"]=C;a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"String"),"to_str");if(0>d&&(d+=a.length,0>
d))return m["~"]=C;var g=this.source,f="g";this.multiline&&(g=g.replace(".","[\\s\\S]"),f+="m");for(f=new RegExp(g,f+(this.ignoreCase?"i":""));;){g=f.exec(a);if(null===g)return m["~"]=C;if(g.index>=d)return m["~"]=b.const_get_relative(D,"MatchData").$new(f,g),e===C?m["~"]:b.yield1(e,m["~"]);f.lastIndex=g.index+1}},c.$$arity=-2);b.def(w,"$match?",k=function(a,c){this.uninitialized&&this.$raise(b.const_get_relative(D,"TypeError"),"uninitialized Regexp");c=void 0===c?0:b.const_get_relative(D,"Opal").$coerce_to(c,
b.const_get_relative(D,"Integer"),"to_int");if(a===C)return!1;a=b.const_get_relative(D,"Opal").$coerce_to(a,b.const_get_relative(D,"String"),"to_str");if(0>c&&(c+=a.length,0>c))return!1;var d=this.source,g="g";this.multiline&&(d=d.replace(".","[\\s\\S]"),g+="m");d=(new RegExp(d,g+(this.ignoreCase?"i":""))).exec(a);return null===d||d.index<c?!1:!0},k.$$arity=-2);b.def(w,"$~",e=function(){null==m._&&(m._=C);return this["$=~"](m._)},e.$$arity=0);b.def(w,"$source",d=function(){return this.source},d.$$arity=
0);b.def(w,"$options",h=function(){this.uninitialized&&this.$raise(b.const_get_relative(D,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=b.const_get_relative(D,"MULTILINE"));this.ignoreCase&&(a|=b.const_get_relative(D,"IGNORECASE"));return a},h.$$arity=0);b.def(w,"$casefold?",t=function(){return this.ignoreCase},t.$$arity=0);return b.alias(w,"to_s","source")})(x[0],RegExp,x);return function(w,$super,r){function a(){}w=a=B(w,$super,"MatchData",a);var g=w.$$proto,D=[w].concat(r),H,
p,q,f,c,k,e,d,h,t,Y,l;g.matches=C;w.$attr_reader("post_match","pre_match","regexp","string");b.def(w,"$initialize",H=function(a,b){m["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var c=0,d=b.length;c<d;c++){var g=b[c];null==g?this.matches.push(C):this.matches.push(g)}},H.$$arity=2);b.def(w,"$[]",p=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=
0;g<d;g++)c[g-0]=arguments[g];return u(this.matches,"[]",b.to_a(c))},p.$$arity=-1);b.def(w,"$offset",q=function(a){0!==a&&this.$raise(b.const_get_relative(D,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},q.$$arity=1);b.def(w,"$==",f=function(a){var c,d,g,e;return v(b.const_get_relative(D,"MatchData")["$==="](a))?v(c=v(d=v(g=v(e=this.string==a.string)?this.regexp.toString()==a.regexp.toString():e)?this.pre_match==a.pre_match:g)?
this.post_match==a.post_match:d)?this.begin==a.begin:c:!1},f.$$arity=1);b.alias(w,"eql?","==");b.def(w,"$begin",c=function(a){0!==a&&this.$raise(b.const_get_relative(D,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},c.$$arity=1);b.def(w,"$end",k=function(a){0!==a&&this.$raise(b.const_get_relative(D,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},k.$$arity=1);b.def(w,"$captures",e=function(){return this.matches.slice(1)},
e.$$arity=0);b.def(w,"$inspect",d=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,c=this.matches.length;b<c;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},d.$$arity=0);b.def(w,"$length",h=function(){return this.matches.length},h.$$arity=0);b.alias(w,"size","length");b.def(w,"$to_a",t=function(){return this.matches},t.$$arity=0);b.def(w,"$to_s",Y=function(){return this.matches[0]},Y.$$arity=0);return(b.def(w,"$values_at",l=function(a){var c,d=arguments.length;c=d-0;0>
c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];for(var e,g=[],d=0;d<c.length;d++){c[d].$$is_range&&(e=c[d].$to_a(),e.unshift(d,1),Array.prototype.splice.apply(c,e));e=b.const_get_relative(D,"Opal")["$coerce_to!"](c[d],b.const_get_relative(D,"Integer"),"to_int");if(0>e&&(e+=this.matches.length,0>e)){g.push(C);continue}g.push(this.matches[e])}return g},l.$$arity=-1),C)&&"values_at"}(x[0],null,x)},Opal.modules["corelib/string"]=function(b){function x(a,b){return"number"===typeof a&&"number"===
typeof b?a/b:a["$/"](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var B=b.top,u=[],v=b.nil,m=b.klass,w=b.truthy,z=b.send,r=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $succ $escape".split(" "));
B.$require("corelib/comparable");B.$require("corelib/regexp");(function(a,$super,D){function H(){}function p(a){function c(a){var d="",e,h=a.length,k,l;for(e=0;e<h;e++)if(k=a.charAt(e),"-"===k&&0<e&&e<h-1&&!l){l=a.charCodeAt(e-1);k=a.charCodeAt(e+1);l>k&&q.$raise(b.const_get_relative(f,"ArgumentError"),'invalid range "'+l+"-"+k+'" in string transliteration');for(l+=1;l<k+1;l++)d+=String.fromCharCode(l);l=!0;e++}else l="\\"===k,d+=k;return d}function d(a,b){if(0===a.length)return b;var c="",e,f=a.length,
h;for(e=0;e<f;e++)h=a.charAt(e),-1!==b.indexOf(h)&&(c+=h);return c}var e,h,k,l,t="",M="";e=0;for(h=a.length;e<h;e++)k=b.const_get_relative(f,"Opal").$coerce_to(a[e],b.const_get_relative(f,"String"),"to_str"),l="^"===k.charAt(0)&&1<k.length,k=c(l?k.slice(1):k),l?M=d(M,k):t=d(t,k);if(0<t.length&&0<M.length){k="";e=0;for(h=t.length;e<h;e++)a=t.charAt(e),-1===M.indexOf(a)&&(k+=a);t=k;M=""}return 0<t.length?"["+b.const_get_relative(f,"Regexp").$escape(t)+"]":0<M.length?"[^"+b.const_get_relative(f,"Regexp").$escape(M)+
"]":null}var q=H=m(a,$super,"String",H);a=q.$$proto;var f=[q].concat(D),c,k,e,d,h,t,Y,l,u,n,X,W,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,ba,N,O,ma,B,I,pa,ea,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua,Ca,va,Ba,Fa,Ga,Ia,Aa,Ka,Ja,La,la,Ha,F,xa,ga,S,ya,T,M,Ma,sa,Oa,Pa,Da,G;a.length=v;q.$include(b.const_get_relative(f,"Comparable"));a.$$is_string=!0;b.def(q,"$__id__",c=function(){return this.toString()},c.$$arity=0);b.alias(q,"object_id","__id__");b.defs(q,"$try_convert",k=function(a){return b.const_get_relative(f,"Opal")["$coerce_to?"](a,
b.const_get_relative(f,"String"),"to_str")},k.$$arity=1);b.defs(q,"$new",e=function(a){null==a&&(a="");a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str");return new String(a)},e.$$arity=-1);b.def(q,"$initialize",d=function(a){return void 0===a?this:this.$raise(b.const_get_relative(f,"NotImplementedError"),"Mutable strings are not supported in Opal.")},d.$$arity=-1);b.def(q,"$%",h=function(a){return w(b.const_get_relative(f,"Array")["$==="](a))?z(this,"format",
[this].concat(b.to_a(a))):this.$format(this,a)},h.$$arity=1);b.def(q,"$*",t=function(a){a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(f,"ArgumentError"),"negative argument");if(0===a)return"";var c="",d=this.toString();for(268435456<=d.length*a&&this.$raise(b.const_get_relative(f,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(c+=d);a>>>=1;if(0===a)break;d+=d}return c},t.$$arity=
1);b.def(q,"$+",Y=function(a){a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str");return this+a.$to_s()},Y.$$arity=1);b.def(q,"$<=>",l=function(a){if(w(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===v?v:0<a?-1:0>a?1:0},l.$$arity=1);b.def(q,"$==",u=function(a){return a.$$is_string?this.toString()===a.toString():b.const_get_relative(f,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},u.$$arity=1);
b.alias(q,"eql?","==");b.alias(q,"===","==");b.def(q,"$=~",n=function(a){a.$$is_string&&this.$raise(b.const_get_relative(f,"TypeError"),"type mismatch: String given");return a["$=~"](this)},n.$$arity=1);b.def(q,"$[]",X=function(a,c){var d=this.length,e;if(a.$$is_range){e=a.excl;c=b.const_get_relative(f,"Opal").$coerce_to(a.end,b.const_get_relative(f,"Integer"),"to_int");a=b.const_get_relative(f,"Opal").$coerce_to(a.begin,b.const_get_relative(f,"Integer"),"to_int");if(Math.abs(a)>d)return v;0>a&&(a+=
d);0>c&&(c+=d);e||(c+=1);c-=a;0>c&&(c=0);return this.substr(a,c)}if(a.$$is_string)return null!=c&&this.$raise(b.const_get_relative(f,"TypeError")),-1!==this.indexOf(a)?a:v;if(a.$$is_regexp){d=this.match(a);if(null===d)return r["~"]=v;r["~"]=b.const_get_relative(f,"MatchData").$new(a,d);if(null==c)return d[0];c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int");return 0>c&&-c<d.length?d[c+d.length]:0<=c&&c<d.length?d[c]:v}a=b.const_get_relative(f,"Opal").$coerce_to(a,
b.const_get_relative(f,"Integer"),"to_int");0>a&&(a+=d);if(null==c)return a>=d||0>a?v:this.substr(a,1);c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int");return 0>c||a>d||0>a?v:this.substr(a,c)},X.$$arity=-2);b.alias(q,"byteslice","[]");b.def(q,"$capitalize",W=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},W.$$arity=0);b.def(q,"$casecmp",E=function(a){var c=this;if(!w(a["$respond_to?"]("to_str")))return v;a=b.const_get_relative(f,
"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str").$to_s();var d=/^[\x00-\x7F]*$/;d.test(c)&&d.test(a)&&(c=c.toLowerCase(),a=a.toLowerCase());return c["$<=>"](a)},E.$$arity=1);b.def(q,"$casecmp?",ca=function(a){a=this.$casecmp(a);return a===v?v:0===a},ca.$$arity=1);b.def(q,"$center",wa=function(a,c){null==c&&(c=" ");a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str").$to_s();
w(c["$empty?"]())&&this.$raise(b.const_get_relative(f,"ArgumentError"),"zero width padding");if(w(a<=this.length))return this;var d=this.$ljust(x(C(a,this.length),2).$ceil(),c);return this.$rjust(x(C(a,this.length),2).$floor(),c)+d.slice(this.length)},wa.$$arity=-2);b.def(q,"$chars",y=function(){var a=y.$$p,b=a||v;a&&(y.$$p=null);return w(b)?z(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},y.$$arity=0);b.def(q,"$chomp",A=function(a){null==r["/"]&&(r["/"]=v);null==a&&(a=r["/"]);if(w(a===
v||0===this.length))return this;a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"String"),"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this},A.$$arity=-1);b.def(q,"$chop",ha=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)},ha.$$arity=0);
b.def(q,"$chr",ja=function(){return this.charAt(0)},ja.$$arity=0);b.def(q,"$clone",P=function(){var a=v,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},P.$$arity=0);b.def(q,"$dup",L=function(){var a=v,a=this.slice();a.$initialize_dup(this);return a},L.$$arity=0);b.def(q,"$count",U=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];0===c.length&&this.$raise(b.const_get_relative(f,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");
d=p(c);return null===d?0:this.length-this.replace(new RegExp(d,"g"),"").length},U.$$arity=-1);b.def(q,"$delete",J=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];0===c.length&&this.$raise(b.const_get_relative(f,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=p(c);return null===d?this:this.replace(new RegExp(d,"g"),"")},J.$$arity=-1);b.def(q,"$delete_prefix",Q=function(a){a.$$is_string||(a=b.const_get_relative(f,"Opal").$coerce_to(a,
b.const_get_relative(f,"String"),"to_str"));return this.slice(0,a.length)===a?this.slice(a.length):this},Q.$$arity=1);b.def(q,"$delete_suffix",R=function(a){a.$$is_string||(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.slice(0,this.length-a.length):this},R.$$arity=1);b.def(q,"$downcase",V=function(){return this.toLowerCase()},V.$$arity=0);b.def(q,"$each_char",ba=function(){var a,c=ba.$$p,d=c||v;c&&(ba.$$p=
null);if(d===v)return z(this,"enum_for",["each_char"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++)b.yield1(d,this.charAt(c));return this},ba.$$arity=0);b.def(q,"$each_line",N=function(a){var c=N.$$p,d=c||v;null==r["/"]&&(r["/"]=v);null==a&&(a=r["/"]);c&&(N.$$p=null);if(d===v)return this.$enum_for("each_line",a);if(a===v)return b.yield1(d,this),this;a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str");var e,
h,k;if(0===a.length){a=this.split(/(\n{2,})/);c=0;for(e=a.length;c<e;c+=2)(a[c]||a[c+1])&&b.yield1(d,(a[c]||"")+(a[c+1]||""));return this}c=this.$chomp(a);e=this.length!=c.length;k=c.split(a);c=0;for(h=k.length;c<h;c++)c<h-1||e?b.yield1(d,k[c]+a):b.yield1(d,k[c]);return this},N.$$arity=-1);b.def(q,"$empty?",O=function(){return 0===this.length},O.$$arity=0);b.def(q,"$end_with?",ma=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<
e;d++){var h=b.const_get_relative(f,"Opal").$coerce_to(c[d],b.const_get_relative(f,"String"),"to_str").$to_s();if(this.length>=h.length&&this.substr(this.length-h.length,h.length)==h)return!0}return!1},ma.$$arity=-1);b.alias(q,"equal?","===");b.def(q,"$gsub",B=function(a,c){var d=this,e=B.$$p,h=e||v;e&&(B.$$p=null);if(void 0===c&&h===v)return d.$enum_for("gsub",a);var e="",k=v,l=0,t,M;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,
"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){t=a.exec(d);if(null===t){r["~"]=v;e+=d.slice(l);break}k=b.const_get_relative(f,"MatchData").$new(a,t);void 0===c?M=h(t[0]):c.$$is_hash?M=c["$[]"](t[0]).$to_s():(c.$$is_string||(c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str")),M=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=t.length-1;0<a;a--)if(void 0!==t[a])return b.slice(1)+
t[a];return"";case "&":return b.slice(1)+t[0];case "`":return b.slice(1)+d.slice(0,t.index);case "'":return b.slice(1)+d.slice(t.index+t[0].length);default:return b.slice(1)+(t[c]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===t.index?(e+=M+d.slice(l,t.index+1),a.lastIndex+=1):e+=d.slice(l,t.index)+M;l=a.lastIndex}r["~"]=k;return e},B.$$arity=-2);b.def(q,"$hash",I=function(){return this.toString()},I.$$arity=0);b.def(q,"$hex",pa=function(){return this.$to_i(16)},pa.$$arity=0);b.def(q,"$include?",ea=
function(a){a.$$is_string||(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"));return-1!==this.indexOf(a)},ea.$$arity=1);b.def(q,"$index",Z=function(a,c){var d,e;if(void 0===c)c=0;else if(c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return v;if(a.$$is_regexp)for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){d=e.exec(this);if(null===d){r["~"]=v;d=-1;break}if(d.index>=c){r["~"]=b.const_get_relative(f,
"MatchData").$new(e,d);d=d.index;break}e.lastIndex=d.index+1}else a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),d=0===a.length&&c>this.length?-1:this.indexOf(a,c);return-1===d?v:d},Z.$$arity=-2);b.def(q,"$inspect",fa=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},fa.$$arity=0);b.def(q,"$intern",K=function(){return this},K.$$arity=0);b.def(q,"$lines",ka=function(a){var b=ka.$$p,c=b||v,d=v;null==r["/"]&&(r["/"]=v);null==a&&(a=r["/"]);b&&(ka.$$p=null);d=z(this,"each_line",[a],c.$to_proc());return w(c)?this:d.$to_a()},ka.$$arity=-1);b.def(q,"$length",oa=function(){return this.length},oa.$$arity=0);b.def(q,"$ljust",aa=function(a,c){null==
c&&(c=" ");a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str").$to_s();w(c["$empty?"]())&&this.$raise(b.const_get_relative(f,"ArgumentError"),"zero width padding");if(w(a<=this.length))return this;var d=-1,e="";for(a-=this.length;++d<a;)e+=c;return this+e.slice(0,a)},aa.$$arity=-2);b.def(q,"$lstrip",ia=function(){return this.replace(/^\s*/,"")},ia.$$arity=0);b.def(q,"$ascii_only?",
za=function(){return this.match(/[ -~\n]*/)[0]===this},za.$$arity=0);b.def(q,"$match",qa=function(a,c){var d,e=qa.$$p,h=e||v;e&&(qa.$$p=null);w(w(d=b.const_get_relative(f,"String")["$==="](a))?d:a["$respond_to?"]("to_str"))&&(a=b.const_get_relative(f,"Regexp").$new(a.$to_str()));w(b.const_get_relative(f,"Regexp")["$==="](a))||this.$raise(b.const_get_relative(f,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return z(a,"match",[this,c],h.$to_proc())},qa.$$arity=-2);b.def(q,"$next",
na=function(){var a=this.length;if(0===a)return"";for(var b=this,c=this.search(/[a-zA-Z0-9]/),d=!1,e;a--;){e=this.charCodeAt(a);if(48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e)switch(e){case 57:d=!0;e=48;break;case 90:d=!0;e=65;break;case 122:d=!0;e=97;break;default:d=!1,e+=1}else-1===c?255===e?(d=!0,e=0):(d=!1,e+=1):d=!0;b=b.slice(0,a)+String.fromCharCode(e)+b.slice(a+1);if(d&&(0===a||a===c)){switch(e){case 65:break;case 97:break;default:e+=1}b=0===a?String.fromCharCode(e)+b:b.slice(0,a)+String.fromCharCode(e)+
b.slice(a);d=!1}if(!d)break}return b},na.$$arity=0);b.def(q,"$oct",ra=function(){var a;a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,d,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===d)return a}switch(d){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+e});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},ra.$$arity=0);b.def(q,"$ord",ta=function(){return this.charCodeAt(0)},
ta.$$arity=0);b.def(q,"$partition",ua=function(a){var c;a.$$is_regexp?(c=a.exec(this),null===c?c=-1:(b.const_get_relative(f,"MatchData").$new(a,c),a=c[0],c=c.index)):(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),c=this.indexOf(a));return-1===c?[this,"",""]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]},ua.$$arity=1);b.def(q,"$reverse",Ca=function(){return this.split("").reverse().join("")},Ca.$$arity=0);b.def(q,"$rindex",va=function(a,
c){var d,e,h;if(void 0===c)c=this.length;else if(c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return v;if(a.$$is_regexp){d=null;for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){h=e.exec(this);if(null===h||h.index>c)break;d=h;e.lastIndex=d.index+1}null===d?(r["~"]=v,d=-1):(b.const_get_relative(f,"MatchData").$new(e,d),d=d.index)}else a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),
d=this.lastIndexOf(a,c);return-1===d?v:d},va.$$arity=-2);b.def(q,"$rjust",Ba=function(a,c){null==c&&(c=" ");a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str").$to_s();w(c["$empty?"]())&&this.$raise(b.const_get_relative(f,"ArgumentError"),"zero width padding");if(w(a<=this.length))return this;var d=Math.floor(a-this.length),e=Array(Math.floor(d/c.length)+1).join(c);return e+
c.slice(0,d-e.length)+this},Ba.$$arity=-2);b.def(q,"$rpartition",Fa=function(a){var c,d,e;if(a.$$is_regexp){c=null;for(d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=d.exec(this);if(null===e)break;c=e;d.lastIndex=c.index+1}null===c?c=-1:(b.const_get_relative(f,"MatchData").$new(d,c),a=c[0],c=c.index)}else a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),c=this.lastIndexOf(a);return-1===c?["","",this]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+
a.length)]},Fa.$$arity=1);b.def(q,"$rstrip",Ga=function(){return this.replace(/[\s\u0000]*$/,"")},Ga.$$arity=0);b.def(q,"$scan",Ia=function(a){var c=Ia.$$p,d=c||v;c&&(Ia.$$p=null);var c=[],e=v,h;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(h=a.exec(this));)e=b.const_get_relative(f,"MatchData").$new(a,h),d===v?1==h.length?
c.push(h[0]):c.push(e.$captures()):1==h.length?d(h[0]):d.call(this,e.$captures()),a.lastIndex===h.index&&(a.lastIndex+=1);r["~"]=e;return d!==v?this:c},Ia.$$arity=1);b.alias(q,"size","length");b.alias(q,"slice","[]");b.def(q,"$split",Aa=function(a,c){var d;null==r[";"]&&(r[";"]=v);if(0===this.length)return[];if(void 0===c)c=0;else if(c=b.const_get_relative(f,"Opal")["$coerce_to!"](c,b.const_get_relative(f,"Integer"),"to_int"),1===c)return[this];if(void 0===a||a===v)a=w(d=r[";"])?d:" ";d=[];var e=
this.toString(),h=0,k,l;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str").$to_s()," "===a?(a=/\s+/gm,e=e.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));d=e.split(a);if(1===d.length&&d[0]===e)return d;for(;-1!==(l=d.indexOf(void 0));)d.splice(l,1);if(0===c){for(;""===d[d.length-1];)--d.length;return d}k=a.exec(e);if(0>c){if(null!==k&&""===k[0]&&-1===a.source.indexOf("(?="))for(l=
0,e=k.length;l<e;l++)d.push("");return d}if(null!==k&&""===k[0])return d.splice(c-1,d.length-1,d.slice(c-1).join("")),d;if(c>=d.length)return d;for(l=0;null!==k;){l++;h=a.lastIndex;if(l+1===c)break;k=a.exec(e)}d.splice(c-1,d.length-1,e.slice(h));return d},Aa.$$arity=-1);b.def(q,"$squeeze",Ka=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];if(0===b.length)return this.replace(/(.)\1+/g,"$1");c=p(b);return null===c?this:this.replace(new RegExp("("+
c+")\\1+","g"),"$1")},Ka.$$arity=-1);b.def(q,"$start_with?",Ja=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<e;d++){var h=b.const_get_relative(f,"Opal").$coerce_to(c[d],b.const_get_relative(f,"String"),"to_str").$to_s();if(0===this.indexOf(h))return!0}return!1},Ja.$$arity=-1);b.def(q,"$strip",La=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},La.$$arity=0);b.def(q,"$sub",la=function(a,c){var d=this,
e=la.$$p,h=e||v;e&&(la.$$p=null);a.$$is_regexp||(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var k=a.exec(d);if(null===k)return r["~"]=v,d.toString();b.const_get_relative(f,"MatchData").$new(a,k);if(void 0===c)return h===v&&d.$raise(b.const_get_relative(f,"ArgumentError"),"wrong number of arguments (1 for 2)"),d.slice(0,k.index)+h(k[0])+d.slice(k.index+k[0].length);if(c.$$is_hash)return d.slice(0,k.index)+
c["$[]"](k[0]).$to_s()+d.slice(k.index+k[0].length);c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str");c=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=k.length-1;0<a;a--)if(void 0!==k[a])return b.slice(1)+k[a];return"";case "&":return b.slice(1)+k[0];case "`":return b.slice(1)+d.slice(0,k.index);case "'":return b.slice(1)+d.slice(k.index+k[0].length);default:return b.slice(1)+(k[c]||"")}}).replace(/\\\\/g,
"\\");return d.slice(0,k.index)+c+d.slice(k.index+k[0].length)},la.$$arity=-2);b.alias(q,"succ","next");b.def(q,"$sum",Ha=function(a){null==a&&(a=16);a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");for(var c=0,d=this.length,e=0;e<d;e++)c+=this.charCodeAt(e);return 0>=a?c:c&Math.pow(2,a)-1},Ha.$$arity=-1);b.def(q,"$swapcase",F=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===
String?a:this.$class().$new(a)},F.$$arity=0);b.def(q,"$to_f",xa=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},xa.$$arity=0);b.def(q,"$to_i",ga=function(a){null==a&&(a=10);var c=this.toLowerCase(),d=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");(1===d||0>d||36<d)&&this.$raise(b.const_get_relative(f,"ArgumentError"),"invalid radix "+d);if(/^\s*_/.test(c))return 0;c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,
function(a,b,c,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===c&&(0===d||16===d))return a}switch(c){case "0b":if(0===d||2===d)return d=2,b+e;break;case "0":case "0o":if(0===d||8===d)return d=8,b+e;break;case "0d":if(0===d||10===d)return d=10,b+e;break;case "0x":if(0===d||16===d)return d=16,b+e}return a});a=parseInt(c.replace(/_(?!_)/g,""),d);return isNaN(a)?0:a},ga.$$arity=-1);b.def(q,"$to_proc",S=function(){var a,c=v,c=this.valueOf();return z(this,"proc",
[],(a=function(d){var e=a.$$s||this,h,k;if(h=a.$$p||v)a.$$p=null;var l=arguments.length;k=l-0;0>k&&(k=0);k=Array(k);for(var t=0;t<l;t++)k[t-0]=arguments[t];0===k.length&&e.$raise(b.const_get_relative(f,"ArgumentError"),"no receiver given");e=k.shift();null==e&&(e=v);return b.send(e,c,k,h)},a.$$s=this,a.$$arity=-1,a))},S.$$arity=0);b.def(q,"$to_s",ya=function(){return this.toString()},ya.$$arity=0);b.alias(q,"to_str","to_s");b.alias(q,"to_sym","intern");b.def(q,"$tr",T=function(a,c){a=b.const_get_relative(f,
"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str").$to_s();c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str").$to_s();if(0==a.length||a===c)return this;var d,e,h,k,l,t={};l=a.split("");var M=l.length,p=c.split(""),T=p.length,ya=!1,n=null;"^"===l[0]&&1<l.length&&(ya=!0,l.shift(),n=p[T-1],--M);var q=[];h=null;e=!1;for(d=0;d<M;d++)if(k=l[d],null==h)h=k,q.push(k);else if("-"===k)"-"===h?(q.push("-"),q.push("-")):d==M-1?q.push("-"):e=!0;else if(e){h=h.charCodeAt(0);
e=k.charCodeAt(0);h>e&&this.$raise(b.const_get_relative(f,"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(e)+'" in string transliteration');for(h+=1;h<e;h++)q.push(String.fromCharCode(h));q.push(k);h=e=null}else q.push(k);l=q;M=l.length;if(ya)for(d=0;d<M;d++)t[l[d]]=!0;else{if(0<T){q=[];h=null;e=!1;for(d=0;d<T;d++)if(k=p[d],null==h)h=k,q.push(k);else if("-"===k)"-"===h?(q.push("-"),q.push("-")):d==T-1?q.push("-"):e=!0;else if(e){h=h.charCodeAt(0);e=k.charCodeAt(0);
h>e&&this.$raise(b.const_get_relative(f,"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(e)+'" in string transliteration');for(h+=1;h<e;h++)q.push(String.fromCharCode(h));q.push(k);h=e=null}else q.push(k);p=q;T=p.length}k=M-T;if(0<k)for(T=0<T?p[T-1]:"",d=0;d<k;d++)p.push(T);for(d=0;d<M;d++)t[l[d]]=p[d]}M="";d=0;for(l=this.length;d<l;d++)k=this.charAt(d),p=t[k],M=ya?M+(null==p?n:k):M+(null!=p?p:k);return M},T.$$arity=2);b.def(q,"$tr_s",M=function(a,c){a=b.const_get_relative(f,
"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str").$to_s();c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str").$to_s();if(0==a.length)return this;var d,e,h,k,l,t={};l=a.split("");var M=l.length,p=c.split(""),T=p.length,ya=!1,q=null;"^"===l[0]&&1<l.length&&(ya=!0,l.shift(),q=p[T-1],--M);var n=[];h=null;e=!1;for(d=0;d<M;d++)if(k=l[d],null==h)h=k,n.push(k);else if("-"===k)"-"===h?(n.push("-"),n.push("-")):d==M-1?n.push("-"):e=!0;else if(e){h=h.charCodeAt(0);
e=k.charCodeAt(0);h>e&&this.$raise(b.const_get_relative(f,"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(e)+'" in string transliteration');for(h+=1;h<e;h++)n.push(String.fromCharCode(h));n.push(k);h=e=null}else n.push(k);l=n;M=l.length;if(ya)for(d=0;d<M;d++)t[l[d]]=!0;else{if(0<T){n=[];e=!1;for(d=0;d<T;d++)if(k=p[d],null==h)h=k,n.push(k);else if("-"===k)d==T-1?n.push("-"):e=!0;else if(e){h=h.charCodeAt(0);e=k.charCodeAt(0);h>e&&this.$raise(b.const_get_relative(f,
"ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(e)+'" in string transliteration');for(h+=1;h<e;h++)n.push(String.fromCharCode(h));n.push(k);h=e=null}else n.push(k);p=n;T=p.length}k=M-T;if(0<k)for(T=0<T?p[T-1]:"",d=0;d<k;d++)p.push(T);for(d=0;d<M;d++)t[l[d]]=p[d]}M="";p=null;d=0;for(l=this.length;d<l;d++)if(k=this.charAt(d),T=t[k],ya)null==T?null==p&&(M+=q,p=!0):(M+=k,p=null);else if(null!=T){if(null==p||p!==T)M+=T,p=T}else M+=k,p=null;return M},M.$$arity=2);b.def(q,
"$upcase",Ma=function(){return this.toUpperCase()},Ma.$$arity=0);b.def(q,"$upto",sa=function(a,c){var d=sa.$$p,e=d||v;null==c&&(c=!1);d&&(sa.$$p=null);if(e===v)return this.$enum_for("upto",a,c);a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str");var h,d=this.toString();if(1===d.length&&1===a.length)for(d=d.charCodeAt(0),h=a.charCodeAt(0);d<=h&&(!c||d!==h);)e(String.fromCharCode(d)),d+=1;else if(parseInt(d,10).toString()===d&&parseInt(a,10).toString()===a)for(d=
parseInt(d,10),h=parseInt(a,10);d<=h&&(!c||d!==h);)e(d.toString()),d+=1;else for(;d.length<=a.length&&d<=a&&(!c||d!==a);)e(d),d=d.$succ();return this},sa.$$arity=-2);b.def(q,"$instance_variables",Oa=function(){return[]},Oa.$$arity=0);b.defs(q,"$_load",Pa=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return z(this,"new",b.to_a(c))},Pa.$$arity=-1);b.def(q,"$unpack",Da=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},
Da.$$arity=1);return(b.def(q,"$unpack1",G=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},G.$$arity=1),v)&&"unpack1"})(u[0],String,u);return b.const_set(u[0],"Symbol",b.const_get_relative(u,"String"))},Opal.modules["corelib/enumerable"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function B(a,b){return"number"===typeof a&&
"number"===typeof b?a-b:a["$-"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var v=[],m=b.nil,w=b.module,z=b.truthy,r=b.send,a=b.falsy,g=b.hash2;b.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $lambda $sort! $map! $key? $values $zip".split(" "));
return function(D,H){function p(a){0===a.length&&(a=[m]);1<a.length&&(a=[a]);return a}var q=w(D,"Enumerable"),f=[q].concat(H),c,k,e,d,h,t,Y,l,Ea,n,X,v,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,ba,N,O,ma,da,I,pa,ea,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua,Ca;b.def(q,"$all?",c=function(a){try{var d,g,e,h=c.$$p,k=h||m;h&&(c.$$p=null);z(void 0!==a)?r(this,"each",[],(d=function(c){var d,g=m,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=p(d);if(z(r(a,"public_send",["==="].concat(b.to_a(g)))))return m;
b.ret(!1)},d.$$s=this,d.$$arity=-1,d)):k!==m?r(this,"each",[],(g=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];if(z(b.yieldX(k,b.to_a(c))))return m;b.ret(!1)},g.$$s=this,g.$$arity=-1,g)):r(this,"each",[],(e=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];if(z(b.const_get_relative(f,"Opal").$destructure(c)))return m;b.ret(!1)},e.$$s=this,e.$$arity=-1,e));return!0}catch(l){if(l===b.returner)return l.$v;
throw l;}},c.$$arity=-1);b.def(q,"$any?",k=function(a){try{var c,d,g,e=k.$$p,h=e||m;e&&(k.$$p=null);z(void 0!==a)?r(this,"each",[],(c=function(c){var d,g=m,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=p(d);if(z(r(a,"public_send",["==="].concat(b.to_a(g)))))b.ret(!0);else return m},c.$$s=this,c.$$arity=-1,c)):h!==m?r(this,"each",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];if(z(b.yieldX(h,
b.to_a(c))))b.ret(!0);else return m},d.$$s=this,d.$$arity=-1,d)):r(this,"each",[],(g=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];if(z(b.const_get_relative(f,"Opal").$destructure(c)))b.ret(!0);else return m},g.$$s=this,g.$$arity=-1,g));return!1}catch(l){if(l===b.returner)return l.$v;throw l;}},k.$$arity=-1);b.def(q,"$chunk",e=function(){var a,c,d=e.$$p,g=d||m;d&&(e.$$p=null);return g===m?r(this,"to_enum",["chunk"],(a=function(){return(a.$$s||
this).$enumerator_size()},a.$$s=this,a.$$arity=0,a)):r(b.const_get_qualified("::","Enumerator"),"new",[],(c=function(a){function d(){0<f.length&&a.$yield(h,f)}var e=c.$$s||this;null==a&&(a=m);var h=m,f=[];e.$each.$$p=function(a){var c=b.yield1(g,a);c===m?(d(),f=[],h=m):(h===m||h===c?f.push(a):(d(),f=[a]),h=c)};e.$each();d()},c.$$s=this,c.$$arity=1,c))},e.$$arity=0);b.def(q,"$chunk_while",d=function(){var a,c=d.$$p,g=c||m;c&&(d.$$p=null);g===m&&this.$raise(b.const_get_relative(f,"ArgumentError"),"no block given");
return r(this,"slice_when",[],(a=function(a,c){null==a&&(a=m);null==c&&(c=m);return b.yieldX(g,[a,c])["$!"]()},a.$$s=this,a.$$arity=2,a))},d.$$arity=0);b.def(q,"$collect",h=function(){var a,c=h.$$p,d=c||m;c&&(h.$$p=null);if(d===m)return r(this,"enum_for",["collect"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var g=[];this.$each.$$p=function(){var a=b.yieldX(d,arguments);g.push(a)};this.$each();return g},h.$$arity=0);b.def(q,"$collect_concat",t=function(){var a,
c,d=t.$$p,g=d||m;d&&(t.$$p=null);return g===m?r(this,"enum_for",["collect_concat"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a)):r(this,"map",[],(c=function(a){null==a&&(a=m);return b.yield1(g,a)},c.$$s=this,c.$$arity=1,c)).$flatten(1)},t.$$arity=0);b.def(q,"$count",Y=function(a){var c,d,g,e=Y.$$p,h=e||m,k=m;e&&(Y.$$p=null);k=0;null!=a&&h!==m&&this.$warn("warning: given block not used");z(null!=a)?h=r(this,"proc",[],(c=function(c){var d,g=arguments.length;d=g-0;
0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];return b.const_get_relative(f,"Opal").$destructure(d)["$=="](a)},c.$$s=this,c.$$arity=-1,c)):z(h["$nil?"]())&&(h=r(this,"proc",[],(d=function(){return!0},d.$$s=this,d.$$arity=0,d)));r(this,"each",[],(g=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];return z(b.yieldX(h,c))?k++:m},g.$$s=this,g.$$arity=-1,g));return k},Y.$$arity=-1);b.def(q,"$cycle",l=function(a){var c,d=l.$$p,g=d||
m;null==a&&(a=m);d&&(l.$$p=null);if(g===m)return r(this,"enum_for",["cycle",a],(c=function(){var d=c.$$s||this;if(z(a["$nil?"]()))return z(d["$respond_to?"]("size"))?b.const_get_qualified(b.const_get_relative(f,"Float"),"INFINITY"):m;a=b.const_get_relative(f,"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Integer"),"to_int");return z(x(a,0))?(d=d.$enumerator_size(),"number"===typeof d&&"number"===typeof a?d*a:d["$*"](a)):0},c.$$s=this,c.$$arity=0,c));if(!z(a["$nil?"]())&&(a=b.const_get_relative(f,
"Opal")["$coerce_to!"](a,b.const_get_relative(f,"Integer"),"to_int"),z(0>=a)))return m;var e=[],h;this.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments);b.yield1(g,a);e.push(a)};this.$each();if(0===e.length)return m;if(a===m)for(;;)for(d=0,h=e.length;d<h;d++)b.yield1(g,e[d]);else for(;1<a;){d=0;for(h=e.length;d<h;d++)b.yield1(g,e[d]);a--}},l.$$arity=-1);b.def(q,"$detect",Ea=function(a){try{var c,d=Ea.$$p,g=d||m;d&&(Ea.$$p=null);if(g===m)return this.$enum_for("detect",
a);r(this,"each",[],(c=function(a){var c,d=m,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=b.const_get_relative(f,"Opal").$destructure(c);if(z(b.yield1(g,d)))b.ret(d);else return m},c.$$s=this,c.$$arity=-1,c));return void 0!==a?"function"===typeof a?a():a:m}catch(e){if(e===b.returner)return e.$v;throw e;}},Ea.$$arity=-1);b.def(q,"$drop",n=function(a){a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");z(0>a)&&this.$raise(b.const_get_relative(f,
"ArgumentError"),"attempt to drop negative size");var c=[],d=0;this.$each.$$p=function(){a<=d&&c.push(b.const_get_relative(f,"Opal").$destructure(arguments));d++};this.$each();return c},n.$$arity=1);b.def(q,"$drop_while",X=function(){var c=X.$$p,d=c||m;c&&(X.$$p=null);if(d===m)return this.$enum_for("drop_while");var g=[],e=!0;this.$each.$$p=function(){var c=b.const_get_relative(f,"Opal").$destructure(arguments);if(e){var h=b.yield1(d,c);a(h)&&(e=!1,g.push(c))}else g.push(c)};this.$each();return g},
X.$$arity=0);b.def(q,"$each_cons",v=function(a){var c,d=v.$$p,g=d||m;d&&(v.$$p=null);z(1!=arguments.length)&&this.$raise(b.const_get_relative(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");a=b.const_get_relative(f,"Opal").$try_convert(a,b.const_get_relative(f,"Integer"),"to_int");z(0>=a)&&this.$raise(b.const_get_relative(f,"ArgumentError"),"invalid size");if(g===m)return r(this,"enum_for",["each_cons",a],(c=function(){var b,d=m,d=(c.$$s||this).$enumerator_size();return z(d["$nil?"]())?
m:z(z(b=d["$=="](0))?b:"number"===typeof d&&"number"===typeof a?d<a:d["$<"](a))?0:C(B(d,a),1)},c.$$s=this,c.$$arity=0,c));var e=[];this.$each.$$p=function(){var c=b.const_get_relative(f,"Opal").$destructure(arguments);e.push(c);e.length>a&&e.shift();e.length==a&&b.yield1(g,e.slice(0,a))};this.$each();return m},v.$$arity=1);b.def(q,"$each_entry",E=function(a){var c,d,g=E.$$p,e=g||m,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var k=0;k<h;k++)d[k-0]=arguments[k];g&&(E.$$p=null);if(e===m)return r(this,
"to_enum",["each_entry"].concat(b.to_a(d)),(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));this.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments);b.yield1(e,a)};this.$each.apply(this,d);return this},E.$$arity=-1);b.def(q,"$each_slice",ca=function(a){var c,d=ca.$$p,g=d||m;d&&(ca.$$p=null);a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");z(0>=a)&&this.$raise(b.const_get_relative(f,"ArgumentError"),
"invalid slice size");if(g===m)return r(this,"enum_for",["each_slice",a],(c=function(){var b=c.$$s||this;return z(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()):m},c.$$s=this,c.$$arity=0,c));var e=[];this.$each.$$p=function(){var c=b.const_get_relative(f,"Opal").$destructure(arguments);e.push(c);e.length===a&&(b.yield1(g,e),e=[])};this.$each();0<e.length&&b.yield1(g,e);return m},ca.$$arity=1);b.def(q,"$each_with_index",wa=function(a){var c,
d,g=wa.$$p,e=g||m,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var k=0;k<h;k++)d[k-0]=arguments[k];g&&(wa.$$p=null);if(e===m)return r(this,"enum_for",["each_with_index"].concat(b.to_a(d)),(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var l=0;this.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments);e(a,l);l++};this.$each.apply(this,d);return this},wa.$$arity=-1);b.def(q,"$each_with_object",y=function(a){var c,d=y.$$p,g=d||m;d&&
(y.$$p=null);if(g===m)return r(this,"enum_for",["each_with_object",a],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));this.$each.$$p=function(){var c=b.const_get_relative(f,"Opal").$destructure(arguments);g(c,a)};this.$each();return a},y.$$arity=1);b.def(q,"$entries",A=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];var e=[];this.$each.$$p=function(){e.push(b.const_get_relative(f,"Opal").$destructure(arguments))};
this.$each.apply(this,c);return e},A.$$arity=-1);b.alias(q,"find","detect");b.def(q,"$find_all",ha=function(){var a,c=ha.$$p,d=c||m;c&&(ha.$$p=null);if(d===m)return r(this,"enum_for",["find_all"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var g=[];this.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments),c=b.yield1(d,a);z(c)&&g.push(a)};this.$each();return g},ha.$$arity=0);b.def(q,"$find_index",ja=function(a){try{var c,d,g=ja.$$p,
e=g||m,h=m;g&&(ja.$$p=null);if(z(void 0===a&&e===m))return this.$enum_for("find_index");null!=a&&e!==m&&this.$warn("warning: given block not used");h=0;z(null!=a)?r(this,"each",[],(c=function(c){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];b.const_get_relative(f,"Opal").$destructure(d)["$=="](a)&&b.ret(h);return h+=1},c.$$s=this,c.$$arity=-1,c)):r(this,"each",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-
0]=arguments[g];z(b.yieldX(e,b.to_a(c)))&&b.ret(h);return h+=1},d.$$s=this,d.$$arity=-1,d));return m}catch(k){if(k===b.returner)return k.$v;throw k;}},ja.$$arity=-1);b.def(q,"$first",P=function(a){try{var c,d,g=m,e=m;if(z(void 0===a))return r(this,"each",[],(c=function(a){null==a&&(a=m);b.ret(a)},c.$$s=this,c.$$arity=1,c));g=[];a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");z(0>a)&&this.$raise(b.const_get_relative(f,"ArgumentError"),"attempt to take negative size");
if(z(0==a))return[];e=0;r(this,"each",[],(d=function(c){var d,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var k=0;k<h;k++)d[k-0]=arguments[k];g.push(b.const_get_relative(f,"Opal").$destructure(d));if(z(a<=++e))b.ret(g);else return m},d.$$s=this,d.$$arity=-1,d));return g}catch(h){if(h===b.returner)return h.$v;throw h;}},P.$$arity=-1);b.alias(q,"flat_map","collect_concat");b.def(q,"$grep",L=function(a){var c,d=L.$$p,g=d||m,e=m;d&&(L.$$p=null);e=[];r(this,"each",[],(c=function(c){var d,h=m,h=
arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var f=0;f<h;f++)d[f-0]=arguments[f];h=p(d);if(!z(r(a,"__send__",["==="].concat(b.to_a(h)))))return m;g!==m?(z(x(d.$length(),1))&&(d=[d]),d=b.yieldX(g,b.to_a(d))):z(u(d.$length(),1))&&(d=d["$[]"](0));return e.$push(d)},c.$$s=this,c.$$arity=-1,c));return e},L.$$arity=1);b.def(q,"$grep_v",U=function(a){var c,d=U.$$p,g=d||m,e=m;d&&(U.$$p=null);e=[];r(this,"each",[],(c=function(c){var d,h=m,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var f=0;f<h;f++)d[f-
0]=arguments[f];h=p(d);if(z(r(a,"__send__",["==="].concat(b.to_a(h)))))return m;g!==m?(z(x(d.$length(),1))&&(d=[d]),d=b.yieldX(g,b.to_a(d))):z(u(d.$length(),1))&&(d=d["$[]"](0));return e.$push(d)},c.$$s=this,c.$$arity=-1,c));return e},U.$$arity=1);b.def(q,"$group_by",J=function(){var a,c,d=J.$$p,e=d||m,h=m,k=m;d&&(J.$$p=null);if(e===m)return r(this,"enum_for",["group_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));h=g([],{});this.$each.$$p=function(){var a=b.const_get_relative(f,
"Opal").$destructure(arguments),d=b.yield1(e,a);(z(c=h["$[]"](d))?c:(k=[d,[]],r(h,"[]=",b.to_a(k)),k[B(k.length,1)]))["$<<"](a)};this.$each();return h},J.$$arity=0);b.def(q,"$include?",Q=function(a){try{var c;r(this,"each",[],(c=function(c){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(b.const_get_relative(f,"Opal").$destructure(d)["$=="](a))b.ret(!0);else return m},c.$$s=this,c.$$arity=-1,c));return!1}catch(d){if(d===b.returner)return d.$v;throw d;
}},Q.$$arity=1);b.def(q,"$inject",R=function(a,c){var d=R.$$p,g=d||m;d&&(R.$$p=null);var e=a;g!==m&&void 0===c?this.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments);void 0!==e&&(a=b.yieldX(g,[e,a]));e=a}:(void 0===c&&(b.const_get_relative(f,"Symbol")["$==="](a)||this.$raise(b.const_get_relative(f,"TypeError"),""+a.$inspect()+" is not a Symbol"),c=a,e=void 0),this.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments);e=void 0===e?a:e.$__send__(c,
a)});this.$each();return void 0==e?m:e},R.$$arity=-1);b.def(q,"$lazy",V=function(){var a;return r(b.const_get_qualified(b.const_get_relative(f,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,c){var d,g=arguments.length;d=g-1;0>d&&(d=0);d=Array(d);for(var e=1;e<g;e++)d[e-1]=arguments[e];null==a&&(a=m);return r(a,"yield",b.to_a(d))},a.$$s=this,a.$$arity=-2,a))},V.$$arity=0);b.def(q,"$enumerator_size",ba=function(){return z(this["$respond_to?"]("size"))?this.$size():m},ba.$$arity=
0);b.alias(q,"map","collect");b.def(q,"$max",N=function(a){var c=this,d=N.$$p,g=d||m;d&&(N.$$p=null);if(void 0===a||a===m){var e,h;c.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments);void 0===e?e=a:(h=g!==m?b.yieldX(g,[a,e]):a["$<=>"](e),h===m&&c.$raise(b.const_get_relative(f,"ArgumentError"),"comparison failed"),0<h&&(e=a))};c.$each();return void 0===e?m:e}a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");return r(c,"sort",[],
g.$to_proc()).$reverse().$first(a)},N.$$arity=-1);b.def(q,"$max_by",O=function(){var a,c=O.$$p,d=c||m;c&&(O.$$p=null);if(!z(d))return r(this,"enum_for",["max_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var g,e;this.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments),c=b.yield1(d,a);void 0===g?(g=a,e=c):0<c["$<=>"](e)&&(g=a,e=c)};this.$each();return void 0===g?m:g},O.$$arity=0);b.alias(q,"member?","include?");b.def(q,"$min",ma=
function(){var a=this,c=ma.$$p,d=c||m;c&&(ma.$$p=null);var g;a.$each.$$p=d!==m?function(){var c=b.const_get_relative(f,"Opal").$destructure(arguments);if(void 0===g)g=c;else{var e=d(c,g);e===m&&a.$raise(b.const_get_relative(f,"ArgumentError"),"comparison failed");0>e&&(g=c)}}:function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments);void 0===g?g=a:0>b.const_get_relative(f,"Opal").$compare(a,g)&&(g=a)};a.$each();return void 0===g?m:g},ma.$$arity=0);b.def(q,"$min_by",da=function(){var a,
c=da.$$p,d=c||m;c&&(da.$$p=null);if(!z(d))return r(this,"enum_for",["min_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var g,e;this.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments),c=b.yield1(d,a);void 0===g?(g=a,e=c):0>c["$<=>"](e)&&(g=a,e=c)};this.$each();return void 0===g?m:g},da.$$arity=0);b.def(q,"$minmax",I=function(){var a,c,d=this,g=I.$$p,e=g||m;g&&(I.$$p=null);var e=z(a=e)?a:r(d,"proc",[],(c=function(a,b){null==a&&(a=
m);null==b&&(b=m);return a["$<=>"](b)},c.$$s=d,c.$$arity=2,c)),h=m,k=m,l=!0;d.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments);if(l)h=k=a,l=!1;else{var c=e.$call(h,a);c===m?d.$raise(b.const_get_relative(f,"ArgumentError"),"comparison failed"):0<c&&(h=a);c=e.$call(k,a);c===m?d.$raise(b.const_get_relative(f,"ArgumentError"),"comparison failed"):0>c&&(k=a)}};d.$each();return[h,k]},I.$$arity=0);b.def(q,"$minmax_by",pa=function(){pa.$$p&&(pa.$$p=null);return this.$raise(b.const_get_relative(f,
"NotImplementedError"))},pa.$$arity=0);b.def(q,"$none?",ea=function(a){try{var c,d,g,e=ea.$$p,h=e||m;e&&(ea.$$p=null);z(void 0!==a)?r(this,"each",[],(c=function(c){var d,g=m,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=p(d);if(z(r(a,"public_send",["==="].concat(b.to_a(g)))))b.ret(!1);else return m},c.$$s=this,c.$$arity=-1,c)):h!==m?r(this,"each",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];
if(z(b.yieldX(h,b.to_a(c))))b.ret(!1);else return m},d.$$s=this,d.$$arity=-1,d)):r(this,"each",[],(g=function(a){var c,d=m,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];d=b.const_get_relative(f,"Opal").$destructure(c);if(z(d))b.ret(!1);else return m},g.$$s=this,g.$$arity=-1,g));return!0}catch(k){if(k===b.returner)return k.$v;throw k;}},ea.$$arity=-1);b.def(q,"$one?",Z=function(a){try{var c,d,g,e=Z.$$p,h=e||m,k=m;e&&(Z.$$p=null);k=0;z(void 0!==a)?r(this,"each",
[],(c=function(c){var d,g=m,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=p(d);if(z(r(a,"public_send",["==="].concat(b.to_a(g)))))if(k=C(k,1),z(x(k,1)))b.ret(!1);else return m;else return m},c.$$s=this,c.$$arity=-1,c)):h!==m?r(this,"each",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];if(!z(b.yieldX(h,b.to_a(c))))return m;k=C(k,1);if(z(x(k,1)))b.ret(!1);else return m},d.$$s=this,d.$$arity=-1,
d)):r(this,"each",[],(g=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];if(!z(b.const_get_relative(f,"Opal").$destructure(c)))return m;k=C(k,1);if(z(x(k,1)))b.ret(!1);else return m},g.$$s=this,g.$$arity=-1,g));return k["$=="](1)}catch(l){if(l===b.returner)return l.$v;throw l;}},Z.$$arity=-1);b.def(q,"$partition",fa=function(){var a,c=fa.$$p,d=c||m;c&&(fa.$$p=null);if(d===m)return r(this,"enum_for",["partition"],(a=function(){return(a.$$s||this).$enumerator_size()},
a.$$s=this,a.$$arity=0,a));var g=[],e=[];this.$each.$$p=function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments),c=b.yield1(d,a);z(c)?g.push(a):e.push(a)};this.$each();return[g,e]},fa.$$arity=0);b.alias(q,"reduce","inject");b.def(q,"$reject",K=function(){var c,d=K.$$p,g=d||m;d&&(K.$$p=null);if(g===m)return r(this,"enum_for",["reject"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var e=[];this.$each.$$p=function(){var c=b.const_get_relative(f,"Opal").$destructure(arguments),
d=b.yield1(g,c);a(d)&&e.push(c)};this.$each();return e},K.$$arity=0);b.def(q,"$reverse_each",ka=function(){var a,c=ka.$$p,d=c||m;c&&(ka.$$p=null);if(d===m)return r(this,"enum_for",["reverse_each"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var g=[];this.$each.$$p=function(){g.push(arguments)};this.$each();for(c=g.length-1;0<=c;c--)b.yieldX(d,g[c]);return g},ka.$$arity=0);b.alias(q,"select","find_all");b.def(q,"$slice_before",oa=function(a){var c,d=oa.$$p,g=d||
m;d&&(oa.$$p=null);z(void 0===a&&g===m)&&this.$raise(b.const_get_relative(f,"ArgumentError"),"both pattern and block are given");z(void 0!==a&&g!==m||1<arguments.length)&&this.$raise(b.const_get_relative(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return r(b.const_get_relative(f,"Enumerator"),"new",[],(c=function(d){var e=c.$$s||this;null==d&&(d=m);var h=[];e.$each.$$p=g!==m?void 0===a?function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments),c=
b.yield1(g,a);z(c)&&0<h.length&&(d["$<<"](h),h=[]);h.push(a)}:function(){var c=b.const_get_relative(f,"Opal").$destructure(arguments),e=g(c,a.$dup());z(e)&&0<h.length&&(d["$<<"](h),h=[]);h.push(c)}:function(){var c=b.const_get_relative(f,"Opal").$destructure(arguments),g=a["$==="](c);z(g)&&0<h.length&&(d["$<<"](h),h=[]);h.push(c)};e.$each();if(0<h.length)d["$<<"](h)},c.$$s=this,c.$$arity=1,c))},oa.$$arity=-1);b.def(q,"$slice_after",aa=function(a){var c,d,g=aa.$$p,e=g||m;g&&(aa.$$p=null);z(void 0===
a&&e===m)&&this.$raise(b.const_get_relative(f,"ArgumentError"),"both pattern and block are given");z(void 0!==a&&e!==m||1<arguments.length)&&this.$raise(b.const_get_relative(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");z(void 0!==a)&&(e=r(this,"proc",[],(c=function(b){null==b&&(b=m);return a["$==="](b)},c.$$s=this,c.$$arity=1,c)));return r(b.const_get_relative(f,"Enumerator"),"new",[],(d=function(a){var c=d.$$s||this;null==a&&(a=m);var g;c.$each.$$p=function(){var c=
b.const_get_relative(f,"Opal").$destructure(arguments),d=b.yield1(e,c);null==g&&(g=[]);z(d)?(g.push(c),a.$yield(g),g=null):g.push(c)};c.$each();null!=g&&a.$yield(g)},d.$$s=this,d.$$arity=1,d))},aa.$$arity=-1);b.def(q,"$slice_when",ia=function(){var a,c=ia.$$p,d=c||m;c&&(ia.$$p=null);d===m&&this.$raise(b.const_get_relative(f,"ArgumentError"),"wrong number of arguments (0 for 1)");return r(b.const_get_relative(f,"Enumerator"),"new",[],(a=function(c){var g=a.$$s||this;null==c&&(c=m);var e=m,h=m;g.$each_cons.$$p=
function(){var a=b.const_get_relative(f,"Opal").$destructure(arguments),g=a[0],a=a[1],k=b.yieldX(d,[g,a]);h=a;e===m&&(e=[]);z(k)?(e.push(g),c.$yield(e),e=[]):e.push(g)};g.$each_cons(2);e!==m&&(e.push(h),c.$yield(e))},a.$$s=this,a.$$arity=1,a))},ia.$$arity=0);b.def(q,"$sort",za=function(){var a,b=za.$$p,c=b||m,d=m;b&&(za.$$p=null);d=this.$to_a();c===m&&(c=r(this,"lambda",[],(a=function(a,b){null==a&&(a=m);null==b&&(b=m);return a["$<=>"](b)},a.$$s=this,a.$$arity=2,a)));return r(d,"sort",[],c.$to_proc())},
za.$$arity=0);b.def(q,"$sort_by",qa=function(){var a,c,d,g,e=qa.$$p,h=e||m,k=m;e&&(qa.$$p=null);if(h===m)return r(this,"enum_for",["sort_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));k=r(this,"map",[],(c=function(){var a=m,a=b.const_get_relative(f,"Opal").$destructure(arguments);return[b.yield1(h,a),a]},c.$$s=this,c.$$arity=0,c));r(k,"sort!",[],(d=function(a,b){null==a&&(a=m);null==b&&(b=m);return a[0]["$<=>"](b[0])},d.$$s=this,d.$$arity=2,d));return r(k,"map!",
[],(g=function(a){null==a&&(a=m);return a[1]},g.$$s=this,g.$$arity=1,g))},qa.$$arity=0);b.def(q,"$sum",na=function(a){var c,d=na.$$p,g=d||m,e=m;null==a&&(a=0);d&&(na.$$p=null);e=a;r(this,"each",[],(c=function(a){var c,d=m,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var h=0;h<d;h++)c[h-0]=arguments[h];d=g!==m?b.yieldX(g,b.to_a(c)):b.const_get_relative(f,"Opal").$destructure(c);return e=C(e,d)},c.$$s=this,c.$$arity=-1,c));return e},na.$$arity=-1);b.def(q,"$take",ra=function(a){return this.$first(a)},
ra.$$arity=1);b.def(q,"$take_while",ta=function(){try{var a,c=ta.$$p,d=c||m,g=m;c&&(ta.$$p=null);if(!z(d))return this.$enum_for("take_while");g=[];return r(this,"each",[],(a=function(a){var c,e=m,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var h=0;h<e;h++)c[h-0]=arguments[h];e=b.const_get_relative(f,"Opal").$destructure(c);z(b.yield1(d,e))||b.ret(g);return g.push(e)},a.$$s=this,a.$$arity=-1,a))}catch(e){if(e===b.returner)return e.$v;throw e;}},ta.$$arity=0);b.def(q,"$uniq",ua=function(){var a,
c=ua.$$p,d=c||m,e=m;c&&(ua.$$p=null);e=g([],{});r(this,"each",[],(a=function(a){var c,g=m,g=c=m,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var h=0;h<g;h++)c[h-0]=arguments[h];g=b.const_get_relative(f,"Opal").$destructure(c);c=d!==m?b.yield1(d,g):g;if(z(e["$key?"](c)))return m;g=[c,g];r(e,"[]=",b.to_a(g));return g[B(g.length,1)]},a.$$s=this,a.$$arity=-1,a));return e.$values()},ua.$$arity=0);b.alias(q,"to_a","entries");b.def(q,"$zip",Ca=function(a){var c,d=Ca.$$p,g=arguments.length;c=g-0;0>
c&&(c=0);c=Array(c);for(var e=0;e<g;e++)c[e-0]=arguments[e];d&&(Ca.$$p=null);return r(this.$to_a(),"zip",b.to_a(c))},Ca.$$arity=-1)}(v[0],v)},Opal.modules["corelib/enumerator"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var B=b.top,u=[],v=b.nil,m=b.breaker,w=b.slice,z=b.klass,r=b.truthy,a=b.send,g=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
B.$require("corelib/enumerable");return function(D,$super,p){function q(){}D=q=z(D,$super,"Enumerator",q);var f=D.$$proto,c=[D].concat(p),k,e,d,h,t,Y;f.size=f.args=f.object=f.method=v;D.$include(b.const_get_relative(c,"Enumerable"));f.$$is_enumerator=!0;b.defs(D,"$for",k=function(a,b,c){var d,g=k.$$p,e=g||v;null==b&&(b="each");var h=arguments.length;d=h-2;0>d&&(d=0);d=Array(d);for(var f=2;f<h;f++)d[f-2]=arguments[f];g&&(k.$$p=null);g=this.$allocate();g.object=a;g.size=e;g.method=b;g.args=d;return g},
k.$$arity=-2);b.def(D,"$initialize",e=function(d){var g=e.$$p,h=g||v;g&&(e.$$p=null);if(r(h))return this.object=a(b.const_get_relative(c,"Generator"),"new",[],h.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||v,r(this.size)?this.size=b.const_get_relative(c,"Opal").$coerce_to(this.size,b.const_get_relative(c,"Integer"),"to_int"):v;this.object=arguments[0];this.method=arguments[1]||"each";this.args=w.call(arguments,2);return this.size=v},e.$$arity=-1);b.def(D,"$each",d=function(c){var g,
e,h=d.$$p,f=h||v,k=arguments.length;e=k-0;0>e&&(e=0);e=Array(e);for(var t=0;t<k;t++)e[t-0]=arguments[t];h&&(d.$$p=null);if(r(r(g=f["$nil?"]())?e["$empty?"]():g))return this;e=x(this.args,e);return r(f["$nil?"]())?a(this.$class(),"new",[this.object,this.method].concat(b.to_a(e))):a(this.object,"__send__",[this.method].concat(b.to_a(e)),f.$to_proc())},d.$$arity=-1);b.def(D,"$size",h=function(){return r(b.const_get_relative(c,"Proc")["$==="](this.size))?a(this.size,"call",b.to_a(this.args)):this.size},
h.$$arity=0);b.def(D,"$with_index",t=function(d){var g,e=t.$$p,h=e||v;null==d&&(d=0);e&&(t.$$p=null);d=r(d)?b.const_get_relative(c,"Opal").$coerce_to(d,b.const_get_relative(c,"Integer"),"to_int"):0;if(!r(h))return a(this,"enum_for",["with_index",d],(g=function(){return(g.$$s||this).$size()},g.$$s=this,g.$$arity=0,g));var f=d;this.$each.$$p=function(){var a=b.const_get_relative(c,"Opal").$destructure(arguments),a=h(a,f);f++;return a};return this.$each()},t.$$arity=-1);b.alias(D,"with_object","each_with_object");
b.def(D,"$inspect",Y=function(){var a=v,a="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;r(this.args["$any?"]())&&(a=x(a,"("+this.args.$inspect()["$[]"](b.const_get_relative(c,"Range").$new(1,-2))+")"));return x(a,">")},Y.$$arity=0);(function(c,$super,d){function g(){}c=g=z(c,$super,"Generator",g);var e=c.$$proto,h=[c].concat(d),f,k;e.block=v;c.$include(b.const_get_relative(h,"Enumerable"));b.def(c,"$initialize",f=function(){var a=f.$$p,c=a||v;a&&(f.$$p=null);r(c)||this.$raise(b.const_get_relative(h,
"LocalJumpError"),"no block given");return this.block=c},f.$$arity=0);return(b.def(c,"$each",k=function(c){var d,g=k.$$p,e=g||v,f=v,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var l=0;l<f;l++)d[l-0]=arguments[l];g&&(k.$$p=null);f=a(b.const_get_relative(h,"Yielder"),"new",[],e.$to_proc());try{d.unshift(f),b.yieldX(this.block,d)}catch(t){if(t===m)return m.$v;throw t;}return this},k.$$arity=-1),v)&&"each"})(c[0],null,c);(function(c,$super,d){function g(){}c=g=z(c,$super,"Yielder",g);var e=c.$$proto;
[c].concat(d);var h,f,k;e.block=v;b.def(c,"$initialize",h=function(){var a=h.$$p,b=a||v;a&&(h.$$p=null);return this.block=b},h.$$arity=0);b.def(c,"$yield",f=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];d=b.yieldX(this.block,c);if(d===m)throw m;return d},f.$$arity=-1);return(b.def(c,"$<<",k=function(c){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];a(this,"yield",b.to_a(d));return this},k.$$arity=
-1),v)&&"<<"})(c[0],null,c);return function(c,$super,d){function e(){}c=e=z(c,$super,"Lazy",e);var h=c.$$proto,f=[c].concat(d),k,t,p,q,D,m,Y,L,U,J,u,R,w;h.enumerator=v;(function(a,$super,b){function c(){}[c=z(a,$super,"StopLazyError",c)].concat(b);return v})(f[0],b.const_get_relative(f,"Exception"),f);b.def(c,"$initialize",k=function(c,d){var g,e=k.$$p,h=e||v;null==d&&(d=v);e&&(k.$$p=null);h===v&&this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=
c;return a(this,b.find_super_dispatcher(this,"initialize",k,!1),[d],(g=function(d,e){var k=g.$$s||this,l,t,p=arguments.length;l=p-1;0>l&&(l=0);l=Array(l);for(var q=1;q<p;q++)l[q-1]=arguments[q];null==d&&(d=v);try{return a(c,"each",b.to_a(l),(t=function(a){var c,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var e=0;e<g;e++)c[e-0]=arguments[e];c.unshift(d);b.yieldX(h,c)},t.$$s=k,t.$$arity=-1,t))}catch(n){if(b.rescue(n,[b.const_get_relative(f,"Exception")]))try{return v}finally{b.pop_exception()}else throw n;
}},g.$$s=this,g.$$arity=-2,g))},k.$$arity=-2);b.alias(c,"force","to_a");b.def(c,"$lazy",t=function(){return this},t.$$arity=0);b.def(c,"$collect",p=function(){var c,d=p.$$p,g=d||v;d&&(p.$$p=null);r(g)||this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy map without a block");return a(b.const_get_relative(f,"Lazy"),"new",[this,this.$enumerator_size()],(c=function(a,c){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var h=1;h<e;h++)d[h-1]=arguments[h];null==a&&(a=v);e=b.yieldX(g,
d);a.$yield(e)},c.$$s=this,c.$$arity=-2,c))},p.$$arity=0);b.def(c,"$collect_concat",q=function(){var c,d=q.$$p,g=d||v;d&&(q.$$p=null);r(g)||this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy map without a block");return a(b.const_get_relative(f,"Lazy"),"new",[this,v],(c=function(d,e){var h=c.$$s||this,k,l,t,p=arguments.length;k=p-1;0>k&&(k=0);k=Array(k);for(var q=1;q<p;q++)k[q-1]=arguments[q];null==d&&(d=v);p=b.yieldX(g,k);p["$respond_to?"]("force")&&p["$respond_to?"]("each")?
a(p,"each",[],(l=function(a){null==a&&(a=v);return d.$yield(a)},l.$$s=h,l.$$arity=1,l)):b.const_get_relative(f,"Opal").$try_convert(p,b.const_get_relative(f,"Array"),"to_ary")===v?d.$yield(p):a(p,"each",[],(t=function(a){null==a&&(a=v);return d.$yield(a)},t.$$s=h,t.$$arity=1,t))},c.$$s=this,c.$$arity=-2,c))},q.$$arity=0);b.def(c,"$drop",D=function(c){var d,g=v,e=g=v;c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int");r(C(c,0))&&this.$raise(b.const_get_relative(f,
"ArgumentError"),"attempt to drop negative size");g=this.$enumerator_size();g=r(b.const_get_relative(f,"Integer")["$==="](g))?r(C(c,g))?c:g:g;e=0;return a(b.const_get_relative(f,"Lazy"),"new",[this,g],(d=function(d,g){var h,f=arguments.length;h=f-1;0>h&&(h=0);h=Array(h);for(var k=1;k<f;k++)h[k-1]=arguments[k];null==d&&(d=v);return r(C(e,c))?e=x(e,1):a(d,"yield",b.to_a(h))},d.$$s=this,d.$$arity=-2,d))},D.$$arity=1);b.def(c,"$drop_while",m=function(){var c,d=m.$$p,e=d||v,h=v;d&&(m.$$p=null);r(e)||this.$raise(b.const_get_relative(f,
"ArgumentError"),"tried to call lazy drop_while without a block");h=!0;return a(b.const_get_relative(f,"Lazy"),"new",[this,v],(c=function(c,d){var f,k=arguments.length;f=k-1;0>f&&(f=0);f=Array(f);for(var l=1;l<k;l++)f[l-1]=arguments[l];null==c&&(c=v);if(r(h))k=b.yieldX(e,f),g(k)&&(h=!1,a(c,"yield",b.to_a(f)));else return a(c,"yield",b.to_a(f))},c.$$s=this,c.$$arity=-2,c))},m.$$arity=0);b.def(c,"$enum_for",Y=function(c,d){var g,e=Y.$$p,h=e||v;null==c&&(c="each");var f=arguments.length;g=f-1;0>g&&(g=
0);g=Array(g);for(var k=1;k<f;k++)g[k-1]=arguments[k];e&&(Y.$$p=null);return a(this.$class(),"for",[this,c].concat(b.to_a(g)),h.$to_proc())},Y.$$arity=-1);b.def(c,"$find_all",L=function(){var c,d=L.$$p,g=d||v;d&&(L.$$p=null);r(g)||this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy select without a block");return a(b.const_get_relative(f,"Lazy"),"new",[this,v],(c=function(c,d){var e,h=arguments.length;e=h-1;0>e&&(e=0);e=Array(e);for(var f=1;f<h;f++)e[f-1]=arguments[f];null==c&&
(c=v);h=b.yieldX(g,e);r(h)&&a(c,"yield",b.to_a(e))},c.$$s=this,c.$$arity=-2,c))},L.$$arity=0);b.alias(c,"flat_map","collect_concat");b.def(c,"$grep",U=function(c){var d,g,e=U.$$p,h=e||v;e&&(U.$$p=null);return r(h)?a(b.const_get_relative(f,"Lazy"),"new",[this,v],(d=function(a,d){var g,e=arguments.length;g=e-1;0>g&&(g=0);g=Array(g);for(var k=1;k<e;k++)g[k-1]=arguments[k];null==a&&(a=v);e=b.const_get_relative(f,"Opal").$destructure(g);g=c["$==="](e);r(g)&&(b.yield1(h,e),a.$yield(b.yield1(h,e)))},d.$$s=
this,d.$$arity=-2,d)):a(b.const_get_relative(f,"Lazy"),"new",[this,v],(g=function(a,d){var g,e=arguments.length;g=e-1;0>g&&(g=0);g=Array(g);for(var h=1;h<e;h++)g[h-1]=arguments[h];null==a&&(a=v);e=b.const_get_relative(f,"Opal").$destructure(g);g=c["$==="](e);r(g)&&a.$yield(e)},g.$$s=this,g.$$arity=-2,g))},U.$$arity=1);b.alias(c,"map","collect");b.alias(c,"select","find_all");b.def(c,"$reject",J=function(){var c,d=J.$$p,e=d||v;d&&(J.$$p=null);r(e)||this.$raise(b.const_get_relative(f,"ArgumentError"),
"tried to call lazy reject without a block");return a(b.const_get_relative(f,"Lazy"),"new",[this,v],(c=function(c,d){var h,f=arguments.length;h=f-1;0>h&&(h=0);h=Array(h);for(var k=1;k<f;k++)h[k-1]=arguments[k];null==c&&(c=v);f=b.yieldX(e,h);g(f)&&a(c,"yield",b.to_a(h))},c.$$s=this,c.$$arity=-2,c))},J.$$arity=0);b.def(c,"$take",u=function(c){var d,g=v,e=g=v;c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int");r(C(c,0))&&this.$raise(b.const_get_relative(f,"ArgumentError"),
"attempt to take negative size");g=this.$enumerator_size();g=r(b.const_get_relative(f,"Integer")["$==="](g))?r(C(c,g))?c:g:g;e=0;return a(b.const_get_relative(f,"Lazy"),"new",[this,g],(d=function(g,h){var k=d.$$s||this,l,t=arguments.length;l=t-1;0>l&&(l=0);l=Array(l);for(var p=1;p<t;p++)l[p-1]=arguments[p];null==g&&(g=v);return r(C(e,c))?(a(g,"yield",b.to_a(l)),e=x(e,1)):k.$raise(b.const_get_relative(f,"StopLazyError"))},d.$$s=this,d.$$arity=-2,d))},u.$$arity=1);b.def(c,"$take_while",R=function(){var c,
d=R.$$p,g=d||v;d&&(R.$$p=null);r(g)||this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy take_while without a block");return a(b.const_get_relative(f,"Lazy"),"new",[this,v],(c=function(d,e){var h=c.$$s||this,k,l=arguments.length;k=l-1;0>k&&(k=0);k=Array(k);for(var t=1;t<l;t++)k[t-1]=arguments[t];null==d&&(d=v);l=b.yieldX(g,k);r(l)?a(d,"yield",b.to_a(k)):h.$raise(b.const_get_relative(f,"StopLazyError"))},c.$$s=this,c.$$arity=-2,c))},R.$$arity=0);b.alias(c,"to_enum","enum_for");
return(b.def(c,"$inspect",w=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},w.$$arity=0),v)&&"inspect"}(c[0],D,c)}(u[0],null,u)},Opal.modules["corelib/numeric"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}
var v=b.top,m=[],w=b.nil,z=b.klass,r=b.truthy,a=b.hash2;b.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));v.$require("corelib/comparable");return function(g,$super,H){function p(){}g=p=z(g,$super,"Numeric",p);var q=[g].concat(H),f,c,k,e,d,h,t,m,l,v,n,X,W,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,
ba,N,O,ma,da,I,pa,ea,Z,fa;g.$include(b.const_get_relative(q,"Comparable"));b.def(g,"$coerce",f=function(a){return r(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},f.$$arity=1);b.def(g,"$__coerced__",c=function(a,c){var d,g,e=w;g=d=w;if(r(c["$respond_to?"]("coerce")))return g=c.$coerce(this),d=b.to_ary(g),e=null==d[0]?w:d[0],d=null==d[1]?w:d[1],g,e.$__send__(a,d);g=a;return"+"["$==="](g)||"-"["$==="](g)||"*"["$==="](g)||"/"["$==="](g)||"%"["$==="](g)||"&"["$==="](g)||
"|"["$==="](g)||"^"["$==="](g)||"**"["$==="](g)?this.$raise(b.const_get_relative(q,"TypeError"),""+c.$class()+" can't be coerced into Numeric"):">"["$==="](g)||">="["$==="](g)||"<"["$==="](g)||"<="["$==="](g)||"<=>"["$==="](g)?this.$raise(b.const_get_relative(q,"ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed"):w},c.$$arity=2);b.def(g,"$<=>",k=function(a){return r(this["$equal?"](a))?0:w},k.$$arity=1);b.def(g,"$+@",e=function(){return this},e.$$arity=0);b.def(g,"$-@",d=
function(){return x(0,this)},d.$$arity=0);b.def(g,"$%",h=function(a){return x(this,C(a,this.$div(a)))},h.$$arity=1);b.def(g,"$abs",t=function(){return B(this,0)?this["$-@"]():this},t.$$arity=0);b.def(g,"$abs2",m=function(){return C(this,this)},m.$$arity=0);b.def(g,"$angle",l=function(){return B(this,0)?b.const_get_qualified(b.const_get_relative(q,"Math"),"PI"):0},l.$$arity=0);b.alias(g,"arg","angle");b.def(g,"$ceil",v=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},v.$$arity=-1);b.def(g,
"$conj",n=function(){return this},n.$$arity=0);b.alias(g,"conjugate","conj");b.def(g,"$denominator",X=function(){return this.$to_r().$denominator()},X.$$arity=0);b.def(g,"$div",W=function(a){a["$=="](0)&&this.$raise(b.const_get_relative(q,"ZeroDivisionError"),"divided by o");return u(this,a).$floor()},W.$$arity=1);b.def(g,"$divmod",E=function(a){return[this.$div(a),this["$%"](a)]},E.$$arity=1);b.def(g,"$fdiv",ca=function(a){return u(this.$to_f(),a)},ca.$$arity=1);b.def(g,"$floor",wa=function(a){null==
a&&(a=0);return this.$to_f().$floor(a)},wa.$$arity=-1);b.def(g,"$i",y=function(){return this.$Complex(0,this)},y.$$arity=0);b.def(g,"$imag",A=function(){return 0},A.$$arity=0);b.alias(g,"imaginary","imag");b.def(g,"$integer?",ha=function(){return!1},ha.$$arity=0);b.alias(g,"magnitude","abs");b.alias(g,"modulo","%");b.def(g,"$nonzero?",ja=function(){return r(this["$zero?"]())?w:this},ja.$$arity=0);b.def(g,"$numerator",P=function(){return this.$to_r().$numerator()},P.$$arity=0);b.alias(g,"phase","arg");
b.def(g,"$polar",L=function(){return[this.$abs(),this.$arg()]},L.$$arity=0);b.def(g,"$quo",U=function(a){return u(b.const_get_relative(q,"Opal")["$coerce_to!"](this,b.const_get_relative(q,"Rational"),"to_r"),a)},U.$$arity=1);b.def(g,"$real",J=function(){return this},J.$$arity=0);b.def(g,"$real?",Q=function(){return!0},Q.$$arity=0);b.def(g,"$rect",R=function(){return[this,0]},R.$$arity=0);b.alias(g,"rectangular","rect");b.def(g,"$round",V=function(a){return this.$to_f().$round(a)},V.$$arity=-1);b.def(g,
"$to_c",ba=function(){return this.$Complex(this,0)},ba.$$arity=0);b.def(g,"$to_int",N=function(){return this.$to_i()},N.$$arity=0);b.def(g,"$truncate",O=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},O.$$arity=-1);b.def(g,"$zero?",ma=function(){return this["$=="](0)},ma.$$arity=0);b.def(g,"$positive?",da=function(){return"number"===typeof this?0<this:this["$>"](0)},da.$$arity=0);b.def(g,"$negative?",I=function(){return B(this,0)},I.$$arity=0);b.def(g,"$dup",pa=function(){return this},
pa.$$arity=0);b.def(g,"$clone",ea=function(c){if(null==c||!c.$$is_hash)if(null==c)a([],{});else throw b.ArgumentError.$new("expected kwargs");return this},ea.$$arity=-1);b.def(g,"$finite?",Z=function(){return!0},Z.$$arity=0);return(b.def(g,"$infinite?",fa=function(){return w},fa.$$arity=0),w)&&"infinite?"}(m[0],null,m)},Opal.modules["corelib/array"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var C=b.top,B=[],u=b.nil,v=b.klass,m=b.truthy,w=b.hash2,z=b.send,
r=b.gvars;b.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
C.$require("corelib/enumerable");C.$require("corelib/numeric");return function(a,$super,D){function H(){}function p(a,c){return c.$$name===b.Array?a:c.$allocate().$replace(a.$to_a())}function q(a,c){var d=a.length,e,h,f;e=c.excl;h=b.Opal.$coerce_to(c.begin,b.Integer,"to_int");f=b.Opal.$coerce_to(c.end,b.Integer,"to_int");if(0>h&&(h+=d,0>h)||h>d)return u;if(0>f&&(f+=d,0>f))return[];e||(f+=1);d=a.slice(h,f);return p(d,a.$class())}function f(a,c,d){var e=a.length;c=b.Opal.$coerce_to(c,b.Integer,"to_int");
if(0>c&&(c+=e,0>c))return u;if(void 0===d)return c>=e||0>c?u:a[c];d=b.Opal.$coerce_to(d,b.Integer,"to_int");if(0>d||c>e||0>c)return u;c=a.slice(c,c+d);return p(c,a.$class())}function c(a,b){return a===b||0===b?1:0<b&&a>b?c(a-1,b-1)+c(a-1,b):0}var k=H=v(a,$super,"Array",H),e=k.$$proto,d=[k].concat(D),h,t,Y,l,Ea,n,X,W,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,B,N,O,ma,C,I,pa,ea,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua,Ca,va,Ba,Fa,Ga,Ia,Aa,Ka,Ja,La,la,Ha,F,xa,ga,S,ya,T,M,Ma,sa,Oa,Pa,Da,G,Qa,Ra,Na,Wa,Xa,hb,ib,jb,kb,
Ya,Za,ab,lb,bb,mb,nb,gb,Ua,Ta,eb,fb,Va,ob,Sa,pb;k.$include(b.const_get_relative(d,"Enumerable"));e.$$is_array=!0;b.defs(k,"$[]",h=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return p(b,this)},h.$$arity=-1);b.def(k,"$initialize",t=function(a,c){var e=t.$$p,h=e||u;null==a&&(a=u);null==c&&(c=u);e&&(t.$$p=null);c!==u&&h!==u&&this.$warn("warning: block supersedes default value argument");a>b.const_get_qualified(b.const_get_relative(d,"Integer"),
"MAX")&&this.$raise(b.const_get_relative(d,"ArgumentError"),"array size too big");2<arguments.length&&this.$raise(b.const_get_relative(d,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),
"to_int");0>a&&this.$raise(b.const_get_relative(d,"ArgumentError"),"negative array size");this.splice(0,this.length);var f;if(h===u)for(e=0;e<a;e++)this.push(c);else for(e=0,f;e<a;e++)f=h(e),this[e]=f;return this},t.$$arity=-1);b.defs(k,"$try_convert",Y=function(a){return b.const_get_relative(d,"Opal")["$coerce_to?"](a,b.const_get_relative(d,"Array"),"to_ary")},Y.$$arity=1);b.def(k,"$&",l=function(a){a=m(b.const_get_relative(d,"Array")["$==="](a))?a.$to_a():b.const_get_relative(d,"Opal").$coerce_to(a,
b.const_get_relative(d,"Array"),"to_ary").$to_a();var c=[],e=w([],{}),h,f;h=0;for(f=a.length;h<f;h++)b.hash_put(e,a[h],!0);h=0;for(f=this.length;h<f;h++)a=this[h],void 0!==b.hash_delete(e,a)&&c.push(a);return c},l.$$arity=1);b.def(k,"$|",Ea=function(a){a=m(b.const_get_relative(d,"Array")["$==="](a))?a.$to_a():b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Array"),"to_ary").$to_a();var c=w([],{}),e,h;e=0;for(h=this.length;e<h;e++)b.hash_put(c,this[e],!0);e=0;for(h=a.length;e<h;e++)b.hash_put(c,
a[e],!0);return c.$keys()},Ea.$$arity=1);b.def(k,"$*",n=function(a){if(m(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");m(0>a)&&this.$raise(b.const_get_relative(d,"ArgumentError"),"negative argument");for(var c=[],e=this.$to_a(),h=0;h<a;h++)c=c.concat(e);return p(c,this.$class())},n.$$arity=1);b.def(k,"$+",X=function(a){a=m(b.const_get_relative(d,"Array")["$==="](a))?a.$to_a():b.const_get_relative(d,
"Opal").$coerce_to(a,b.const_get_relative(d,"Array"),"to_ary").$to_a();return this.concat(a)},X.$$arity=1);b.def(k,"$-",W=function(a){a=m(b.const_get_relative(d,"Array")["$==="](a))?a.$to_a():b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Array"),"to_ary").$to_a();if(m(0===this.length))return[];if(m(0===a.length))return this.slice();var c=[],e=w([],{}),h,f;h=0;for(f=a.length;h<f;h++)b.hash_put(e,a[h],!0);h=0;for(f=this.length;h<f;h++)a=this[h],void 0===b.hash_get(e,a)&&c.push(a);
return c},W.$$arity=1);b.def(k,"$<<",E=function(a){this.push(a);return this},E.$$arity=1);b.def(k,"$<=>",ca=function(a){if(m(b.const_get_relative(d,"Array")["$==="](a)))a=a.$to_a();else if(m(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return u;if(this.$hash()===a.$hash())return 0;for(var c=Math.min(this.length,a.length),e=0;e<c;e++){var h=this[e]["$<=>"](a[e]);if(0!==h)return h}return this.length["$<=>"](a.length)},ca.$$arity=1);b.def(k,"$==",wa=function(a){function c(a,h){var f,k,l,t;
if(a===h)return!0;if(!h.$$is_array)return b.const_get_relative(d,"Opal")["$respond_to?"](h,"to_ary")?h["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());h.constructor!==Array&&(h=h.$to_a());if(a.length!==h.length)return!1;e[a.$object_id()]=!0;f=0;for(k=a.length;f<k;f++)if(l=a[f],t=h[f],l.$$is_array){if(t.$$is_array&&t.length!==l.length||!e.hasOwnProperty(l.$object_id())&&!c(l,t))return!1}else if(!l["$=="](t))return!1;return!0}var e={};return c(this,a)},wa.$$arity=1);b.def(k,"$[]",y=function(a,b){return a.$$is_range?
q(this,a):f(this,a,b)},y.$$arity=-2);b.def(k,"$[]=",A=function(a,c,e){var h=u,f=u,k;k=this.length;if(m(b.const_get_relative(d,"Range")["$==="](a))){var h=m(b.const_get_relative(d,"Array")["$==="](c))?c.$to_a():m(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c],l=a.excl;e=b.const_get_relative(d,"Opal").$coerce_to(a.begin,b.const_get_relative(d,"Integer"),"to_int");f=b.const_get_relative(d,"Opal").$coerce_to(a.end,b.const_get_relative(d,"Integer"),"to_int");0>e&&(e+=k,0>e&&this.$raise(b.const_get_relative(d,
"RangeError"),""+a.$inspect()+" out of range"));0>f&&(f+=k);l||(f+=1);if(e>k)for(;k<e;k++)this[k]=u;0>f?this.splice.apply(this,[e,0].concat(h)):this.splice.apply(this,[e,f-e].concat(h))}else{m(void 0===e)?f=1:(f=c,c=e,h=m(b.const_get_relative(d,"Array")["$==="](c))?c.$to_a():m(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c]);a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");f=b.const_get_relative(d,"Opal").$coerce_to(f,b.const_get_relative(d,"Integer"),
"to_int");0>a&&(l=a,a+=k,0>a&&this.$raise(b.const_get_relative(d,"IndexError"),"index "+l+" too small for array; minimum "+-this.length));0>f&&this.$raise(b.const_get_relative(d,"IndexError"),"negative length ("+f+")");if(a>k)for(;k<a;k++)this[k]=u;void 0===e?this[a]=c:this.splice.apply(this,[a,f].concat(h))}return c},A.$$arity=-3);b.def(k,"$any?",ha=function(a){var c=ha.$$p,d=u,e=u,h=u;c&&(ha.$$p=null);e=0;h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];return 0===this.length?!1:z(this,
b.find_super_dispatcher(this,"any?",ha,!1),d,c)},ha.$$arity=-1);b.def(k,"$assoc",ja=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&d[0]["$=="](a))return d;return u},ja.$$arity=1);b.def(k,"$at",P=function(a){a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?u:this[a]},P.$$arity=1);b.def(k,"$bsearch_index",L=function(){var a=L.$$p,c=a||u;a&&(L.$$p=null);if(c===u)return this.$enum_for("bsearch_index");
for(var a=0,e=this.length,h,f,k=!1,l=u;a<e;){h=a+Math.floor((e-a)/2);f=this[h];f=b.yield1(c,f);if(!0===f)l=h,k=!0;else if(!1===f||f===u)k=!1;else if(f.$$is_number){if(0===f)return h;k=0>f}else this.$raise(b.const_get_relative(d,"TypeError"),"wrong argument type "+f.$class()+" (must be numeric, true, false or nil)");k?e=h:a=h+1}return l},L.$$arity=0);b.def(k,"$bsearch",U=function(){var a=U.$$p,b=a||u,c=u;a&&(U.$$p=null);if(b===u)return this.$enum_for("bsearch");c=z(this,"bsearch_index",[],b.$to_proc());
return null!=c&&c.$$is_number?this[c]:c},U.$$arity=0);b.def(k,"$cycle",J=function(a){var c,e,h=J.$$p,f=h||u;null==a&&(a=u);h&&(J.$$p=null);if(f===u)return z(this,"enum_for",["cycle",a],(c=function(){var e=c.$$s||this;if(m(a["$nil?"]()))return b.const_get_qualified(b.const_get_relative(d,"Float"),"INFINITY");a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int");return m(x(a,0))?(e=e.$enumerator_size(),"number"===typeof e&&"number"===typeof a?e*a:e["$*"](a)):
0},c.$$s=this,c.$$arity=0,c));if(m(m(e=this["$empty?"]())?e:a["$=="](0)))return u;if(a===u)for(;;)for(e=0,h=this.length;e<h;e++)b.yield1(f,this[e]);else{a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){e=0;for(h=this.length;e<h;e++)b.yield1(f,this[e]);a--}}return this},J.$$arity=-1);b.def(k,"$clear",Q=function(){this.splice(0,this.length);return this},Q.$$arity=0);b.def(k,"$count",R=function(a){var c,d=R.$$p,e=d||u,h=u,f=
u,k=u;null==a&&(a=u);d&&(R.$$p=null);f=0;k=arguments.length;for(h=Array(k);f<k;f++)h[f]=arguments[f];return m(m(c=a)?c:e)?z(this,b.find_super_dispatcher(this,"count",R,!1),h,d):this.$size()},R.$$arity=-1);b.def(k,"$initialize_copy",V=function(a){return this.$replace(a)},V.$$arity=1);b.def(k,"$collect",B=function(){var a,c=B.$$p,d=c||u;c&&(B.$$p=null);if(d===u)return z(this,"enum_for",["collect"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=[],e=0,h=this.length;e<
h;e++){var f=b.yield1(d,this[e]);c.push(f)}return c},B.$$arity=0);b.def(k,"$collect!",N=function(){var a,c=N.$$p,d=c||u;c&&(N.$$p=null);if(d===u)return z(this,"enum_for",["collect!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++){var h=b.yield1(d,this[c]);this[c]=h}return this},N.$$arity=0);b.def(k,"$combination",O=function(a){var e,h=O.$$p,f=h||u,k=u;h&&(O.$$p=null);k=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,
"Integer"),"to_int");if(f===u)return z(this,"enum_for",["combination",k],(e=function(){return c((e.$$s||this).length,k)},e.$$s=this,e.$$arity=0,e));var l,t;if(0===k)b.yield1(f,[]);else if(1===k)for(h=0,a=this.length;h<a;h++)b.yield1(f,[this[h]]);else if(k===this.length)b.yield1(f,this.slice());else if(0<=k&&k<this.length){a=[];for(h=0;h<=k+1;h++)a.push(0);h=[];l=0;t=!1;for(a[0]=-1;!t;){for(h[l]=this[a[l+1]];l<k-1;)l++,t=a[l+1]=a[l]+1,h[l]=this[t];b.yield1(f,h.slice());l++;do t=0===l,a[l]++,l--;while(a[l+
1]+k===this.length+l+1)}}return this},O.$$arity=1);b.def(k,"$repeated_combination",ma=function(a){function e(a,c,d,h){if(d.length==a)a=d.slice(),b.yield1(k,a);else for(;c<h.length;c++)d.push(h[c]),e(a,c,d,h),d.pop()}var h,f=ma.$$p,k=f||u,l=u;f&&(ma.$$p=null);l=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int");if(k===u)return z(this,"enum_for",["repeated_combination",l],(h=function(){return c((h.$$s||this).length+l-1,l)},h.$$s=this,h.$$arity=0,h));0<=l&&e(l,
0,[],this);return this},ma.$$arity=1);b.def(k,"$compact",C=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==u&&a.push(d);return a},C.$$arity=0);b.def(k,"$compact!",I=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===u&&(this.splice(b,1),c--,b--);return this.length===a?u:this},I.$$arity=0);b.def(k,"$concat",pa=function(a){var c,e,h,f=arguments.length;h=f-0;0>h&&(h=0);h=Array(h);for(var k=0;k<f;k++)h[k-0]=arguments[k];h=z(h,"map",[],(c=function(a){var e=c.$$s||this;
null==a&&(a=u);a=m(b.const_get_relative(d,"Array")["$==="](a))?a.$to_a():b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Array"),"to_ary").$to_a();m(a["$equal?"](e))&&(a=a.$dup());return a},c.$$s=this,c.$$arity=1,c));z(h,"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=u);for(var c=0,d=a.length;c<d;c++)b.push(a[c])},e.$$s=this,e.$$arity=1,e));return this},pa.$$arity=-1);b.def(k,"$delete",ea=function(a){var c=ea.$$p,d=c||u;c&&(ea.$$p=null);for(var c=this.length,e=0,h=c;e<
h;e++)this[e]["$=="](a)&&(this.splice(e,1),h--,e--);return this.length===c?d!==u?b.yieldX(d,[]):u:a},ea.$$arity=1);b.def(k,"$delete_at",Z=function(a){a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return u;var c=this[a];this.splice(a,1);return c},Z.$$arity=1);b.def(k,"$delete_if",fa=function(){var a,b=fa.$$p,c=b||u;b&&(fa.$$p=null);if(c===u)return z(this,"enum_for",["delete_if"],(a=function(){return(a.$$s||this).$size()},
a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,e;b<d;b++)e=c(this[b]),!1!==e&&e!==u&&(this.splice(b,1),d--,b--);return this},fa.$$arity=0);b.def(k,"$dig",K=function(a,c){var e,h=u,h=arguments.length;e=h-1;0>e&&(e=0);e=Array(e);for(var f=1;f<h;f++)e[f-1]=arguments[f];h=this["$[]"](a);if(h===u||0===e.length)return h;m(h["$respond_to?"]("dig"))||this.$raise(b.const_get_relative(d,"TypeError"),""+h.$class()+" does not have #dig method");return z(h,"dig",b.to_a(e))},K.$$arity=-2);b.def(k,"$drop",
ka=function(a){0>a&&this.$raise(b.const_get_relative(d,"ArgumentError"));return this.slice(a)},ka.$$arity=1);b.def(k,"$dup",oa=function(){var a=oa.$$p,c=u,d=u,e=u;a&&(oa.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return this.$$class===b.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):z(this,b.find_super_dispatcher(this,"dup",oa,!1),c,a)},oa.$$arity=0);b.def(k,"$each",aa=function(){var a,
c=aa.$$p,d=c||u;c&&(aa.$$p=null);if(d===u)return z(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++)b.yield1(d,this[c]);return this},aa.$$arity=0);b.def(k,"$each_index",ia=function(){var a,c=ia.$$p,d=c||u;c&&(ia.$$p=null);if(d===u)return z(this,"enum_for",["each_index"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++)b.yield1(d,c);return this},ia.$$arity=0);b.def(k,
"$empty?",za=function(){return 0===this.length},za.$$arity=0);b.def(k,"$eql?",qa=function(a){function b(a,d){var e,h,f,k;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;c[a.$object_id()]=!0;e=0;for(h=a.length;e<h;e++)if(f=a[e],k=d[e],f.$$is_array){if(k.$$is_array&&k.length!==f.length||!c.hasOwnProperty(f.$object_id())&&!b(f,k))return!1}else if(!f["$eql?"](k))return!1;return!0}var c={};return b(this,a)},qa.$$arity=1);b.def(k,"$fetch",na=function(a,c){var e=na.$$p,h=e||u;e&&(na.$$p=
null);e=a;a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];h!==u&&null!=c&&this.$warn("warning: block supersedes default value argument");if(h!==u)return h(e);if(null!=c)return c;0===this.length?this.$raise(b.const_get_relative(d,"IndexError"),"index "+e+" outside of array bounds: 0...0"):this.$raise(b.const_get_relative(d,"IndexError"),"index "+e+" outside of array bounds: -"+this.length+"..."+this.length)},
na.$$arity=-2);b.def(k,"$fill",ra=function(a){var c,e,h=(e=ra.$$p)||u,f=u,k=u,l=u,k=c=u,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(k=0;k<f;k++)c[k-0]=arguments[k];e&&(ra.$$p=null);m(h)?(m(2<c.length)&&this.$raise(b.const_get_relative(d,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 0..2)"),e=c,c=b.to_ary(e),f=null==c[0]?u:c[0],k=null==c[1]?u:c[1]):(m(0==c.length)?this.$raise(b.const_get_relative(d,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):m(3<c.length)&&
this.$raise(b.const_get_relative(d,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 1..3)"),e=c,c=b.to_ary(e),l=null==c[0]?u:c[0],f=null==c[1]?u:c[1],k=null==c[2]?u:c[2]);e;if(m(b.const_get_relative(d,"Range")["$==="](f))){if(m(k)&&this.$raise(b.const_get_relative(d,"TypeError"),"length invalid with range"),c=b.const_get_relative(d,"Opal").$coerce_to(f.$begin(),b.const_get_relative(d,"Integer"),"to_int"),m(0>c)&&(c+=this.length),m(0>c)&&this.$raise(b.const_get_relative(d,"RangeError"),
""+f.$inspect()+" out of range"),k=b.const_get_relative(d,"Opal").$coerce_to(f.$end(),b.const_get_relative(d,"Integer"),"to_int"),m(0>k)&&(k+=this.length),m(f["$exclude_end?"]())||(k+=1),m(k<=c))return this}else if(m(f))if(c=b.const_get_relative(d,"Opal").$coerce_to(f,b.const_get_relative(d,"Integer"),"to_int"),m(0>c)&&(c+=this.length),m(0>c)&&(c=0),m(k)){k=b.const_get_relative(d,"Opal").$coerce_to(k,b.const_get_relative(d,"Integer"),"to_int");if(m(0==k))return this;k+=c}else k=this.length;else c=
0,k=this.length;if(m(c>this.length))for(e=this.length;e<k;e++)this[e]=u;m(k>this.length)&&(this.length=k);if(m(h))for(;c<k;c++)l=h(c),this[c]=l;else for(;c<k;c++)this[c]=l;return this},ra.$$arity=-1);b.def(k,"$first",ta=function(a){if(null==a)return 0===this.length?u:this[0];a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(d,"ArgumentError"),"negative array size");return this.slice(0,a)},ta.$$arity=-1);b.def(k,"$flatten",
ua=function(a){function c(a,h){var f=[],k,l,t,p;a=a.$to_a();k=0;for(l=a.length;k<l;k++)if(t=a[k],b.const_get_relative(d,"Opal")["$respond_to?"](t,"to_ary",!0))if(p=t.$to_ary(),p===u)f.push(t);else switch(p.$$is_array||e.$raise(b.const_get_relative(d,"TypeError")),p===e&&e.$raise(b.const_get_relative(d,"ArgumentError")),h){case void 0:f=f.concat(c(p));break;case 0:f.push(p);break;default:f.push.apply(f,c(p,h-1))}else f.push(t);return f}var e=this;void 0!==a&&(a=b.const_get_relative(d,"Opal").$coerce_to(a,
b.const_get_relative(d,"Integer"),"to_int"));return p(c(e,a),e.$class())},ua.$$arity=-1);b.def(k,"$flatten!",Ca=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return u}this.$replace(a);return this},Ca.$$arity=-1);b.def(k,"$hash",va=function(){var a=void 0===b.hash_ids,c=["A"],d=this.$object_id(),e,h,f;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[d])return"self";for(f in b.hash_ids)if(e=b.hash_ids[f],this["$eql?"](e))return"self";
b.hash_ids[d]=this;for(h=0;h<this.length;h++)e=this[h],c.push(e.$hash());return c.join(",")}finally{a&&(b.hash_ids=void 0)}},va.$$arity=0);b.def(k,"$include?",Ba=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},Ba.$$arity=1);b.def(k,"$index",Fa=function(a){var b=Fa.$$p,c=b||u;b&&(Fa.$$p=null);var d;null!=a&&c!==u&&this.$warn("warning: given block not used");if(null!=a)for(b=0,d=this.length;b<d;b++){if(this[b]["$=="](a))return b}else if(c!==u)for(b=0,d=this.length;b<
d;b++){if(a=c(this[b]),!1!==a&&a!==u)return b}else return this.$enum_for("index");return u},Fa.$$arity=-1);b.def(k,"$insert",Ga=function(a,c){var e,h=arguments.length;e=h-1;0>e&&(e=0);e=Array(e);for(var f=1;f<h;f++)e[f-1]=arguments[f];a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");if(0<e.length){0>a&&(a+=this.length+1,0>a&&this.$raise(b.const_get_relative(d,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(h=this.length;h<a;h++)this.push(u);this.splice.apply(this,
[a,0].concat(e))}return this},Ga.$$arity=-2);b.def(k,"$inspect",Ia=function(){for(var a=[],b=this.$__id__(),c=0,d=this.length;c<d;c++){var e=this["$[]"](c);e.$__id__()===b?a.push("[...]"):a.push(e.$inspect())}return"["+a.join(", ")+"]"},Ia.$$arity=0);b.def(k,"$join",Aa=function(a){null==r[","]&&(r[","]=u);null==a&&(a=u);if(m(0===this.length))return"";m(a===u)&&(a=r[","]);var c=[],e,h,f,k;e=0;for(h=this.length;e<h;e++){f=this[e];if(b.const_get_relative(d,"Opal")["$respond_to?"](f,"to_str")&&(k=f.$to_str(),
k!==u)){c.push(k.$to_s());continue}if(b.const_get_relative(d,"Opal")["$respond_to?"](f,"to_ary")&&(k=f.$to_ary(),k===this&&this.$raise(b.const_get_relative(d,"ArgumentError")),k!==u)){c.push(k.$join(a));continue}if(b.const_get_relative(d,"Opal")["$respond_to?"](f,"to_s")&&(k=f.$to_s(),k!==u)){c.push(k);continue}this.$raise(b.const_get_relative(d,"NoMethodError").$new(""+b.inspect(f)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===u?c.join(""):c.join(b.const_get_relative(d,"Opal")["$coerce_to!"](a,
b.const_get_relative(d,"String"),"to_str").$to_s())},Aa.$$arity=-1);b.def(k,"$keep_if",Ka=function(){var a,b=Ka.$$p,c=b||u;b&&(Ka.$$p=null);if(c===u)return z(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,e;b<d;b++)if(e=c(this[b]),!1===e||e===u)this.splice(b,1),d--,b--;return this},Ka.$$arity=0);b.def(k,"$last",Ja=function(a){if(null==a)return 0===this.length?u:this[this.length-1];a=b.const_get_relative(d,"Opal").$coerce_to(a,
b.const_get_relative(d,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(d,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},Ja.$$arity=-1);b.def(k,"$length",La=function(){return this.length},La.$$arity=0);b.alias(k,"map","collect");b.alias(k,"map!","collect!");b.def(k,"$max",la=function(a){var b=la.$$p,c=b||u;b&&(la.$$p=null);return z(this.$each(),"max",[a],c.$to_proc())},la.$$arity=-1);b.def(k,"$min",Ha=function(){var a=
Ha.$$p,b=a||u;a&&(Ha.$$p=null);return z(this.$each(),"min",[],b.$to_proc())},Ha.$$arity=0);b.def(k,"$permutation",F=function(a){var c,e=this,h=F.$$p,f=h||u,k=u,l=u;h&&(F.$$p=null);if(f===u)return z(e,"enum_for",["permutation",a],(c=function(){for(var b=c.$$s||this,d=b.length,b=void 0===a?b.length:a,e=0<=b?1:0;b;)e*=d,d--,b--;return e},c.$$s=e,c.$$arity=0,c));var t,p;a=void 0===a?e.length:b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");if(!(0>a||e.length<a))if(0===
a)b.yield1(f,[]);else if(1===a)for(k=0;k<e.length;k++)b.yield1(f,[e[k]]);else k=b.const_get_relative(d,"Array").$new(a),l=b.const_get_relative(d,"Array").$new(e.length,!1),t=function(a,c,d,h,f){e=this;for(var k=0;k<e.length;k++)if(h["$[]"](k)["$!"]())if(c[d]=k,d<a-1)h[k]=!0,t.call(e,a,c,d+1,h,f),h[k]=!1;else{p=[];for(var l=0;l<c.length;l++)p.push(e[c[l]]);b.yield1(f,p)}},f!==u?(h=e.slice(),t.call(h,a,k,0,l,f)):t.call(e,a,k,0,l,f);return e},F.$$arity=-1);b.def(k,"$repeated_permutation",xa=function(a){function c(a,
d,e){if(d.length==a)a=d.slice(),b.yield1(f,a);else for(var h=0;h<e.length;h++)d.push(e[h]),c(a,d,e),d.pop()}var e,h=xa.$$p,f=h||u,k=u;h&&(xa.$$p=null);k=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int");if(f===u)return z(this,"enum_for",["repeated_permutation",k],(e=function(){var a=e.$$s||this;return m("number"===typeof k?0<=k:k["$>="](0))?a.$size()["$**"](k):0},e.$$s=this,e.$$arity=0,e));c(k,[],this.slice());return this},xa.$$arity=1);b.def(k,"$pop",ga=
function(a){if(m(void 0===a))return m(0===this.length)?u:this.pop();a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");m(0>a)&&this.$raise(b.const_get_relative(d,"ArgumentError"),"negative array size");return m(0===this.length)?[]:m(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},ga.$$arity=-1);b.def(k,"$product",S=function(a){var c,e=S.$$p,h=e||u,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var k=0;k<f;k++)c[k-0]=arguments[k];
e&&(S.$$p=null);var e=h!==u?null:[],f=c.length+1,k=Array(f),l=Array(f),t=Array(f),p,M=1;t[0]=this;for(p=1;p<f;p++)t[p]=b.const_get_relative(d,"Opal").$coerce_to(c[p-1],b.const_get_relative(d,"Array"),"to_ary");for(p=0;p<f;p++){c=t[p].length;if(0===c)return e||this;M*=c;2147483647<M&&this.$raise(b.const_get_relative(d,"RangeError"),"too big to product");l[p]=c;k[p]=0}a:for(;;){c=[];for(p=0;p<f;p++)c.push(t[p][k[p]]);e?e.push(c):b.yield1(h,c);c=f-1;for(k[c]++;k[c]===l[c];){k[c]=0;if(0>--c)break a;k[c]++}}return e||
this},S.$$arity=-1);b.def(k,"$push",ya=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];c=0;for(d=b.length;c<d;c++)this.push(b[c]);return this},ya.$$arity=-1);b.alias(k,"append","push");b.def(k,"$rassoc",T=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;return u},T.$$arity=1);b.def(k,"$reject",M=function(){var a,b=M.$$p,c=b||u;b&&(M.$$p=null);if(c===u)return z(this,"enum_for",["reject"],
(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=[],d=0,e=this.length,h;d<e;d++)h=c(this[d]),!1!==h&&h!==u||b.push(this[d]);return b},M.$$arity=0);b.def(k,"$reject!",Ma=function(){var a,b=Ma.$$p,c=b||u,d=u;b&&(Ma.$$p=null);if(c===u)return z(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));d=this.$length();z(this,"delete_if",[],c.$to_proc());return this.$length()["$=="](d)?u:this},Ma.$$arity=0);b.def(k,"$replace",sa=function(a){a=
m(b.const_get_relative(d,"Array")["$==="](a))?a.$to_a():b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},sa.$$arity=1);b.def(k,"$reverse",Oa=function(){return this.slice(0).reverse()},Oa.$$arity=0);b.def(k,"$reverse!",Pa=function(){return this.reverse()},Pa.$$arity=0);b.def(k,"$reverse_each",Da=function(){var a,b=Da.$$p,c=b||u;b&&(Da.$$p=null);if(c===u)return z(this,"enum_for",["reverse_each"],
(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));z(this.$reverse(),"each",[],c.$to_proc());return this},Da.$$arity=0);b.def(k,"$rindex",G=function(a){var b=G.$$p,c=b||u;b&&(G.$$p=null);null!=a&&c!==u&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==u)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==u)return b}else if(null==a)return this.$enum_for("rindex");
return u},G.$$arity=-1);b.def(k,"$rotate",Qa=function(a){null==a&&(a=1);a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");var c,e;if(1===this.length)return this.slice();if(0===this.length)return[];c=this.slice();e=a%c.length;a=c.slice(e);c=c.slice(0,e);return a.concat(c)},Qa.$$arity=-1);b.def(k,"$rotate!",Ra=function(a){var c=u;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,
"Integer"),"to_int");c=this.$rotate(a);return this.$replace(c)},Ra.$$arity=-1);(function(a,$super,c){function d(){}a=d=v(a,$super,"SampleRandom",d);var e=a.$$proto,h=[a].concat(c),f,k;e.rng=u;b.def(a,"$initialize",f=function(a){return this.rng=a},f.$$arity=1);return(b.def(a,"$rand",k=function(a){var c=u,c=b.const_get_relative(h,"Opal").$coerce_to(this.rng.$rand(a),b.const_get_relative(h,"Integer"),"to_int");m(0>c)&&this.$raise(b.const_get_relative(h,"RangeError"),"random value must be >= 0");m(c<
a)||this.$raise(b.const_get_relative(h,"RangeError"),"random value must be less than Array size");return c},k.$$arity=1),u)&&"rand"})(d[0],null,d);b.def(k,"$sample",Na=function(a,c){var e,h=u,f=u;if(m(void 0===a))return this.$at(b.const_get_relative(d,"Kernel").$rand(this.length));m(void 0===c)?m(h=b.const_get_relative(d,"Opal")["$coerce_to?"](a,b.const_get_relative(d,"Hash"),"to_hash"))?(c=h,a=u):(c=u,a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int")):(a=b.const_get_relative(d,
"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int"),c=b.const_get_relative(d,"Opal").$coerce_to(c,b.const_get_relative(d,"Hash"),"to_hash"));m(m(e=a)?0>a:e)&&this.$raise(b.const_get_relative(d,"ArgumentError"),"count must be greater than 0");m(c)&&(f=c["$[]"]("random"));f=m(m(e=f)?f["$respond_to?"]("rand"):e)?b.const_get_relative(d,"SampleRandom").$new(f):b.const_get_relative(d,"Kernel");if(!m(a))return this[f.$rand(this.length)];var k,l,t,p;a>this.length&&(a=this.length);switch(a){case 0:return[];
case 1:return[this[f.$rand(this.length)]];case 2:return l=f.$rand(this.length),t=f.$rand(this.length),l===t&&(t=0===l?l+1:l-1),[this[l],this[t]];default:if(3<this.length/a){h=!1;k=0;e=b.const_get_relative(d,"Array").$new(a);l=1;for(e[0]=f.$rand(this.length);l<a;){p=f.$rand(this.length);for(t=0;t<l;){for(;p===e[t];){k++;if(100<k){h=!0;break}p=f.$rand(this.length)}if(h)break;t++}if(h)break;e[l]=p;l++}if(!h){for(l=0;l<a;)e[l]=this[e[l]],l++;return e}}e=this.slice();for(l=0;l<a;l++)h=f.$rand(this.length),
k=e[l],e[l]=e[h],e[h]=k;return a===this.length?e:e["$[]"](0,a)}},Na.$$arity=-1);b.def(k,"$select",Wa=function(){var a,c=Wa.$$p,d=c||u;c&&(Wa.$$p=null);if(d===u)return z(this,"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=[],e=0,h=this.length,f,k;e<h;e++)f=this[e],k=b.yield1(d,f),!1!==k&&k!==u&&c.push(f);return c},Wa.$$arity=0);b.def(k,"$select!",Xa=function(){var a,b=Xa.$$p,c=b||u;b&&(Xa.$$p=null);if(c===u)return z(this,"enum_for",["select!"],
(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));b=this.length;z(this,"keep_if",[],c.$to_proc());return this.length===b?u:this},Xa.$$arity=0);b.def(k,"$shift",hb=function(a){if(m(void 0===a))return m(0===this.length)?u:this.shift();a=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");m(0>a)&&this.$raise(b.const_get_relative(d,"ArgumentError"),"negative array size");return m(0===this.length)?[]:this.splice(0,a)},hb.$$arity=-1);b.alias(k,"size",
"length");b.def(k,"$shuffle",ib=function(a){return this.$dup().$to_a()["$shuffle!"](a)},ib.$$arity=-1);b.def(k,"$shuffle!",jb=function(a){var c,e=this.length,h;void 0!==a&&(a=b.const_get_relative(d,"Opal")["$coerce_to?"](a,b.const_get_relative(d,"Hash"),"to_hash"),a!==u&&(a=a["$[]"]("random"),a!==u&&a["$respond_to?"]("rand")&&(c=a)));for(;e;)c?(a=c.$rand(e).$to_int(),0>a&&this.$raise(b.const_get_relative(d,"RangeError"),"random number too small "+a),a>=e&&this.$raise(b.const_get_relative(d,"RangeError"),
"random number too big "+a)):a=this.$rand(e),h=this[--e],this[e]=this[a],this[a]=h;return this},jb.$$arity=-1);b.alias(k,"slice","[]");b.def(k,"$slice!",kb=function(a,c){var e=u,h=u,f=u,k=u,h=u;if(m(void 0===c))if(m(b.const_get_relative(d,"Range")["$==="](a))){h=a;e=this["$[]"](h);f=b.const_get_relative(d,"Opal").$coerce_to(h.$begin(),b.const_get_relative(d,"Integer"),"to_int");k=b.const_get_relative(d,"Opal").$coerce_to(h.$end(),b.const_get_relative(d,"Integer"),"to_int");0>f&&(f+=this.length);0>
k?k+=this.length:k>=this.length&&(k=this.length-1,h.excl&&(k+=1));var l=k-f;h.excl?--k:l+=1;f<this.length&&0<=f&&k<this.length&&0<=k&&0<l&&this.splice(f,l)}else{h=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");0>h&&(h+=this.length);if(0>h||h>=this.length)return u;e=this[h];0===h?this.shift():this.splice(h,1)}else{h=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");c=b.const_get_relative(d,"Opal").$coerce_to(c,b.const_get_relative(d,
"Integer"),"to_int");if(0>c)return u;e=this["$[]"](h,c);0>h&&(h+=this.length);h+c>this.length&&(c=this.length-h);h<this.length&&0<=h&&this.splice(h,c)}return e},kb.$$arity=-2);b.def(k,"$sort",Ya=function(){var a=this,c=Ya.$$p,e=c||u;c&&(Ya.$$p=null);if(!m(1<a.length))return a;e===u&&(e=function(a,b){return a["$<=>"](b)});return a.slice().sort(function(c,h){var f=e(c,h);f===u&&a.$raise(b.const_get_relative(d,"ArgumentError"),"comparison of "+c.$inspect()+" with "+h.$inspect()+" failed");return x(f,
0)?1:("number"===typeof f?0>f:f["$<"](0))?-1:0})},Ya.$$arity=0);b.def(k,"$sort!",Za=function(){var a=Za.$$p,b=a||u;a&&(Za.$$p=null);for(var a=b!==u?z(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort(),b=this.length=0,c=a.length;b<c;b++)this.push(a[b]);return this},Za.$$arity=0);b.def(k,"$sort_by!",ab=function(){var a,b=ab.$$p,c=b||u;b&&(ab.$$p=null);return c===u?z(this,"enum_for",["sort_by!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a)):this.$replace(z(this,"sort_by",
[],c.$to_proc()))},ab.$$arity=0);b.def(k,"$take",lb=function(a){0>a&&this.$raise(b.const_get_relative(d,"ArgumentError"));return this.slice(0,a)},lb.$$arity=1);b.def(k,"$take_while",bb=function(){var a=bb.$$p,b=a||u;a&&(bb.$$p=null);for(var a=[],c=0,d=this.length,e,h;c<d;c++){e=this[c];h=b(e);if(!1===h||h===u)break;a.push(e)}return a},bb.$$arity=0);b.def(k,"$to_a",mb=function(){return this},mb.$$arity=0);b.alias(k,"to_ary","to_a");b.def(k,"$to_h",nb=function(){var a,c=this.length,e,h,f=w([],{});for(a=
0;a<c;a++)e=b.const_get_relative(d,"Opal")["$coerce_to?"](this[a],b.const_get_relative(d,"Array"),"to_ary"),e.$$is_array||this.$raise(b.const_get_relative(d,"TypeError"),"wrong element type "+e.$class()+" at "+a+" (expected array)"),2!==e.length&&this.$raise(b.const_get_relative(d,"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+e.$length()+")"),h=e[0],e=e[1],b.hash_put(f,h,e);return f},nb.$$arity=0);b.alias(k,"to_s","inspect");b.def(k,"$transpose",gb=function(){var a,c=u,e=u;if(m(this["$empty?"]()))return[];
c=[];e=u;z(this,"each",[],(a=function(h){var f=a.$$s||this,k,l;null==h&&(h=u);h=m(b.const_get_relative(d,"Array")["$==="](h))?h.$to_a():b.const_get_relative(d,"Opal").$coerce_to(h,b.const_get_relative(d,"Array"),"to_ary").$to_a();e=m(k=e)?k:h.length;m(h.length["$!="](e))&&f.$raise(b.const_get_relative(d,"IndexError"),"element size differs ("+h.length+" should be "+e+")");return z(h.length,"times",[],(l=function(a){var d,e=u;null==a&&(a=u);m(d=c["$[]"](a))||(e=[a,[]],z(c,"[]=",b.to_a(e)),d=e,e=e.length,
e="number"===typeof e?e-1:e["$-"](1),d=d[e]);return d["$<<"](h.$at(a))},l.$$s=f,l.$$arity=1,l))},a.$$s=this,a.$$arity=1,a));return c},gb.$$arity=0);b.def(k,"$uniq",Ua=function(){var a=Ua.$$p,c=a||u;a&&(Ua.$$p=null);var a=w([],{}),d,e,h,f;if(c===u)for(d=0,e=this.length;d<e;d++)h=this[d],void 0===b.hash_get(a,h)&&b.hash_put(a,h,h);else for(d=0,e=this.length;d<e;d++)h=this[d],f=b.yield1(c,h),void 0===b.hash_get(a,f)&&b.hash_put(a,f,h);return p(a.$values(),this.$class())},Ua.$$arity=0);b.def(k,"$uniq!",
Ta=function(){var a=Ta.$$p,c=a||u;a&&(Ta.$$p=null);var a=this.length,d=w([],{}),e,h,f,k;e=0;for(h=a;e<h;e++)f=this[e],k=c===u?f:b.yield1(c,f),void 0===b.hash_get(d,k)?b.hash_put(d,k,f):(this.splice(e,1),h--,e--);return this.length===a?u:this},Ta.$$arity=0);b.def(k,"$unshift",eb=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];for(c=b.length-1;0<=c;c--)this.unshift(b[c]);return this},eb.$$arity=-1);b.alias(k,"prepend","unshift");b.def(k,"$values_at",
fb=function(a){var c,e,h=u,f=arguments.length;e=f-0;0>e&&(e=0);e=Array(e);for(var k=0;k<f;k++)e[k-0]=arguments[k];h=[];z(e,"each",[],(c=function(a){var e=c.$$s||this,f,k=u,l=u,k=u;null==a&&(a=u);if(m(a["$is_a?"](b.const_get_relative(d,"Range")))){k=b.const_get_relative(d,"Opal").$coerce_to(a.$last(),b.const_get_relative(d,"Integer"),"to_int");l=b.const_get_relative(d,"Opal").$coerce_to(a.$first(),b.const_get_relative(d,"Integer"),"to_int");if(0>l)return l+=e.length,u;0>k&&(k+=e.length);a["$exclude_end?"]()&&
k--;return k<l?u:z(l,"upto",[k],(f=function(a){var b=f.$$s||this;null==a&&(a=u);return h["$<<"](b.$at(a))},f.$$s=e,f.$$arity=1,f))}k=b.const_get_relative(d,"Opal").$coerce_to(a,b.const_get_relative(d,"Integer"),"to_int");return h["$<<"](e.$at(k))},c.$$s=this,c.$$arity=1,c));return h},fb.$$arity=-1);b.def(k,"$zip",Va=function(a){var c,e,h=Va.$$p,f=h||u,k=arguments.length;e=k-0;0>e&&(e=0);e=Array(e);for(var l=0;l<k;l++)e[l-0]=arguments[l];h&&(Va.$$p=null);var h=[],k=this.length,t,p,M;p=0;for(M=e.length;p<
M;p++)l=e[p],l.$$is_array||(l.$$is_enumerator?Infinity===l.$size()?e[p]=l.$take(k):e[p]=l.$to_a():e[p]=(m(c=b.const_get_relative(d,"Opal")["$coerce_to?"](l,b.const_get_relative(d,"Array"),"to_ary"))?c:b.const_get_relative(d,"Opal")["$coerce_to!"](l,b.const_get_relative(d,"Enumerator"),"each")).$to_a());for(t=0;t<k;t++){c=[this[t]];p=0;for(M=e.length;p<M;p++)l=e[p][t],null==l&&(l=u),c[p+1]=l;h[t]=c}if(f!==u){for(t=0;t<k;t++)f(h[t]);return u}return h},Va.$$arity=-1);b.defs(k,"$inherited",ob=function(a){a.$$proto.$to_a=
function(){return this.slice(0,this.length)}},ob.$$arity=1);b.def(k,"$instance_variables",Sa=function(){var a,c=Sa.$$p,d=u,e=u,h=u;c&&(Sa.$$p=null);e=0;h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];return z(z(this,b.find_super_dispatcher(this,"instance_variables",Sa,!1),d,c),"reject",[],(a=function(a){var b;null==a&&(a=u);return m(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},Sa.$$arity=0);b.const_get_relative(d,"Opal").$pristine(k.$singleton_class(),"allocate");
b.const_get_relative(d,"Opal").$pristine(k,"copy_instance_variables","initialize_dup");return(b.def(k,"$pack",pb=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},pb.$$arity=-1),u)&&"pack"}(B[0],Array,B)},Opal.modules["corelib/hash"]=function(b){function x(b,a){return"number"===typeof b&&"number"===typeof a?b>=a:b["$>="](a)}var C=b.top,B=[],u=b.nil,v=b.klass,
m=b.send,w=b.hash2,z=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));C.$require("corelib/enumerable");return function(r,$super,g){function D(){}r=D=v(r,$super,"Hash",D);var H=r.$$proto,p=[r].concat(g),q,f,c,k,e,d,h,t,Y,l,Ea,n,X,W,E,
ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,B,N,O,ma,C,I,pa,ea,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua,Ca,va,Ba,Fa,Ga,Ia,Aa,Ka,Ja,La,la,Ha,F;r.$include(b.const_get_relative(p,"Enumerable"));H.$$is_hash=!0;b.defs(r,"$[]",q=function(c){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var g=0;g<e;g++)d[g-0]=arguments[g];var g=d.length,h;if(1===g){e=b.const_get_relative(p,"Opal")["$coerce_to?"](d["$[]"](0),b.const_get_relative(p,"Hash"),"to_hash");if(e!==u)return this.$allocate()["$merge!"](e);d=b.const_get_relative(p,
"Opal")["$coerce_to?"](d["$[]"](0),b.const_get_relative(p,"Array"),"to_ary");d===u&&this.$raise(b.const_get_relative(p,"ArgumentError"),"odd number of arguments for Hash");g=d.length;e=this.$allocate();for(h=0;h<g;h++)if(d[h].$$is_array)switch(d[h].length){case 1:e.$store(d[h][0],u);break;case 2:e.$store(d[h][0],d[h][1]);break;default:this.$raise(b.const_get_relative(p,"ArgumentError"),"invalid number of elements ("+d[h].length+" for 1..2)")}return e}0!==g%2&&this.$raise(b.const_get_relative(p,"ArgumentError"),
"odd number of arguments for Hash");e=this.$allocate();for(h=0;h<g;h+=2)e.$store(d[h],d[h+1]);return e},q.$$arity=-1);b.defs(r,"$allocate",f=function(){var c=new this.$$alloc;b.hash_init(c);c.$$none=u;c.$$proc=u;return c},f.$$arity=0);b.defs(r,"$try_convert",c=function(c){return b.const_get_relative(p,"Opal")["$coerce_to?"](c,b.const_get_relative(p,"Hash"),"to_hash")},c.$$arity=1);b.def(r,"$initialize",k=function(c){var d=k.$$p,e=d||u;d&&(k.$$p=null);void 0!==c&&e!==u&&this.$raise(b.const_get_relative(p,
"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===c?u:c;this.$$proc=e;return this},k.$$arity=-1);b.def(r,"$==",e=function(c){if(this===c)return!0;if(!c.$$is_hash||this.$$keys.length!==c.$$keys.length)return!1;for(var d=0,e=this.$$keys,g=e.length,h,f;d<g;d++)if(h=e[d],h.$$is_string?(f=this.$$smap[h],h=c.$$smap[h]):(f=h.value,h=b.hash_get(c,h.key)),void 0===h||!f["$eql?"](h))return!1;return!0},e.$$arity=1);b.def(r,"$>=",d=function(c){var d,e=u;c=b.const_get_relative(p,"Opal")["$coerce_to!"](c,
b.const_get_relative(p,"Hash"),"to_hash");if(this.$$keys.length<c.$$keys.length)return!1;e=!0;m(c,"each",[],(d=function(b,c){var g=d.$$s||this,h=u;null==b&&(b=u);null==c&&(c=u);h=g.$fetch(b,null);if(null==h||h!==c)e=!1},d.$$s=this,d.$$arity=2,d));return e},d.$$arity=1);b.def(r,"$>",h=function(c){c=b.const_get_relative(p,"Opal")["$coerce_to!"](c,b.const_get_relative(p,"Hash"),"to_hash");return this.$$keys.length<=c.$$keys.length?!1:x(this,c)},h.$$arity=1);b.def(r,"$<",t=function(c){c=b.const_get_relative(p,
"Opal")["$coerce_to!"](c,b.const_get_relative(p,"Hash"),"to_hash");return"number"===typeof c&&"number"===typeof this?c>this:c["$>"](this)},t.$$arity=1);b.def(r,"$<=",Y=function(c){c=b.const_get_relative(p,"Opal")["$coerce_to!"](c,b.const_get_relative(p,"Hash"),"to_hash");return x(c,this)},Y.$$arity=1);b.def(r,"$[]",l=function(c){var d=b.hash_get(this,c);return void 0!==d?d:this.$default(c)},l.$$arity=1);b.def(r,"$[]=",Ea=function(c,d){b.hash_put(this,c,d);return d},Ea.$$arity=2);b.def(r,"$assoc",
n=function(b){for(var c=0,d=this.$$keys,e=d.length,g;c<e;c++)if(g=d[c],g.$$is_string){if(g["$=="](b))return[g,this.$$smap[g]]}else if(g.key["$=="](b))return[g.key,g.value];return u},n.$$arity=1);b.def(r,"$clear",X=function(){b.hash_init(this);return this},X.$$arity=0);b.def(r,"$clone",W=function(){var c=new this.$$class.$$alloc;b.hash_init(c);b.hash_clone(this,c);return c},W.$$arity=0);b.def(r,"$compact",E=function(){for(var c=b.hash(),d=0,e=this.$$keys,g=e.length,h,f;d<g;d++)h=e[d],h.$$is_string?
f=this.$$smap[h]:(f=h.value,h=h.key),f!==u&&b.hash_put(c,h,f);return c},E.$$arity=0);b.def(r,"$compact!",ca=function(){for(var c=!1,d=0,e=this.$$keys,g=e.length,h,f;d<g;d++)h=e[d],h.$$is_string?f=this.$$smap[h]:(f=h.value,h=h.key),f===u&&void 0!==b.hash_delete(this,h)&&(c=!0,g--,d--);return c?this:u},ca.$$arity=0);b.def(r,"$compare_by_identity",wa=function(){var c,d,e,g=this.$$keys,h;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;h=w([],{}).$compare_by_identity();
c=0;for(d=g.length;c<d;c++)e=g[c],e.$$is_string||(e=e.key),b.hash_put(h,e,b.hash_get(this,e));this.$$by_identity=!0;this.$$map=h.$$map;this.$$smap=h.$$smap;return this},wa.$$arity=0);b.def(r,"$compare_by_identity?",y=function(){return!0===this.$$by_identity},y.$$arity=0);b.def(r,"$default",A=function(b){return void 0!==b&&this.$$proc!==u&&void 0!==this.$$proc?this.$$proc.$call(this,b):void 0===this.$$none?u:this.$$none},A.$$arity=-1);b.def(r,"$default=",ha=function(b){this.$$proc=u;return this.$$none=
b},ha.$$arity=1);b.def(r,"$default_proc",ja=function(){return void 0!==this.$$proc?this.$$proc:u},ja.$$arity=0);b.def(r,"$default_proc=",P=function(c){var d=c;d!==u&&(d=b.const_get_relative(p,"Opal")["$coerce_to!"](d,b.const_get_relative(p,"Proc"),"to_proc"),d["$lambda?"]()&&2!==d.$arity().$abs()&&this.$raise(b.const_get_relative(p,"TypeError"),"default_proc takes two arguments"));this.$$none=u;this.$$proc=d;return c},P.$$arity=1);b.def(r,"$delete",L=function(c){var d=L.$$p,e=d||u;d&&(L.$$p=null);
d=b.hash_delete(this,c);return void 0!==d?d:e!==u?b.yield1(e,c):u},L.$$arity=1);b.def(r,"$delete_if",U=function(){var c,d=U.$$p,e=d||u;d&&(U.$$p=null);if(!z(e))return m(this,"enum_for",["delete_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=0,g=this.$$keys,h=g.length,f,k;d<h;d++)f=g[d],f.$$is_string?k=this.$$smap[f]:(k=f.value,f=f.key),k=e(f,k),!1!==k&&k!==u&&void 0!==b.hash_delete(this,f)&&(h--,d--);return this},U.$$arity=0);b.alias(r,"dup","clone");b.def(r,
"$dig",J=function(c,d){var e,g=u,g=arguments.length;e=g-1;0>e&&(e=0);e=Array(e);for(var h=1;h<g;h++)e[h-1]=arguments[h];g=this["$[]"](c);if(g===u||0===e.length)return g;z(g["$respond_to?"]("dig"))||this.$raise(b.const_get_relative(p,"TypeError"),""+g.$class()+" does not have #dig method");return m(g,"dig",b.to_a(e))},J.$$arity=-2);b.def(r,"$each",Q=function(){var c,d=Q.$$p,e=d||u;d&&(Q.$$p=null);if(!z(e))return m(this,"enum_for",["each"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=
0,c));for(var d=0,g=this.$$keys,h=g.length,f,k;d<h;d++)f=g[d],f.$$is_string?k=this.$$smap[f]:(k=f.value,f=f.key),b.yield1(e,[f,k]);return this},Q.$$arity=0);b.def(r,"$each_key",R=function(){var b,c=R.$$p,d=c||u;c&&(R.$$p=null);if(!z(d))return m(this,"enum_for",["each_key"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var c=0,e=this.$$keys,g=e.length,h;c<g;c++)h=e[c],d(h.$$is_string?h:h.key);return this},R.$$arity=0);b.alias(r,"each_pair","each");b.def(r,"$each_value",
V=function(){var b,c=V.$$p,d=c||u;c&&(V.$$p=null);if(!z(d))return m(this,"enum_for",["each_value"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var c=0,e=this.$$keys,g=e.length,h;c<g;c++)h=e[c],d(h.$$is_string?this.$$smap[h]:h.value);return this},V.$$arity=0);b.def(r,"$empty?",B=function(){return 0===this.$$keys.length},B.$$arity=0);b.alias(r,"eql?","==");b.def(r,"$fetch",N=function(c,d){var e=N.$$p,g=e||u;e&&(N.$$p=null);e=b.hash_get(this,c);return void 0!==e?e:g!==u?
g(c):void 0!==d?d:this.$raise(b.const_get_relative(p,"KeyError").$new("key not found: "+c.$inspect(),w(["key","receiver"],{key:c,receiver:this})))},N.$$arity=-2);b.def(r,"$fetch_values",O=function(b){var c,d,e=O.$$p,g=e||u,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var f=0;f<h;f++)d[f-0]=arguments[f];e&&(O.$$p=null);return m(d,"map",[],(c=function(b){var d=c.$$s||this;null==b&&(b=u);return m(d,"fetch",[b],g.$to_proc())},c.$$s=this,c.$$arity=1,c))},O.$$arity=-1);b.def(r,"$flatten",ma=function(c){null==
c&&(c=1);c=b.const_get_relative(p,"Opal")["$coerce_to!"](c,b.const_get_relative(p,"Integer"),"to_int");for(var d=[],e=0,g=this.$$keys,h=g.length,f,k;e<h;e++)f=g[e],f.$$is_string?k=this.$$smap[f]:(k=f.value,f=f.key),d.push(f),k.$$is_array?1===c?d.push(k):d=d.concat(k.$flatten(c-2)):d.push(k);return d},ma.$$arity=-1);b.def(r,"$has_key?",C=function(c){return void 0!==b.hash_get(this,c)},C.$$arity=1);b.def(r,"$has_value?",I=function(b){for(var c=0,d=this.$$keys,e=d.length,g;c<e;c++)if(g=d[c],(g.$$is_string?
this.$$smap[g]:g.value)["$=="](b))return!0;return!1},I.$$arity=1);b.def(r,"$hash",pa=function(){var c=void 0===b.hash_ids,d=this.$object_id(),e=["Hash"],g,h;try{c&&(b.hash_ids=Object.create(null));if(b[d])return"self";for(g in b.hash_ids)if(h=b.hash_ids[g],this["$eql?"](h))return"self";b.hash_ids[d]=this;for(var d=0,f=this.$$keys,k=f.length;d<k;d++)g=f[d],g.$$is_string?e.push([g,this.$$smap[g].$hash()]):e.push([g.key_hash,g.value.$hash()]);return e.sort().join()}finally{c&&(b.hash_ids=void 0)}},pa.$$arity=
0);b.alias(r,"include?","has_key?");b.def(r,"$index",ea=function(b){for(var c=0,d=this.$$keys,e=d.length,g,h;c<e;c++)if(g=d[c],g.$$is_string?h=this.$$smap[g]:(h=g.value,g=g.key),h["$=="](b))return g;return u},ea.$$arity=1);b.def(r,"$indexes",Z=function(c){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var g=0;g<e;g++)d[g-0]=arguments[g];for(var e=[],g=0,h=d.length,f;g<h;g++)f=d[g],f=b.hash_get(this,f),void 0===f?e.push(this.$default()):e.push(f);return e},Z.$$arity=-1);b.alias(r,"indices",
"indexes");var xa;b.def(r,"$inspect",fa=function(){var b=void 0===xa,c=this.$object_id(),d=[];try{b&&(xa={});if(xa.hasOwnProperty(c))return"{...}";xa[c]=!0;for(var c=0,e=this.$$keys,g=e.length,h,f;c<g;c++)h=e[c],h.$$is_string?f=this.$$smap[h]:(f=h.value,h=h.key),d.push(h.$inspect()+"=>"+f.$inspect());return"{"+d.join(", ")+"}"}finally{b&&(xa=void 0)}},fa.$$arity=0);b.def(r,"$invert",K=function(){for(var c=b.hash(),d=0,e=this.$$keys,g=e.length,h,f;d<g;d++)h=e[d],h.$$is_string?f=this.$$smap[h]:(f=h.value,
h=h.key),b.hash_put(c,f,h);return c},K.$$arity=0);b.def(r,"$keep_if",ka=function(){var c,d=ka.$$p,e=d||u;d&&(ka.$$p=null);if(!z(e))return m(this,"enum_for",["keep_if"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=0,g=this.$$keys,h=g.length,f,k;d<h;d++)f=g[d],f.$$is_string?k=this.$$smap[f]:(k=f.value,f=f.key),k=e(f,k),!1!==k&&k!==u||void 0===b.hash_delete(this,f)||(h--,d--);return this},ka.$$arity=0);b.alias(r,"key","index");b.alias(r,"key?","has_key?");b.def(r,"$keys",
oa=function(){for(var b=[],c=0,d=this.$$keys,e=d.length,g;c<e;c++)g=d[c],g.$$is_string?b.push(g):b.push(g.key);return b},oa.$$arity=0);b.def(r,"$length",aa=function(){return this.$$keys.length},aa.$$arity=0);b.alias(r,"member?","has_key?");b.def(r,"$merge",ia=function(b){var c=ia.$$p,d=c||u;c&&(ia.$$p=null);return m(this.$dup(),"merge!",[b],d.$to_proc())},ia.$$arity=1);b.def(r,"$merge!",za=function(c){var d=za.$$p,e=d||u;d&&(za.$$p=null);c.$$is_hash||(c=b.const_get_relative(p,"Opal")["$coerce_to!"](c,
b.const_get_relative(p,"Hash"),"to_hash"));var g=c.$$keys,h=g.length,f,k,l;if(e===u){for(d=0;d<h;d++)f=g[d],f.$$is_string?l=c.$$smap[f]:(l=f.value,f=f.key),b.hash_put(this,f,l);return this}for(d=0;d<h;d++)f=g[d],f.$$is_string?l=c.$$smap[f]:(l=f.value,f=f.key),k=b.hash_get(this,f),void 0===k?b.hash_put(this,f,l):b.hash_put(this,f,e(f,k,l));return this},za.$$arity=1);b.def(r,"$rassoc",qa=function(b){for(var c=0,d=this.$$keys,e=d.length,g,h;c<e;c++)if(g=d[c],g.$$is_string?h=this.$$smap[g]:(h=g.value,
g=g.key),h["$=="](b))return[g,h];return u},qa.$$arity=1);b.def(r,"$rehash",na=function(){b.hash_rehash(this);return this},na.$$arity=0);b.def(r,"$reject",ra=function(){var c,d=ra.$$p,e=d||u;d&&(ra.$$p=null);if(!z(e))return m(this,"enum_for",["reject"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=b.hash(),g=0,h=this.$$keys,f=h.length,k,l,t;g<f;g++)k=h[g],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),t=e(k,l),!1!==t&&t!==u||b.hash_put(d,k,l);return d},ra.$$arity=
0);b.def(r,"$reject!",ta=function(){var c,d=ta.$$p,e=d||u;d&&(ta.$$p=null);if(!z(e))return m(this,"enum_for",["reject!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=!1,g=0,h=this.$$keys,f=h.length,k,l;g<f;g++)k=h[g],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),l=e(k,l),!1!==l&&l!==u&&void 0!==b.hash_delete(this,k)&&(d=!0,f--,g--);return d?this:u},ta.$$arity=0);b.def(r,"$replace",ua=function(c){var d=u;c=b.const_get_relative(p,"Opal")["$coerce_to!"](c,b.const_get_relative(p,
"Hash"),"to_hash");b.hash_init(this);for(var d=0,e=c.$$keys,g=e.length,h,f;d<g;d++)h=e[d],h.$$is_string?f=c.$$smap[h]:(f=h.value,h=h.key),b.hash_put(this,h,f);z(c.$default_proc())?(d=[c.$default_proc()],m(this,"default_proc=",b.to_a(d))):(d=[c.$default()],m(this,"default=",b.to_a(d)));c=d;d=d.length;d="number"===typeof d?d-1:d["$-"](1);c[d];return this},ua.$$arity=1);b.def(r,"$select",Ca=function(){var c,d=Ca.$$p,e=d||u;d&&(Ca.$$p=null);if(!z(e))return m(this,"enum_for",["select"],(c=function(){return(c.$$s||
this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=b.hash(),g=0,h=this.$$keys,f=h.length,k,l,t;g<f;g++)k=h[g],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),t=e(k,l),!1!==t&&t!==u&&b.hash_put(d,k,l);return d},Ca.$$arity=0);b.def(r,"$select!",va=function(){var c,d=va.$$p,e=d||u;d&&(va.$$p=null);if(!z(e))return m(this,"enum_for",["select!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=u,g=0,h=this.$$keys,f=h.length,k,l;g<f;g++)if(k=h[g],k.$$is_string?l=this.$$smap[k]:
(l=k.value,k=k.key),l=e(k,l),!1===l||l===u)void 0!==b.hash_delete(this,k)&&(f--,g--),d=this;return d},va.$$arity=0);b.def(r,"$shift",Ba=function(){var c=this.$$keys;return 0<c.length?(c=c[0],c=c.$$is_string?c:c.key,[c,b.hash_delete(this,c)]):this.$default(u)},Ba.$$arity=0);b.alias(r,"size","length");b.def(r,"$slice",Fa=function(c){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var g=0;g<e;g++)d[g-0]=arguments[g];for(var e=b.hash(),g=0,h=d.length;g<h;g++){var f=d[g],k=b.hash_get(this,f);
void 0!==k&&b.hash_put(e,f,k)}return e},Fa.$$arity=-1);b.alias(r,"store","[]=");b.def(r,"$to_a",Ga=function(){for(var b=[],c=0,d=this.$$keys,e=d.length,g,h;c<e;c++)g=d[c],g.$$is_string?h=this.$$smap[g]:(h=g.value,g=g.key),b.push([g,h]);return b},Ga.$$arity=0);b.def(r,"$to_h",Ia=function(){if(this.$$class===b.Hash)return this;var c=new b.Hash.$$alloc;b.hash_init(c);b.hash_clone(this,c);return c},Ia.$$arity=0);b.def(r,"$to_hash",Aa=function(){return this},Aa.$$arity=0);b.def(r,"$to_proc",Ka=function(){var c;
return m(this,"proc",[],(c=function(d){var e=c.$$s||this;null==d&&e.$raise(b.const_get_relative(p,"ArgumentError"),"no key given");return e["$[]"](d)},c.$$s=this,c.$$arity=-1,c))},Ka.$$arity=0);b.alias(r,"to_s","inspect");b.def(r,"$transform_keys",Ja=function(){var c,d=Ja.$$p,e=d||u;d&&(Ja.$$p=null);if(!z(e))return m(this,"enum_for",["transform_keys"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=b.hash(),g=0,h=this.$$keys,f=h.length,k,l;g<f;g++)k=h[g],k.$$is_string?
l=this.$$smap[k]:(l=k.value,k=k.key),k=b.yield1(e,k),b.hash_put(d,k,l);return d},Ja.$$arity=0);b.def(r,"$transform_keys!",La=function(){var c,d=La.$$p,e=d||u;d&&(La.$$p=null);if(!z(e))return m(this,"enum_for",["transform_keys!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));var d=b.slice.call(this.$$keys),g,h=d.length,f,k,l;for(g=0;g<h;g++)f=d[g],f.$$is_string?k=this.$$smap[f]:(k=f.value,f=f.key),l=b.yield1(e,f),b.hash_delete(this,f),b.hash_put(this,l,k);return this},La.$$arity=
0);b.def(r,"$transform_values",la=function(){var c,d=la.$$p,e=d||u;d&&(la.$$p=null);if(!z(e))return m(this,"enum_for",["transform_values"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=b.hash(),g=0,h=this.$$keys,f=h.length,k,l;g<f;g++)k=h[g],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),l=b.yield1(e,l),b.hash_put(d,k,l);return d},la.$$arity=0);b.def(r,"$transform_values!",Ha=function(){var c,d=Ha.$$p,e=d||u;d&&(Ha.$$p=null);if(!z(e))return m(this,"enum_for",
["transform_values!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=0,g=this.$$keys,h=g.length,f,k;d<h;d++)f=g[d],f.$$is_string?k=this.$$smap[f]:(k=f.value,f=f.key),k=b.yield1(e,k),b.hash_put(this,f,k);return this},Ha.$$arity=0);b.alias(r,"update","merge!");b.alias(r,"value?","has_value?");b.alias(r,"values_at","indexes");return(b.def(r,"$values",F=function(){for(var c=[],b=0,d=this.$$keys,e=d.length,g;b<e;b++)g=d[b],g.$$is_string?c.push(this.$$smap[g]):c.push(g.value);
return c},F.$$arity=0),u)&&"values"}(B[0],null,B)},Opal.modules["corelib/number"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function m(a,b){return"number"===
typeof a&&"number"===typeof b?a*b:a["$*"](b)}var w=b.top,z=[],r=b.nil,a=b.klass,g=b.truthy,D=b.send,H=b.hash2;b.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));w.$require("corelib/numeric");(function(p,$super,f){function c(){}p=c=a(p,$super,"Number",c);var k=[p].concat(f),
e,d,h,t,Y,l,Ea,n,X,w,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,z,ba,N,O,ma,da,I,pa,ea,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua,Ca,va,Ba,Fa,Ga,Ia,Aa,Ka,Ja,La,la,Ha,F,xa,ga,S,ya,T,M,Ma,sa,Oa,Pa,Da,G,Qa,Ra;b.const_get_relative(k,"Opal").$bridge(p,Number);Number.prototype.$$is_number=!0;p.$$is_number_class=!0;(function(a,c){var d=[a].concat(c),e;b.def(a,"$allocate",e=function(){return this.$raise(b.const_get_relative(d,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);b.udef(a,"$new");return r})(b.get_singleton_class(p),
k);b.def(p,"$coerce",e=function(a){if(a!==r){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(b.const_get_relative(k,"TypeError"),"can't convert "+a.$class()+" into Float")},e.$$arity=1);b.def(p,"$__id__",d=function(){return 2*this+1},d.$$arity=0);b.alias(p,"object_id","__id__");b.def(p,"$+",h=function(a){return a.$$is_number?this+
a:this.$__coerced__("+",a)},h.$$arity=1);b.def(p,"$-",t=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},t.$$arity=1);b.def(p,"$*",Y=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},Y.$$arity=1);b.def(p,"$/",l=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},l.$$arity=1);b.alias(p,"fdiv","/");b.def(p,"$%",Ea=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(b.const_get_relative(k,"ZeroDivisionError"),"divided by 0");else return 0>
a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},Ea.$$arity=1);b.def(p,"$&",n=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},n.$$arity=1);b.def(p,"$|",X=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},X.$$arity=1);b.def(p,"$^",w=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},w.$$arity=1);b.def(p,"$<",E=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},E.$$arity=1);b.def(p,"$<=",ca=function(a){return a.$$is_number?
this<=a:this.$__coerced__("<=",a)},ca.$$arity=1);b.def(p,"$>",wa=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},wa.$$arity=1);b.def(p,"$>=",y=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},y.$$arity=1);b.def(p,"$<=>",A=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?r:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(c){if(b.rescue(c,[b.const_get_relative(k,"ArgumentError")]))try{return r}finally{b.pop_exception()}else throw c;}},A.$$arity=1);
b.def(p,"$<<",ha=function(a){a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int");return 0<a?this<<a:this>>-a},ha.$$arity=1);b.def(p,"$>>",ja=function(a){a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int");return 0<a?this>>a:this<<-a},ja.$$arity=1);b.def(p,"$[]",P=function(a){a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},P.$$arity=
1);b.def(p,"$+@",L=function(){return+this},L.$$arity=0);b.def(p,"$-@",U=function(){return-this},U.$$arity=0);b.def(p,"$~",J=function(){return~this},J.$$arity=0);b.def(p,"$**",Q=function(a){var c,d;return g(b.const_get_relative(k,"Integer")["$==="](a))?g(g(c=b.const_get_relative(k,"Integer")["$==="](this)["$!"]())?c:x(a,0))?Math.pow(this,a):b.const_get_relative(k,"Rational").$new(this,1)["$**"](a):g(C(this,0)?g(d=b.const_get_relative(k,"Float")["$==="](a))?d:b.const_get_relative(k,"Rational")["$==="](a):
C(this,0))?b.const_get_relative(k,"Complex").$new(this,0)["$**"](a.$to_f()):g(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},Q.$$arity=1);b.def(p,"$===",R=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},R.$$arity=1);b.def(p,"$==",z=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},z.$$arity=1);b.def(p,"$abs",ba=function(){return Math.abs(this)},ba.$$arity=0);b.def(p,"$abs2",
N=function(){return Math.abs(this*this)},N.$$arity=0);b.def(p,"$allbits?",O=function(a){a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int");return(this&a)==a},O.$$arity=1);b.def(p,"$anybits?",ma=function(a){a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int");return 0!==(this&a)},ma.$$arity=1);b.def(p,"$angle",da=function(){return g(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},da.$$arity=0);b.alias(p,
"arg","angle");b.alias(p,"phase","angle");b.def(p,"$bit_length",I=function(){g(b.const_get_relative(k,"Integer")["$==="](this))||this.$raise(b.const_get_relative(k,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,c=0>this?~this:this;0!=c;)a+=1,c>>>=1;return a},I.$$arity=0);b.def(p,"$ceil",pa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=Math.round(a));
return a},pa.$$arity=-1);b.def(p,"$chr",ea=function(a){return String.fromCharCode(this)},ea.$$arity=-1);b.def(p,"$denominator",Z=function(){var a,c=Z.$$p,d=r,e=r,h=r;c&&(Z.$$p=null);e=0;h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];return g(g(a=this["$nan?"]())?a:this["$infinite?"]())?1:D(this,b.find_super_dispatcher(this,"denominator",Z,!1),d,c)},Z.$$arity=0);b.def(p,"$downto",fa=function(a){var c,d=fa.$$p,e=d||r;d&&(fa.$$p=null);if(e===r)return D(this,"enum_for",["downto",a],(c=function(){var d=
c.$$s||this;g(b.const_get_relative(k,"Numeric")["$==="](a))||d.$raise(b.const_get_relative(k,"ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed");return g(x(a,d))?0:B(u(d,a),1)},c.$$s=this,c.$$arity=0,c));a.$$is_number||this.$raise(b.const_get_relative(k,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(d=this;d>=a;d--)e(d);return this},fa.$$arity=1);b.alias(p,"eql?","==");b.def(p,"$equal?",K=function(a){var b;return g(b=this["$=="](a))?b:isNaN(this)&&
isNaN(a)},K.$$arity=1);b.def(p,"$even?",ka=function(){return 0===this%2},ka.$$arity=0);b.def(p,"$floor",oa=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},oa.$$arity=-1);b.def(p,"$gcd",aa=function(a){g(b.const_get_relative(k,"Integer")["$==="](a))||this.$raise(b.const_get_relative(k,"TypeError"),"not an integer");var c=Math.abs(this);for(a=Math.abs(a);0<c;){var d=c,c=a%c;a=d}return a},aa.$$arity=1);b.def(p,
"$gcdlcm",ia=function(a){return[this.$gcd(),this.$lcm()]},ia.$$arity=1);b.def(p,"$integer?",za=function(){return 0===this%1},za.$$arity=0);b.def(p,"$is_a?",qa=function(a){var c=qa.$$p,d=r,e=r,h=r;c&&(qa.$$p=null);e=0;h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];return g(a["$=="](b.const_get_relative(k,"Integer"))?b.const_get_relative(k,"Integer")["$==="](this):a["$=="](b.const_get_relative(k,"Integer")))||g(a["$=="](b.const_get_relative(k,"Integer"))?b.const_get_relative(k,"Integer")["$==="](this):
a["$=="](b.const_get_relative(k,"Integer")))||g(a["$=="](b.const_get_relative(k,"Float"))?b.const_get_relative(k,"Float")["$==="](this):a["$=="](b.const_get_relative(k,"Float")))?!0:D(this,b.find_super_dispatcher(this,"is_a?",qa,!1),d,c)},qa.$$arity=1);b.alias(p,"kind_of?","is_a?");b.def(p,"$instance_of?",na=function(a){var c=na.$$p,d=r,e=r,h=r;c&&(na.$$p=null);e=0;h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];return g(a["$=="](b.const_get_relative(k,"Integer"))?b.const_get_relative(k,
"Integer")["$==="](this):a["$=="](b.const_get_relative(k,"Integer")))||g(a["$=="](b.const_get_relative(k,"Integer"))?b.const_get_relative(k,"Integer")["$==="](this):a["$=="](b.const_get_relative(k,"Integer")))||g(a["$=="](b.const_get_relative(k,"Float"))?b.const_get_relative(k,"Float")["$==="](this):a["$=="](b.const_get_relative(k,"Float")))?!0:D(this,b.find_super_dispatcher(this,"instance_of?",na,!1),d,c)},na.$$arity=1);b.def(p,"$lcm",ra=function(a){g(b.const_get_relative(k,"Integer")["$==="](a))||
this.$raise(b.const_get_relative(k,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},ra.$$arity=1);b.alias(p,"magnitude","abs");b.alias(p,"modulo","%");b.def(p,"$next",ta=function(){return this+1},ta.$$arity=0);b.def(p,"$nobits?",ua=function(a){a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int");return 0==(this&a)},ua.$$arity=1);b.def(p,"$nonzero?",Ca=function(){return 0==this?r:this},Ca.$$arity=0);b.def(p,"$numerator",va=
function(){var a,c=va.$$p,d=r,e=r,h=r;c&&(va.$$p=null);e=0;h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];return g(g(a=this["$nan?"]())?a:this["$infinite?"]())?this:D(this,b.find_super_dispatcher(this,"numerator",va,!1),d,c)},va.$$arity=0);b.def(p,"$odd?",Ba=function(){return 0!==this%2},Ba.$$arity=0);b.def(p,"$ord",Fa=function(){return this},Fa.$$arity=0);b.def(p,"$pow",Ga=function(a,c){0==this&&this.$raise(b.const_get_relative(k,"ZeroDivisionError"),"divided by 0");if(void 0===c)return this["$**"](a);
b.const_get_relative(k,"Integer")["$==="](a)||this.$raise(b.const_get_relative(k,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(b.const_get_relative(k,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");b.const_get_relative(k,"Integer")["$==="](c)||this.$raise(b.const_get_relative(k,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");0===c&&this.$raise(b.const_get_relative(k,
"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](c)},Ga.$$arity=-2);b.def(p,"$pred",Ia=function(){return this-1},Ia.$$arity=0);b.def(p,"$quo",Aa=function(a){var c=Aa.$$p,d=r,e=r,h=r;c&&(Aa.$$p=null);e=0;h=arguments.length;for(d=Array(h);e<h;e++)d[e]=arguments[e];return g(b.const_get_relative(k,"Integer")["$==="](this))?D(this,b.find_super_dispatcher(this,"quo",Aa,!1),d,c):v(this,a)},Aa.$$arity=1);b.def(p,"$rationalize",Ka=function(a){var c,d,e=r;c=r;1<arguments.length&&this.$raise(b.const_get_relative(k,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");return g(b.const_get_relative(k,"Integer")["$==="](this))?b.const_get_relative(k,"Rational").$new(this,1):g(this["$infinite?"]())?this.$raise(b.const_get_relative(k,"FloatDomainError"),"Infinity"):g(this["$nan?"]())?this.$raise(b.const_get_relative(k,"FloatDomainError"),"NaN"):g(null==a)?(d=b.const_get_relative(k,"Math").$frexp(this),c=b.to_ary(d),e=null==c[0]?r:c[0],c=null==c[1]?r:c[1],d,e=b.const_get_relative(k,"Math").$ldexp(e,
b.const_get_qualified(b.const_get_relative(k,"Float"),"MANT_DIG")).$to_i(),c=u(c,b.const_get_qualified(b.const_get_relative(k,"Float"),"MANT_DIG")),b.const_get_relative(k,"Rational").$new(m(2,e),1["$<<"](u(1,c))).$rationalize(b.const_get_relative(k,"Rational").$new(1,1["$<<"](u(1,c))))):this.$to_r().$rationalize(a)},Ka.$$arity=-1);b.def(p,"$remainder",Ja=function(a){return u(this,m(a,v(this,a).$truncate()))},Ja.$$arity=1);b.def(p,"$round",La=function(a){var c,d,e=r;if(g(b.const_get_relative(k,"Integer")["$==="](this))){if(g(null==
a))return this;g(g(c=b.const_get_relative(k,"Float")["$==="](a))?a["$infinite?"]():c)&&this.$raise(b.const_get_relative(k,"RangeError"),"Infinity");a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int");g(C(a,b.const_get_qualified(b.const_get_relative(k,"Integer"),"MIN")))&&this.$raise(b.const_get_relative(k,"RangeError"),"out of bounds");if(g(0<=a))return this;a=a["$-@"]();if(.415241*a-.125>this.$size())return 0;a=Math.pow(10,a);d=Math.floor((Math.abs(d)+a/
2)/a)*a;return 0>this?-d:d}g(g(c=this["$nan?"]())?null==a:c)&&this.$raise(b.const_get_relative(k,"FloatDomainError"),"NaN");a=b.const_get_relative(k,"Opal")["$coerce_to!"](a||0,b.const_get_relative(k,"Integer"),"to_int");if(g("number"===typeof a?0>=a:a["$<="](0)))g(this["$nan?"]())?this.$raise(b.const_get_relative(k,"RangeError"),"NaN"):g(this["$infinite?"]())&&this.$raise(b.const_get_relative(k,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(g(g(c=this["$nan?"]())?
c:this["$infinite?"]()))return this}d=b.const_get_relative(k,"Math").$frexp(this);c=b.to_ary(d);e=null==c[1]?r:c[1];d;c=u(B(b.const_get_qualified(b.const_get_relative(k,"Float"),"DIG"),2),g(x(e,0))?v(e,4):u(v(e,3),1));c="number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c);return g(c)?this:g(C(a,(g(x(e,0))?B(v(e,3),1):v(e,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},La.$$arity=-1);b.def(p,"$step",la=function(a,c,d){function e(){void 0!==p&&(F=p);void 0===F&&(F=r);M===r&&l.$raise(b.const_get_relative(k,
"TypeError"),"step must be numeric");0===M&&l.$raise(b.const_get_relative(k,"ArgumentError"),"step can't be 0");void 0!==n&&(M=n);if(M===r||null==M)M=1;var a=M["$<=>"](0);a===r&&l.$raise(b.const_get_relative(k,"ArgumentError"),"0 can't be coerced into "+M.$class());if(F===r||null==F)F=0<a?b.const_get_qualified(b.const_get_relative(k,"Float"),"INFINITY"):b.const_get_qualified(b.const_get_relative(k,"Float"),"INFINITY")["$-@"]();b.const_get_relative(k,"Opal").$compare(l,F)}function g(){if(0<M&&l>F||
0>M&&l<F)return 0;if(Infinity===M||-Infinity===M)return 1;var a=Math.abs,c=Math.floor,a=(a(l)+a(F)+a(F-l))/a(M)*b.const_get_qualified(b.const_get_relative(k,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return c((F-l)/M+a)+1}function h(){e();if(0===M)return Infinity;if(0!==M%1)return g();if(0<M&&l>F||0>M&&l<F)return 0;var a=Math.ceil,c=Math.abs,b=c(l-F)+1,c=c(M);return a(b/c)}var f,l=this,t,p,n,F,M,T=la.$$p,L=T||r,y=t=r;t=b.slice.call(arguments,0,arguments.length);d=b.extract_kwargs(t);
if(null==d||!d.$$is_hash)if(null==d)d=H([],{});else throw b.ArgumentError.$new("expected kwargs");p=d.$$smap.to;n=d.$$smap.by;0<t.length&&(F=t.splice(0,1)[0]);0<t.length&&(M=t.splice(0,1)[0]);T&&(la.$$p=null);void 0!==F&&void 0!==p&&l.$raise(b.const_get_relative(k,"ArgumentError"),"to is given twice");void 0!==M&&void 0!==n&&l.$raise(b.const_get_relative(k,"ArgumentError"),"step is given twice");if(L===r)return t=[],y=H([],{}),void 0!==F&&t.push(F),void 0!==M&&t.push(M),void 0!==p&&b.hash_put(y,"to",
p),void 0!==n&&b.hash_put(y,"by",n),y["$any?"]()&&t.push(y),D(l,"enum_for",["step"].concat(b.to_a(t)),(f=function(){return h()},f.$$s=l,f.$$arity=0,f));e();if(0===M)for(;;)L(l);if(0!==l%1||0!==F%1||0!==M%1){if(f=g(),0<f)if(Infinity===M||-Infinity===M)L(l);else if(T=0,0<M)for(;T<f;)t=T*M+l,F<t&&(t=F),L(t),T+=1;else for(;T<f;)t=T*M+l,F>t&&(t=F),L(t),T+=1}else if(f=l,0<M)for(;f<=F;)L(f),f+=M;else for(;f>=F;)L(f),f+=M;return l},la.$$arity=-1);b.alias(p,"succ","next");b.def(p,"$times",Ha=function(){var a,
c=Ha.$$p,b=c||r;c&&(Ha.$$p=null);if(!g(b))return D(this,"enum_for",["times"],(a=function(){return a.$$s||this},a.$$s=this,a.$$arity=0,a));for(c=0;c<this;c++)b(c);return this},Ha.$$arity=0);b.def(p,"$to_f",F=function(){return this},F.$$arity=0);b.def(p,"$to_i",xa=function(){return parseInt(this,10)},xa.$$arity=0);b.alias(p,"to_int","to_i");b.def(p,"$to_r",ga=function(){var a,c,d=r;a=r;if(g(b.const_get_relative(k,"Integer")["$==="](this)))return b.const_get_relative(k,"Rational").$new(this,1);c=b.const_get_relative(k,
"Math").$frexp(this);a=b.to_ary(c);d=null==a[0]?r:a[0];a=null==a[1]?r:a[1];c;d=b.const_get_relative(k,"Math").$ldexp(d,b.const_get_qualified(b.const_get_relative(k,"Float"),"MANT_DIG")).$to_i();a=u(a,b.const_get_qualified(b.const_get_relative(k,"Float"),"MANT_DIG"));return m(d,b.const_get_qualified(b.const_get_relative(k,"Float"),"RADIX")["$**"](a)).$to_r()},ga.$$arity=0);b.def(p,"$to_s",S=function(a){var c;null==a&&(a=10);a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),
"to_int");g(g(c=C(a,2))?c:x(a,36))&&this.$raise(b.const_get_relative(k,"ArgumentError"),"invalid radix "+a);return this.toString(a)},S.$$arity=-1);b.def(p,"$truncate",ya=function(a){null==a&&(a=0);var c=this.$to_f();if(0===c%1&&0<=a)return c;a=Math.pow(10,a);a=parseInt(c*a,10)/a;0===c%1&&(a=Math.round(a));return a},ya.$$arity=-1);b.alias(p,"inspect","to_s");b.def(p,"$digits",T=function(a){null==a&&(a=10);C(this,0)&&this.$raise(b.const_get_qualified(b.const_get_relative(k,"Math"),"DomainError"),"out of domain");
a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int");g(C(a,2))&&this.$raise(b.const_get_relative(k,"ArgumentError"),"invalid radix "+a);for(var c=this,d=[];0!==c;)d.push(c%a),c=parseInt(c/a,10);return d},T.$$arity=-1);b.def(p,"$divmod",M=function(a){var c,d=M.$$p,e=r,h=r,f=r;d&&(M.$$p=null);h=0;f=arguments.length;for(e=Array(f);h<f;h++)e[h]=arguments[h];return g(g(c=this["$nan?"]())?c:a["$nan?"]())?this.$raise(b.const_get_relative(k,"FloatDomainError"),"NaN"):
g(this["$infinite?"]())?this.$raise(b.const_get_relative(k,"FloatDomainError"),"Infinity"):D(this,b.find_super_dispatcher(this,"divmod",M,!1),e,d)},M.$$arity=1);b.def(p,"$upto",Ma=function(a){var c,d=Ma.$$p,e=d||r;d&&(Ma.$$p=null);if(e===r)return D(this,"enum_for",["upto",a],(c=function(){var d=c.$$s||this;g(b.const_get_relative(k,"Numeric")["$==="](a))||d.$raise(b.const_get_relative(k,"ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed");return g(C(a,d))?0:B(u(a,d),1)},c.$$s=
this,c.$$arity=0,c));a.$$is_number||this.$raise(b.const_get_relative(k,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(d=this;d<=a;d++)e(d);return this},Ma.$$arity=1);b.def(p,"$zero?",sa=function(){return 0==this},sa.$$arity=0);b.def(p,"$size",Oa=function(){return 4},Oa.$$arity=0);b.def(p,"$nan?",Pa=function(){return isNaN(this)},Pa.$$arity=0);b.def(p,"$finite?",Da=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Da.$$arity=0);b.def(p,"$infinite?",
G=function(){return Infinity==this?1:-Infinity==this?-1:r},G.$$arity=0);b.def(p,"$positive?",Qa=function(){return 0!=this&&(Infinity==this||0<1/this)},Qa.$$arity=0);return(b.def(p,"$negative?",Ra=function(){return-Infinity==this||0>1/this},Ra.$$arity=0),r)&&"negative?"})(z[0],b.const_get_relative(z,"Numeric"),z);b.const_set(z[0],"Fixnum",b.const_get_relative(z,"Number"));(function(g,$super,f){function c(){}g=c=a(g,$super,"Integer",c);f=[g].concat(f);g.$$is_number_class=!0;(function(a,c){var d=[a].concat(c),
g,f,p;b.def(a,"$allocate",g=function(){return this.$raise(b.const_get_relative(d,"TypeError"),"allocator undefined for "+this.$name())},g.$$arity=0);b.udef(a,"$new");b.def(a,"$===",f=function(a){return a.$$is_number?0===a%1:!1},f.$$arity=1);return(b.def(a,"$sqrt",p=function(a){a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int");0>a&&this.$raise(b.const_get_qualified(b.const_get_relative(d,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');
return parseInt(Math.sqrt(a),10)},p.$$arity=1),r)&&"sqrt"})(b.get_singleton_class(g),f);b.const_set(f[0],"MAX",Math.pow(2,30)-1);return b.const_set(f[0],"MIN",-Math.pow(2,30))})(z[0],b.const_get_relative(z,"Numeric"),z);return function(g,$super,f){function c(){}g=c=a(g,$super,"Float",c);f=[g].concat(f);g.$$is_number_class=!0;(function(a,c){var d=[a].concat(c),g,f;b.def(a,"$allocate",g=function(){return this.$raise(b.const_get_relative(d,"TypeError"),"allocator undefined for "+this.$name())},g.$$arity=
0);b.udef(a,"$new");return(b.def(a,"$===",f=function(a){return!!a.$$is_number},f.$$arity=1),r)&&"==="})(b.get_singleton_class(g),f);b.const_set(f[0],"INFINITY",Infinity);b.const_set(f[0],"MAX",Number.MAX_VALUE);b.const_set(f[0],"MIN",Number.MIN_VALUE);b.const_set(f[0],"NAN",NaN);b.const_set(f[0],"DIG",15);b.const_set(f[0],"MANT_DIG",53);b.const_set(f[0],"RADIX",2);return b.const_set(f[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(z[0],b.const_get_relative(z,"Numeric"),z)},Opal.modules["corelib/range"]=
function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var v=b.top,m=[],w=b.nil,z=b.klass,r=b.truthy,a=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
v.$require("corelib/enumerable");return function(g,$super,H){function p(){}g=p=z(g,$super,"Range",p);var q=g.$$proto,f=[g].concat(H),c,k,e,d,h,t,m,l,v,n,X,W,E,ca,wa,y,A,ha;q.begin=q.end=q.excl=w;g.$include(b.const_get_relative(f,"Enumerable"));q.$$is_range=!0;g.$attr_reader("begin","end");b.def(g,"$initialize",c=function(a,c,d){null==d&&(d=!1);r(this.begin)&&this.$raise(b.const_get_relative(f,"NameError"),"'initialize' called twice");r(a["$<=>"](c))||this.$raise(b.const_get_relative(f,"ArgumentError"),
"bad value for range");this.begin=a;this.end=c;return this.excl=d},c.$$arity=-3);b.def(g,"$==",k=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&this.end==a.end:!1},k.$$arity=1);b.def(g,"$===",e=function(a){return this["$include?"](a)},e.$$arity=1);b.def(g,"$cover?",d=function(a){var c,b=w,b=w,b=this.begin["$<=>"](a);if(!r(r(c=b)?x(b,0):c))return!1;b=a["$<=>"](this.end);return r(this.excl)?r(c=b)?C(b,0):c:r(c=b)?x(b,0):c},d.$$arity=1);b.def(g,"$each",h=function(){var c,d=
h.$$p,e=d||w,g=w,k=w;d&&(h.$$p=null);if(e===w)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(b.const_get_relative(f,"TypeError"),"can't iterate from Float");c=this.begin;for(d=this.end+(r(this.excl)?0:1);c<d;c++)e(c);return this}if(this.begin.$$is_string&&this.end.$$is_string)return a(this.begin,"upto",[this.end,this.excl],e.$to_proc()),this;g=this.begin;k=this.end;for(r(g["$respond_to?"]("succ"))||this.$raise(b.const_get_relative(f,
"TypeError"),"can't iterate from "+g.$class());r(C(g["$<=>"](k),0));)b.yield1(e,g),g=g.$succ();r(r(c=this.excl["$!"]())?g["$=="](k):c)&&b.yield1(e,g);return this},h.$$arity=0);b.def(g,"$eql?",t=function(a){var c,d;return r(b.const_get_relative(f,"Range")["$==="](a))?r(c=r(d=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):d)?this.end["$eql?"](a.$end()):c:!1},t.$$arity=1);b.def(g,"$exclude_end?",m=function(){return this.excl},m.$$arity=0);b.def(g,"$first",l=function(c){var d=
l.$$p,e=w,g=w,h=w;d&&(l.$$p=null);g=0;h=arguments.length;for(e=Array(h);g<h;g++)e[g]=arguments[g];return r(null==c)?this.begin:a(this,b.find_super_dispatcher(this,"first",l,!1),e,d)},l.$$arity=-1);b.alias(g,"include?","cover?");b.def(g,"$last",v=function(a){return r(null==a)?this.end:this.$to_a().$last(a)},v.$$arity=-1);b.def(g,"$max",n=function(){var c,d=n.$$p,e=d||w,g=w,h=w,f=w;d&&(n.$$p=null);h=0;f=arguments.length;for(g=Array(f);h<f;h++)g[h]=arguments[h];return e!==w?a(this,b.find_super_dispatcher(this,
"max",n,!1),g,d):r(B(this.begin,this.end))?w:r(r(c=this.excl)?this.begin["$=="](this.end):c)?w:this.excl?this.end-1:this.end},n.$$arity=0);b.alias(g,"member?","cover?");b.def(g,"$min",X=function(){var c,d=X.$$p,e=d||w,g=w,h=w,f=w;d&&(X.$$p=null);h=0;f=arguments.length;for(g=Array(f);h<f;h++)g[h]=arguments[h];return e!==w?a(this,b.find_super_dispatcher(this,"min",X,!1),g,d):r(B(this.begin,this.end))?w:r(r(c=this.excl)?this.begin["$=="](this.end):c)?w:this.begin},X.$$arity=0);b.def(g,"$size",W=function(){var a,
c=w,d=w,e=w,c=this.begin,d=this.end;r(this.excl)&&(d="number"===typeof d?d-1:d["$-"](1));if(!r(r(a=b.const_get_relative(f,"Numeric")["$==="](c))?b.const_get_relative(f,"Numeric")["$==="](d):a))return w;if(r(C(d,c)))return 0;e=b.const_get_qualified(b.const_get_relative(f,"Float"),"INFINITY");return r([c.$abs(),d.$abs()]["$include?"](e))?e:(Math.abs(d-c)+1).$to_i()},W.$$arity=0);b.def(g,"$step",E=function(c){function d(){c.$$is_number||(c=b.const_get_relative(f,"Opal")["$coerce_to!"](c,b.const_get_relative(f,
"Integer"),"to_int"));0>c?l.$raise(b.const_get_relative(f,"ArgumentError"),"step can't be negative"):0===c&&l.$raise(b.const_get_relative(f,"ArgumentError"),"step can't be 0")}function e(){if(!l.begin["$respond_to?"]("succ")||l.begin.$$is_string&&l.end.$$is_string)return w;if(0===c%1){var a=l.$size();return("number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)).$ceil()}var a=l.begin,d=l.end,g=Math.abs,h=Math.floor,g=(g(a)+g(d)+g(d-a))/g(c)*b.const_get_qualified(b.const_get_relative(f,"Float"),"EPSILON");
.5<g&&(g=.5);l.excl?(h=h((d-a)/c-g),h*c+a<d&&h++):h=h((d-a)/c+g)+1;return h}var g,h,k,l=this,t=E.$$p,p=t||w,q=w;null==c&&(c=1);t&&(E.$$p=null);if(p===w)return a(l,"enum_for",["step",c],(g=function(){d();return e()},g.$$s=l,g.$$arity=0,g));d();r(l.begin.$$is_number&&l.end.$$is_number)?(q=0,function(){var d=b.new_brk();try{return a(l,"loop",[],(h=function(){var a=h.$$s||this,e=w;null==a.begin&&(a.begin=w);null==a.excl&&(a.excl=w);null==a.end&&(a.end=w);e=u(a.begin,"number"===typeof q&&"number"===typeof c?
q*c:q["$*"](c));r(a.excl)?(a=a.end,a="number"===typeof e&&"number"===typeof a?e>=a:e["$>="](a),r(a)&&b.brk(w,d)):r(B(e,a.end))&&b.brk(w,d);b.yield1(p,e);return q=u(q,1)},h.$$s=l,h.$$brk=d,h.$$arity=0,h))}catch(e){if(e===d)return e.$v;throw e;}}()):(l.begin.$$is_string&&l.end.$$is_string&&0!==c%1&&l.$raise(b.const_get_relative(f,"TypeError"),"no implicit conversion to float from string"),a(l,"each_with_index",[],(k=function(a,d){null==a&&(a=w);null==d&&(d=w);return d["$%"](c)["$=="](0)?b.yield1(p,
a):w},k.$$s=l,k.$$arity=2,k)));return l},E.$$arity=-1);b.def(g,"$bsearch",ca=function(){var c=ca.$$p,d=c||w;c&&(ca.$$p=null);if(d===w)return this.$enum_for("bsearch");r(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(b.const_get_relative(f,"TypeError"),"can't do binary search for "+this.begin.$class());return a(this.$to_a(),"bsearch",[],d.$to_proc())},ca.$$arity=0);b.def(g,"$to_s",wa=function(){return""+this.begin+(r(this.excl)?"...":"..")+this.end},wa.$$arity=0);b.def(g,"$inspect",y=function(){return""+
this.begin.$inspect()+(r(this.excl)?"...":"..")+this.end.$inspect()},y.$$arity=0);b.def(g,"$marshal_load",A=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},A.$$arity=1);return(b.def(g,"$hash",ha=function(){return[this.begin,this.end,this.excl].$hash()},ha.$$arity=0),w)&&"hash"}(m[0],null,m)},Opal.modules["corelib/proc"]=function(b){var x=[],C=b.nil,B=b.slice,u=b.klass,v=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);return function(m,$super,z){function r(){}
m=r=u(m,$super,"Proc",r);var a=m.$$proto,g=[m].concat(z),D,H,p,q,f,c,k,e,d,h;a.$$is_proc=!0;a.$$is_lambda=!1;b.defs(m,"$new",D=function(){var a=D.$$p,c=a||C;a&&(D.$$p=null);v(c)||this.$raise(b.const_get_relative(g,"ArgumentError"),"tried to create a Proc object without a block");return c},D.$$arity=0);b.def(m,"$call",H=function(a){var c,d=H.$$p,e=d||C,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var h=0;h<g;h++)c[h-0]=arguments[h];d&&(H.$$p=null);e!==C&&(this.$$p=e);var f;if(d=this.$$brk)try{f=
this.$$is_lambda?this.apply(null,c):b.yieldX(this,c)}catch(k){if(k===d)return d.$v;throw k;}else f=this.$$is_lambda?this.apply(null,c):b.yieldX(this,c);return f},H.$$arity=-1);b.alias(m,"[]","call");b.alias(m,"===","call");b.alias(m,"yield","call");b.def(m,"$to_proc",p=function(){return this},p.$$arity=0);b.def(m,"$lambda?",q=function(){return!!this.$$is_lambda},q.$$arity=0);b.def(m,"$arity",f=function(){return this.$$is_curried?-1:this.$$arity},f.$$arity=0);b.def(m,"$source_location",c=function(){return C},
c.$$arity=0);b.def(m,"$binding",k=function(){this.$$is_curried&&this.$raise(b.const_get_relative(g,"ArgumentError"),"Can't create Binding");return C},k.$$arity=0);b.def(m,"$parameters",e=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],c,b;c=0;for(b=this.$$parameters.length;c<b;c++){var d=this.$$parameters[c];"req"===d[0]&&(d=["opt",d[1]]);a.push(d)}return a}return[]},e.$$arity=0);b.def(m,"$curry",d=function(a){function c(){var e=
B.call(arguments),h=e.length;h>a&&d.$$is_lambda&&!d.$$is_curried&&d.$raise(b.const_get_relative(g,"ArgumentError"),"wrong number of arguments ("+h+" for "+a+")");if(h>=a)return d.$call.apply(d,e);h=function(){return c.apply(null,e.concat(B.call(arguments)))};h.$$is_lambda=d.$$is_lambda;h.$$is_curried=!0;return h}var d=this;void 0===a?a=d.length:(a=b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"Integer"),"to_int"),d.$$is_lambda&&a!==d.length&&d.$raise(b.const_get_relative(g,
"ArgumentError"),"wrong number of arguments ("+a+" for "+d.length+")"));c.$$is_lambda=d.$$is_lambda;c.$$is_curried=!0;return c},d.$$arity=-1);b.def(m,"$dup",h=function(){var a=this.$$original_proc||this,c=function(){return a.apply(this,arguments)},b;for(b in this)this.hasOwnProperty(b)&&(c[b]=this[b]);return c},h.$$arity=0);return b.alias(m,"clone","dup")}(x[0],Function,x)},Opal.modules["corelib/method"]=function(b){var x=[],C=b.nil,B=b.klass,u=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));
(function(v,$super,w){function z(){}v=z=B(v,$super,"Method",z);var r=v.$$proto,a=[v].concat(w),g,D,H,p,q,f,c,k,e;r.method=r.receiver=r.owner=r.name=C;v.$attr_reader("owner","receiver","name");b.def(v,"$initialize",g=function(a,c,b,e){this.receiver=a;this.owner=c;this.name=e;return this.method=b},g.$$arity=4);b.def(v,"$arity",D=function(){return this.method.$arity()},D.$$arity=0);b.def(v,"$parameters",H=function(){return this.method.$$parameters},H.$$arity=0);b.def(v,"$source_location",p=function(){var a;
return u(a=this.method.$$source_location)?a:["(eval)",0]},p.$$arity=0);b.def(v,"$comments",q=function(){var a;return u(a=this.method.$$comments)?a:[]},q.$$arity=0);b.def(v,"$call",f=function(a){var c,b=f.$$p,e=b||C,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var k=0;k<g;k++)c[k-0]=arguments[k];b&&(f.$$p=null);this.method.$$p=e;return this.method.apply(this.receiver,c)},f.$$arity=-1);b.alias(v,"[]","call");b.def(v,"$unbind",c=function(){return b.const_get_relative(a,"UnboundMethod").$new(this.receiver.$class(),
this.owner,this.method,this.name)},c.$$arity=0);b.def(v,"$to_proc",k=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;return a},k.$$arity=0);return(b.def(v,"$inspect",e=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},e.$$arity=0),C)&&"inspect"})(x[0],null,x);return function(v,$super,w){function z(){}v=z=B(v,$super,"UnboundMethod",z);var r=v.$$proto,a=[v].concat(w),
g,D,H,p,q,f,c;r.method=r.owner=r.name=r.source=C;v.$attr_reader("source","owner","name");b.def(v,"$initialize",g=function(a,c,b,g){this.source=a;this.owner=c;this.method=b;return this.name=g},g.$$arity=4);b.def(v,"$arity",D=function(){return this.method.$arity()},D.$$arity=0);b.def(v,"$parameters",H=function(){return this.method.$$parameters},H.$$arity=0);b.def(v,"$source_location",p=function(){var a;return u(a=this.method.$$source_location)?a:["(eval)",0]},p.$$arity=0);b.def(v,"$comments",q=function(){var a;
return u(a=this.method.$$comments)?a:[]},q.$$arity=0);b.def(v,"$bind",f=function(c){if(this.owner.$$is_module||b.is_a(c,this.owner))return b.const_get_relative(a,"Method").$new(c,this.owner,this.method,this.name);this.$raise(b.const_get_relative(a,"TypeError"),"can't bind singleton method to a different class (expected "+c+".kind_of?("+this.owner+" to be true)")},f.$$arity=1);return(b.def(v,"$inspect",c=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+
" in "+this.$source_location().$join(":")+")>"},c.$$arity=0),C)&&"inspect"}(x[0],null,x)},Opal.modules["corelib/variables"]=function(b){var x=[],C=b.nil,B=b.gvars,u=b.hash2;b.add_stubs(["$new"]);B["&"]=B["~"]=B["`"]=B["'"]=C;B.LOADED_FEATURES=B['"']=b.loaded_features;B.LOAD_PATH=B[":"]=[];B["/"]="\n";B[","]=C;b.const_set(x[0],"ARGV",[]);b.const_set(x[0],"ARGF",b.const_get_relative(x,"Object").$new());b.const_set(x[0],"ENV",u([],{}));B.VERBOSE=!1;B.DEBUG=!1;return B.SAFE=0},Opal.modules["opal/regexp_anchors"]=
function(b){var x=[],C=b.nil,B=b.module;b.add_stubs(["$==","$new"]);x=[B(x[0],"Opal")].concat(x);b.const_set(x[0],"REGEXP_START",b.const_get_relative(x,"RUBY_ENGINE")["$=="]("opal")?"^":C);b.const_set(x[0],"REGEXP_END",b.const_get_relative(x,"RUBY_ENGINE")["$=="]("opal")?"$":C);b.const_set(x[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(x[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(x[0],"INLINE_IDENTIFIER_REGEXP",b.const_get_relative(x,"Regexp").$new("[^"+b.const_get_relative(x,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+b.const_get_relative(x,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(x[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(x[0],"CONST_NAME_REGEXP",b.const_get_relative(x,"Regexp").$new(""+b.const_get_relative(x,"REGEXP_START")+"(::)?[A-Z][^"+b.const_get_relative(x,
"FORBIDDEN_CONST_NAME_CHARS")+"]*"+b.const_get_relative(x,"REGEXP_END")))},Opal.modules["opal/mini"]=function(b){var x=b.top;b.add_stubs(["$require"]);x.$require("opal/base");x.$require("corelib/nil");x.$require("corelib/boolean");x.$require("corelib/string");x.$require("corelib/comparable");x.$require("corelib/enumerable");x.$require("corelib/enumerator");x.$require("corelib/array");x.$require("corelib/hash");x.$require("corelib/number");x.$require("corelib/range");x.$require("corelib/proc");x.$require("corelib/method");
x.$require("corelib/regexp");x.$require("corelib/variables");return x.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(b){var x=b.top,C=[],B=b.nil,u=b.klass,v=b.send,m=b.truthy,w=b.gvars;b.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $to_s $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" "));x.$require("corelib/string");(function(m,$super,a){function g(){}m=g=u(m,$super,"String",g);var D=[m].concat(a),
H;return(b.defs(m,"$inherited",H=function(a){var g=B,g=b.const_get_relative(D,"Class").$new(b.const_get_qualified(b.const_get_relative(D,"String"),"Wrapper"));a.$$proto=g.$$proto;a.$$proto.$$class=a;a.$$alloc=g.$$alloc;a.$$parent=b.const_get_qualified(b.const_get_relative(D,"String"),"Wrapper");a.$allocate=g.$allocate;a.$new=g.$new},H.$$arity=1),B)&&"inherited"})(C[0],null,C);return function(x,$super,a){function g(){}x=g=u(x,$super,"Wrapper",g);var D=x.$$proto;[x].concat(a);var H,p,q,f,c,k,e,d,h,
t,Y,l,Ea,n,X,W,E,ca;D.literal=B;D.$$is_string=!0;b.defs(x,"$allocate",H=function(a){var c=H.$$p,d=B;null==a&&(a="");c&&(H.$$p=null);d=v(this,b.find_super_dispatcher(this,"allocate",H,!1,g),[],null);d.literal=a;return d},H.$$arity=-1);b.defs(x,"$new",p=function(a){var c,d=p.$$p,e=d||B,g=B,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var h=0;h<g;h++)c[h-0]=arguments[h];d&&(p.$$p=null);g=this.$allocate();v(g,"initialize",b.to_a(c),e.$to_proc());return g},p.$$arity=-1);b.defs(x,"$[]",q=function(a){var c,
b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.$allocate(c)},q.$$arity=-1);b.def(x,"$initialize",f=function(a){null==a&&(a="");return this.literal=a},f.$$arity=-1);b.def(x,"$method_missing",c=function(a){var d,e=c.$$p,g=e||B,h=B,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var f=0;f<h;f++)d[f-0]=arguments[f];e&&(c.$$p=null);h=v(this.literal,"__send__",b.to_a(d),g.$to_proc());return m(null!=h.$$is_string)?m(h==this.literal)?this:this.$class().$allocate(h):
h},c.$$arity=-1);b.def(x,"$initialize_copy",k=function(a){return this.literal=a.literal.$clone()},k.$$arity=1);b.def(x,"$respond_to?",e=function(a,c){var d,g=e.$$p,h=B,f=B,k=B;g&&(e.$$p=null);f=0;k=arguments.length;for(h=Array(k);f<k;f++)h[f]=arguments[f];return m(d=v(this,b.find_super_dispatcher(this,"respond_to?",e,!1),h,g))?d:this.literal["$respond_to?"](a)},e.$$arity=-2);b.def(x,"$==",d=function(a){return this.literal["$=="](a)},d.$$arity=1);b.alias(x,"eql?","==");b.alias(x,"===","==");b.def(x,
"$to_s",h=function(){return this.literal.$to_s()},h.$$arity=0);b.alias(x,"to_str","to_s");b.def(x,"$inspect",t=function(){return this.literal.$inspect()},t.$$arity=0);b.def(x,"$+",Y=function(a){var c=this.literal;return"number"===typeof c&&"number"===typeof a?c+a:c["$+"](a)},Y.$$arity=1);b.def(x,"$*",l=function(a){var c=this.literal;a="number"===typeof c&&"number"===typeof a?c*a:c["$*"](a);return a.$$is_string?this.$class().$allocate(a):a},l.$$arity=1);b.def(x,"$split",Ea=function(a,c){var b;return v(this.literal.$split(a,
c),"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=B);return c.$class().$allocate(a)},b.$$s=this,b.$$arity=1,b))},Ea.$$arity=-1);b.def(x,"$replace",n=function(a){return this.literal=a},n.$$arity=1);b.def(x,"$each_line",X=function(a){var c,d=X.$$p,e=d||B;null==w["/"]&&(w["/"]=B);null==a&&(a=w["/"]);d&&(X.$$p=null);return e===B?this.$enum_for("each_line",a):v(this.literal,"each_line",[a],(c=function(a){var d=c.$$s||this;null==a&&(a=B);return b.yield1(e,d.$class().$allocate(a))},c.$$s=this,c.$$arity=
1,c))},X.$$arity=-1);b.def(x,"$lines",W=function(a){var c=W.$$p,b=c||B,d=B;null==w["/"]&&(w["/"]=B);null==a&&(a=w["/"]);c&&(W.$$p=null);d=v(this,"each_line",[a],b.$to_proc());return m(b)?this:d.$to_a()},W.$$arity=-1);b.def(x,"$%",E=function(a){return this.literal["$%"](a)},E.$$arity=1);return(b.def(x,"$instance_variables",ca=function(){var a=ca.$$p,c=B,d=B,e=B;a&&(ca.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];a=v(this,b.find_super_dispatcher(this,"instance_variables",
ca,!1),c,a);c=["@literal"];return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)},ca.$$arity=0),B)&&"instance_variables"}(b.const_get_relative(C,"String"),null,C)},Opal.modules["corelib/string/encoding"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var C,B,u,v,m,w=b.top,z=[],r=b.nil,a=b.klass,g=b.truthy,D=b.send,H=b.hash2;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $getbyte".split(" "));
w.$require("corelib/string");(function(p,$super,f){function c(){}p=c=a(p,$super,"Encoding",c);var k=p.$$proto,e=[p].concat(f),d,h,t,m,l,u,n,X,v,E;k.ascii=k.dummy=k.name=r;p.$$register={};b.defs(p,"$register",d=function(a,c){var h,f,k=d.$$p,l=k||r,t=r,p=r,n=r;null==c&&(c=H([],{}));k&&(d.$$p=null);t=x([a],g(h=c["$[]"]("aliases"))?h:[]);p=D(b.const_get_relative(e,"Class"),"new",[this],l.$to_proc()).$new(a,t,g(h=c["$[]"]("ascii"))?h:!1,g(h=c["$[]"]("dummy"))?h:!1);n=this.$$register;return D(t,"each",
[],(f=function(a){var c=f.$$s||this;null==a&&(a=r);c.$const_set(a.$sub("-","_"),p);return n["$$"+a]=p},f.$$s=this,f.$$arity=1,f))},d.$$arity=-2);b.defs(p,"$find",h=function(a){var c,d=r,d=r;if(a["$=="]("default_external"))return this.$default_external();d=this.$$register;d=g(c=d["$$"+a])?c:d["$$"+a.$upcase()];g(d)||this.$raise(b.const_get_relative(e,"ArgumentError"),"unknown encoding name - "+a);return d},h.$$arity=1);(function(a,c){[a].concat(c);return a.$attr_accessor("default_external")})(b.get_singleton_class(p),
e);p.$attr_reader("name","names");b.def(p,"$initialize",t=function(a,c,b,d){this.name=a;this.names=c;this.ascii=b;return this.dummy=d},t.$$arity=4);b.def(p,"$ascii_compatible?",m=function(){return this.ascii},m.$$arity=0);b.def(p,"$dummy?",l=function(){return this.dummy},l.$$arity=0);b.def(p,"$to_s",u=function(){return this.name},u.$$arity=0);b.def(p,"$inspect",n=function(){return"#<Encoding:"+this.name+(g(this.dummy)?" (dummy)":r)+">"},n.$$arity=0);b.def(p,"$each_byte",X=function(a){return this.$raise(b.const_get_relative(e,
"NotImplementedError"))},X.$$arity=-1);b.def(p,"$getbyte",v=function(a){return this.$raise(b.const_get_relative(e,"NotImplementedError"))},v.$$arity=-1);b.def(p,"$bytesize",E=function(a){return this.$raise(b.const_get_relative(e,"NotImplementedError"))},E.$$arity=-1);(function(c,$super,b){function d(){}[d=a(c,$super,"EncodingError",d)].concat(b);return r})(e[0],b.const_get_relative(e,"StandardError"),e);return function(c,$super,b){function d(){}[d=a(c,$super,"CompatibilityError",d)].concat(b);return r}(e[0],
b.const_get_relative(e,"EncodingError"),e)})(z[0],null,z);D(b.const_get_relative(z,"Encoding"),"register",["UTF-8",H(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(C=function(){var a=C.$$s||this,g,f;b.def(a,"$each_byte",g=function(a){var f=g.$$p,e=f||r;f&&(g.$$p=null);for(var f=0,d=a.length;f<d;f++){var h=a.charCodeAt(f);if(127>=h)b.yield1(e,h);else for(var h=encodeURIComponent(a.charAt(f)).substr(1).split("%"),t=0,p=h.length;t<p;t++)b.yield1(e,parseInt(h[t],16))}},g.$$arity=1);return(b.def(a,
"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),r)&&"bytesize"},C.$$s=w,C.$$arity=0,C));D(b.const_get_relative(z,"Encoding"),"register",["UTF-16LE"],(B=function(){var a=B.$$s||this,g,f;b.def(a,"$each_byte",g=function(a){var f=g.$$p,e=f||r;f&&(g.$$p=null);for(var f=0,d=a.length;f<d;f++){var h=a.charCodeAt(f);b.yield1(e,h&255);b.yield1(e,h>>8)}},g.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),r)&&"bytesize"},B.$$s=w,B.$$arity=0,B));
D(b.const_get_relative(z,"Encoding"),"register",["UTF-16BE"],(u=function(){var a=u.$$s||this,g,f;b.def(a,"$each_byte",g=function(a){var f=g.$$p,e=f||r;f&&(g.$$p=null);for(var f=0,d=a.length;f<d;f++){var h=a.charCodeAt(f);b.yield1(e,h>>8);b.yield1(e,h&255)}},g.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),r)&&"bytesize"},u.$$s=w,u.$$arity=0,u));D(b.const_get_relative(z,"Encoding"),"register",["UTF-32LE"],(v=function(){var a=v.$$s||this,g,f;b.def(a,"$each_byte",
g=function(a){var f=g.$$p,e=f||r;f&&(g.$$p=null);for(var f=0,d=a.length;f<d;f++){var h=a.charCodeAt(f);b.yield1(e,h&255);b.yield1(e,h>>8)}},g.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),r)&&"bytesize"},v.$$s=w,v.$$arity=0,v));D(b.const_get_relative(z,"Encoding"),"register",["ASCII-8BIT",H(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(m=function(){var a=m.$$s||this,g,f;b.def(a,"$each_byte",g=function(a){var f=
g.$$p,e=f||r;f&&(g.$$p=null);for(var f=0,d=a.length;f<d;f++){var h=a.charCodeAt(f);b.yield1(e,h&255);b.yield1(e,h>>8)}},g.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),r)&&"bytesize"},m.$$s=w,m.$$arity=0,m));return function(g,$super,f){function c(){}g=c=a(g,$super,"String",c);var k=g.$$proto,e=[g].concat(f),d,h,t,m,l,H,n;k.encoding=r;g.$attr_reader("encoding");String.prototype.encoding=b.const_get_qualified(b.const_get_relative(e,"Encoding"),"UTF_16LE");
b.def(g,"$bytes",d=function(){return this.$each_byte().$to_a()},d.$$arity=0);b.def(g,"$bytesize",h=function(){return this.encoding.$bytesize(this)},h.$$arity=0);b.def(g,"$each_byte",t=function(){var a=t.$$p,c=a||r;a&&(t.$$p=null);if(c===r)return this.$enum_for("each_byte");D(this.encoding,"each_byte",[this],c.$to_proc());return this},t.$$arity=0);b.def(g,"$encode",m=function(a){return this.$dup().$force_encoding(a)},m.$$arity=1);b.def(g,"$force_encoding",l=function(a){if(a===this.encoding)return this;
a=b.const_get_relative(e,"Opal")["$coerce_to!"](a,b.const_get_relative(e,"String"),"to_s");a=b.const_get_relative(e,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},l.$$arity=1);b.def(g,"$getbyte",H=function(a){return this.encoding.$getbyte(this,a)},H.$$arity=1);return(b.def(g,"$valid_encoding?",n=function(){return!0},n.$$arity=0),r)&&"valid_encoding?"}(z[0],null,z)},Opal.modules["corelib/math"]=function(b){var x=[],C=b.module,B=b.truthy;b.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));
return function(u,v){var m=C(u,"Math"),w=[m].concat(v),x,r,a,g,D,H,p,q,f,c,k,e,d,h,t,Y,l,Ea,n,X,W,E,ca,wa,y,A,ha,ja,P;b.const_set(w[0],"E",Math.E);b.const_set(w[0],"PI",Math.PI);b.const_set(w[0],"DomainError",b.const_get_relative(w,"Class").$new(b.const_get_relative(w,"StandardError")));b.defs(m,"$checked",x=function(a,c){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var g=1;g<e;g++)d[g-1]=arguments[g];if(isNaN(d[0])||2==d.length&&isNaN(d[1]))return NaN;e=Math[a].apply(null,d);isNaN(e)&&
this.$raise(b.const_get_relative(w,"DomainError"),'Numerical argument is out of domain - "'+a+'"');return e},x.$$arity=-2);b.defs(m,"$float!",r=function(a){try{return this.$Float(a)}catch(c){if(b.rescue(c,[b.const_get_relative(w,"ArgumentError")]))try{return this.$raise(b.const_get_relative(w,"Opal").$type_error(a,b.const_get_relative(w,"Float")))}finally{b.pop_exception()}else throw c;}},r.$$arity=1);b.defs(m,"$integer!",a=function(a){try{return this.$Integer(a)}catch(c){if(b.rescue(c,[b.const_get_relative(w,
"ArgumentError")]))try{return this.$raise(b.const_get_relative(w,"Opal").$type_error(a,b.const_get_relative(w,"Integer")))}finally{b.pop_exception()}else throw c;}},a.$$arity=1);m.$module_function();b.def(m,"$acos",g=function(a){return b.const_get_relative(w,"Math").$checked("acos",b.const_get_relative(w,"Math")["$float!"](a))},g.$$arity=1);B("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});b.def(m,"$acosh",D=function(a){return b.const_get_relative(w,
"Math").$checked("acosh",b.const_get_relative(w,"Math")["$float!"](a))},D.$$arity=1);b.def(m,"$asin",H=function(a){return b.const_get_relative(w,"Math").$checked("asin",b.const_get_relative(w,"Math")["$float!"](a))},H.$$arity=1);B("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))});b.def(m,"$asinh",p=function(a){return b.const_get_relative(w,"Math").$checked("asinh",b.const_get_relative(w,"Math")["$float!"](a))},p.$$arity=1);b.def(m,"$atan",q=function(a){return b.const_get_relative(w,
"Math").$checked("atan",b.const_get_relative(w,"Math")["$float!"](a))},q.$$arity=1);b.def(m,"$atan2",f=function(a,c){return b.const_get_relative(w,"Math").$checked("atan2",b.const_get_relative(w,"Math")["$float!"](a),b.const_get_relative(w,"Math")["$float!"](c))},f.$$arity=2);B("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});b.def(m,"$atanh",c=function(a){return b.const_get_relative(w,"Math").$checked("atanh",b.const_get_relative(w,"Math")["$float!"](a))},
c.$$arity=1);B("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var c=a,b=0;.125>c;)c*=8,b--;for(;1<c;)c*=.125,b++;for(c=(-.46946116*c+1.072302)*c+.3812513;0>b;)c*=.5,b++;for(;0<b;)c*=2,b--;c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);return 2/3*c+1/3*a/(c*c)});b.def(m,"$cbrt",k=function(a){return b.const_get_relative(w,"Math").$checked("cbrt",b.const_get_relative(w,"Math")["$float!"](a))},k.$$arity=1);b.def(m,"$cos",e=function(a){return b.const_get_relative(w,
"Math").$checked("cos",b.const_get_relative(w,"Math")["$float!"](a))},e.$$arity=1);B("undefined"!==typeof Math.cosh)||(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});b.def(m,"$cosh",d=function(a){return b.const_get_relative(w,"Math").$checked("cosh",b.const_get_relative(w,"Math")["$float!"](a))},d.$$arity=1);B("undefined"!==typeof Math.erf)||(Math.erf=function(a){var c=1;0>a&&(c=-1);a=Math.abs(a);var b=1/(1+.3275911*a);return c*(1-((((1.061405429*b+-1.453152027)*b+1.421413741)*b+-.284496736)*
b+.254829592)*b*Math.exp(-a*a))});b.def(m,"$erf",h=function(a){return b.const_get_relative(w,"Math").$checked("erf",b.const_get_relative(w,"Math")["$float!"](a))},h.$$arity=1);B("undefined"!==typeof Math.erfc)||(Math.erfc=function(a){var c=Math.abs(a),b=1/(.5*c+1),c=b*Math.exp(-c*c-1.26551223+b*(b*(b*(b*(b*(b*(b*(b*(.17087277*b+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-c:c});b.def(m,"$erfc",t=function(a){return b.const_get_relative(w,
"Math").$checked("erfc",b.const_get_relative(w,"Math")["$float!"](a))},t.$$arity=1);b.def(m,"$exp",Y=function(a){return b.const_get_relative(w,"Math").$checked("exp",b.const_get_relative(w,"Math")["$float!"](a))},Y.$$arity=1);b.def(m,"$frexp",l=function(a){a=b.const_get_relative(w,"Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]},l.$$arity=1);b.def(m,"$gamma",Ea=function(a){a=b.const_get_relative(w,"Math")["$float!"](a);
var c,d,e,g;e=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(b.const_get_relative(w,"DomainError"),'Numerical argument is out of domain - "gamma"');
if(b.const_get_relative(w,"Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;d=a-2;for(--a;1<d;)a*=d,d--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*b.const_get_relative(w,"Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return d=a*a,c=d*a,e=c*a,g=e*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*d)-139/(51840*c)-571/(2488320*e)+163879/(209018880*g)+5246819/(75246796800*g*a));--a;d=e[0];
for(c=1;c<e.length;++c)d+=e[c]/(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,a+.5)*Math.exp(-c)*d},Ea.$$arity=1);B("undefined"!==typeof Math.hypot)||(Math.hypot=function(a,c){return Math.sqrt(a*a+c*c)});b.def(m,"$hypot",n=function(a,c){return b.const_get_relative(w,"Math").$checked("hypot",b.const_get_relative(w,"Math")["$float!"](a),b.const_get_relative(w,"Math")["$float!"](c))},n.$$arity=2);b.def(m,"$ldexp",X=function(a,c){a=b.const_get_relative(w,"Math")["$float!"](a);c=b.const_get_relative(w,
"Math")["$integer!"](c);isNaN(c)&&this.$raise(b.const_get_relative(w,"RangeError"),"float NaN out of range of integer");return a*Math.pow(2,c)},X.$$arity=2);b.def(m,"$lgamma",W=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(b.const_get_relative(w,"Math").$gamma(a))),0>b.const_get_relative(w,"Math").$gamma(a)?-1:1]},W.$$arity=1);b.def(m,"$log",E=function(a,c){B(b.const_get_relative(w,"String")["$==="](a))&&this.$raise(b.const_get_relative(w,"Opal").$type_error(a,b.const_get_relative(w,"Float")));
if(B(null==c))return b.const_get_relative(w,"Math").$checked("log",b.const_get_relative(w,"Math")["$float!"](a));B(b.const_get_relative(w,"String")["$==="](c))&&this.$raise(b.const_get_relative(w,"Opal").$type_error(c,b.const_get_relative(w,"Float")));var d=b.const_get_relative(w,"Math").$checked("log",b.const_get_relative(w,"Math")["$float!"](a)),e=b.const_get_relative(w,"Math").$checked("log",b.const_get_relative(w,"Math")["$float!"](c));return"number"===typeof d&&"number"===typeof e?d/e:d["$/"](e)},
E.$$arity=-2);B("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/Math.LN10});b.def(m,"$log10",ca=function(a){B(b.const_get_relative(w,"String")["$==="](a))&&this.$raise(b.const_get_relative(w,"Opal").$type_error(a,b.const_get_relative(w,"Float")));return b.const_get_relative(w,"Math").$checked("log10",b.const_get_relative(w,"Math")["$float!"](a))},ca.$$arity=1);B("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});b.def(m,"$log2",wa=function(a){B(b.const_get_relative(w,
"String")["$==="](a))&&this.$raise(b.const_get_relative(w,"Opal").$type_error(a,b.const_get_relative(w,"Float")));return b.const_get_relative(w,"Math").$checked("log2",b.const_get_relative(w,"Math")["$float!"](a))},wa.$$arity=1);b.def(m,"$sin",y=function(a){return b.const_get_relative(w,"Math").$checked("sin",b.const_get_relative(w,"Math")["$float!"](a))},y.$$arity=1);B("undefined"!==typeof Math.sinh)||(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2});b.def(m,"$sinh",A=function(a){return b.const_get_relative(w,
"Math").$checked("sinh",b.const_get_relative(w,"Math")["$float!"](a))},A.$$arity=1);b.def(m,"$sqrt",ha=function(a){return b.const_get_relative(w,"Math").$checked("sqrt",b.const_get_relative(w,"Math")["$float!"](a))},ha.$$arity=1);b.def(m,"$tan",ja=function(a){a=b.const_get_relative(w,"Math")["$float!"](a);return B(a["$infinite?"]())?b.const_get_qualified(b.const_get_relative(w,"Float"),"NAN"):b.const_get_relative(w,"Math").$checked("tan",b.const_get_relative(w,"Math")["$float!"](a))},ja.$$arity=1);
B("undefined"!==typeof Math.tanh)||(Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))});b.def(m,"$tanh",P=function(a){return b.const_get_relative(w,"Math").$checked("tanh",b.const_get_relative(w,"Math")["$float!"](a))},P.$$arity=1)}(x[0],x)},Opal.modules["corelib/complex"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}
function B(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}var v=b.top,m=[],w=b.nil,z=b.klass,r=b.truthy,a=b.module;b.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero?".split(" "));
v.$require("corelib/numeric");(function(a,$super,m){function p(){}a=p=z(a,$super,"Complex",p);var q=a.$$proto,f=[a].concat(m),c,k,e,d,h,t,Y,l,v,n,X,W,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,ba,N,O,ma,da;q.real=q.imag=w;b.defs(a,"$rect",c=function(a,c){var d,e,g;null==c&&(c=0);r(r(d=r(e=r(g=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():g)?b.const_get_relative(f,"Numeric")["$==="](c):e)?c["$real?"]():d)||this.$raise(b.const_get_relative(f,"TypeError"),"not a real");return this.$new(a,c)},c.$$arity=
-2);(function(a,c){[a].concat(c);return b.alias(a,"rectangular","rect")})(b.get_singleton_class(a),f);b.defs(a,"$polar",k=function(a,c){var d,e,g;null==c&&(c=0);r(r(d=r(e=r(g=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():g)?b.const_get_relative(f,"Numeric")["$==="](c):e)?c["$real?"]():d)||this.$raise(b.const_get_relative(f,"TypeError"),"not a real");return this.$new(x(a,b.const_get_relative(f,"Math").$cos(c)),x(a,b.const_get_relative(f,"Math").$sin(c)))},k.$$arity=-2);a.$attr_reader("real",
"imag");b.def(a,"$initialize",e=function(a,c){null==c&&(c=0);this.real=a;return this.imag=c},e.$$arity=-2);b.def(a,"$coerce",d=function(a){var c;return r(b.const_get_relative(f,"Complex")["$==="](a))?[a,this]:r(r(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?[b.const_get_relative(f,"Complex").$new(a,0),this]:this.$raise(b.const_get_relative(f,"TypeError"),""+a.$class()+" can't be coerced into Complex")},d.$$arity=1);b.def(a,"$==",h=function(a){var c;return r(b.const_get_relative(f,
"Complex")["$==="](a))?this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real()):r(r(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):a["$=="](this)},h.$$arity=1);b.def(a,"$-@",t=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},t.$$arity=0);b.def(a,"$+",Y=function(a){var c;return r(b.const_get_relative(f,"Complex")["$==="](a))?this.$Complex(C(this.real,a.$real()),C(this.imag,
a.$imag())):r(r(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(C(this.real,a),this.imag):this.$__coerced__("+",a)},Y.$$arity=1);b.def(a,"$-",l=function(a){var c;return r(b.const_get_relative(f,"Complex")["$==="](a))?this.$Complex(B(this.real,a.$real()),B(this.imag,a.$imag())):r(r(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(B(this.real,a),this.imag):this.$__coerced__("-",a)},l.$$arity=1);b.def(a,"$*",v=function(a){var c;return r(b.const_get_relative(f,
"Complex")["$==="](a))?this.$Complex(B(x(this.real,a.$real()),x(this.imag,a.$imag())),C(x(this.real,a.$imag()),x(this.imag,a.$real()))):r(r(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(x(this.real,a),x(this.imag,a)):this.$__coerced__("*",a)},v.$$arity=1);b.def(a,"$/",n=function(a){var c,d,e,g;return r(b.const_get_relative(f,"Complex")["$==="](a))?r(r(c=r(d=r(e=r(g=b.const_get_relative(f,"Number")["$==="](this.real))?this.real["$nan?"]():g)?e:r(g=b.const_get_relative(f,
"Number")["$==="](this.imag))?this.imag["$nan?"]():g)?d:r(e=b.const_get_relative(f,"Number")["$==="](a.$real()))?a.$real()["$nan?"]():e)?c:r(d=b.const_get_relative(f,"Number")["$==="](a.$imag()))?a.$imag()["$nan?"]():d)?b.const_get_relative(f,"Complex").$new(b.const_get_qualified(b.const_get_relative(f,"Float"),"NAN"),b.const_get_qualified(b.const_get_relative(f,"Float"),"NAN")):u(x(this,a.$conj()),a.$abs2()):r(r(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(this.real.$quo(a),
this.imag.$quo(a)):this.$__coerced__("/",a)},n.$$arity=1);b.def(a,"$**",X=function(a){var c,d,e=w,g=w,h=w,k=w;d=k=h=g=e=e=d=w;if(a["$=="](0))return b.const_get_relative(f,"Complex").$new(1,0);if(r(b.const_get_relative(f,"Complex")["$==="](a)))return d=this.$polar(),c=b.to_ary(d),e=null==c[0]?w:c[0],g=null==c[1]?w:c[1],d,h=a.$real(),k=a.$imag(),d=b.const_get_relative(f,"Math").$exp(B(x(h,b.const_get_relative(f,"Math").$log(e)),x(k,g))),e=C(x(g,h),x(k,b.const_get_relative(f,"Math").$log(e))),b.const_get_relative(f,
"Complex").$polar(d,e);if(r(b.const_get_relative(f,"Integer")["$==="](a))){if(r("number"===typeof a?0<a:a["$>"](0))){g=e=this;for(h=B(a,1);r(h["$!="](0));){a=h.$divmod(2);d=b.to_ary(a);k=null==d[0]?w:d[0];d=null==d[1]?w:d[1];for(a;d["$=="](0);)e=this.$Complex(B(x(e.$real(),e.$real()),x(e.$imag(),e.$imag())),x(x(2,e.$real()),e.$imag())),h=k,c=h.$divmod(2),a=b.to_ary(c),k=null==a[0]?w:a[0],d=null==a[1]?w:a[1],c;g=x(g,e);h=B(h,1)}return g}return u(b.const_get_relative(f,"Rational").$new(1,1),this)["$**"](a["$-@"]())}return r(r(c=
b.const_get_relative(f,"Float")["$==="](a))?c:b.const_get_relative(f,"Rational")["$==="](a))?(d=this.$polar(),c=b.to_ary(d),e=null==c[0]?w:c[0],g=null==c[1]?w:c[1],d,b.const_get_relative(f,"Complex").$polar(e["$**"](a),x(g,a))):this.$__coerced__("**",a)},X.$$arity=1);b.def(a,"$abs",W=function(){return b.const_get_relative(f,"Math").$hypot(this.real,this.imag)},W.$$arity=0);b.def(a,"$abs2",E=function(){return C(x(this.real,this.real),x(this.imag,this.imag))},E.$$arity=0);b.def(a,"$angle",ca=function(){return b.const_get_relative(f,
"Math").$atan2(this.imag,this.real)},ca.$$arity=0);b.alias(a,"arg","angle");b.def(a,"$conj",wa=function(){return this.$Complex(this.real,this.imag["$-@"]())},wa.$$arity=0);b.alias(a,"conjugate","conj");b.def(a,"$denominator",y=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},y.$$arity=0);b.alias(a,"divide","/");b.def(a,"$eql?",A=function(a){var c,d;return r(c=r(d=b.const_get_relative(f,"Complex")["$==="](a))?this.real.$class()["$=="](this.imag.$class()):d)?this["$=="](a):
c},A.$$arity=1);b.def(a,"$fdiv",ha=function(a){r(b.const_get_relative(f,"Numeric")["$==="](a))||this.$raise(b.const_get_relative(f,"TypeError"),""+a.$class()+" can't be coerced into Complex");return u(this,a)},ha.$$arity=1);b.def(a,"$finite?",ja=function(){var a;return r(a=this.real["$finite?"]())?this.imag["$finite?"]():a},ja.$$arity=0);b.def(a,"$hash",P=function(){return"Complex:"+this.real+":"+this.imag},P.$$arity=0);b.alias(a,"imaginary","imag");b.def(a,"$infinite?",L=function(){var a;return r(a=
this.real["$infinite?"]())?a:this.imag["$infinite?"]()},L.$$arity=0);b.def(a,"$inspect",U=function(){return"("+this+")"},U.$$arity=0);b.alias(a,"magnitude","abs");b.udef(a,"$negative?");b.def(a,"$numerator",J=function(){var a=w,a=this.$denominator();return this.$Complex(x(this.real.$numerator(),u(a,this.real.$denominator())),x(this.imag.$numerator(),u(a,this.imag.$denominator())))},J.$$arity=0);b.alias(a,"phase","arg");b.def(a,"$polar",Q=function(){return[this.$abs(),this.$arg()]},Q.$$arity=0);b.udef(a,
"$positive?");b.alias(a,"quo","/");b.def(a,"$rationalize",R=function(a){1<arguments.length&&this.$raise(b.const_get_relative(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");r(this.imag["$!="](0))&&this.$raise(b.const_get_relative(f,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)},R.$$arity=-1);b.def(a,"$real?",V=function(){return!1},V.$$arity=0);b.def(a,"$rect",ba=function(){return[this.real,this.imag]},ba.$$arity=0);b.alias(a,
"rectangular","rect");b.def(a,"$to_f",N=function(){this.imag["$=="](0)||this.$raise(b.const_get_relative(f,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},N.$$arity=0);b.def(a,"$to_i",O=function(){this.imag["$=="](0)||this.$raise(b.const_get_relative(f,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},O.$$arity=0);b.def(a,"$to_r",ma=function(){this.imag["$=="](0)||this.$raise(b.const_get_relative(f,"RangeError"),"can't convert "+this+" into Rational");
return this.real.$to_r()},ma.$$arity=0);b.def(a,"$to_s",da=function(){var a,c,d,e=w,e=this.real.$inspect(),e=C(e,r(r(a=r(c=r(d=b.const_get_relative(f,"Number")["$==="](this.imag))?this.imag["$nan?"]():d)?c:this.imag["$positive?"]())?a:this.imag["$zero?"]())?"+":"-"),e=C(e,this.imag.$abs().$inspect());r(r(a=b.const_get_relative(f,"Number")["$==="](this.imag))?r(c=this.imag["$nan?"]())?c:this.imag["$infinite?"]():a)&&(e=C(e,"*"));return C(e,"i")},da.$$arity=0);return b.const_set(f[0],"I",a.$new(0,1))})(m[0],
b.const_get_relative(m,"Numeric"),m);return function(g,D){var m=a(g,"Kernel"),p=[m].concat(D),q;b.def(m,"$Complex",q=function(a,c){null==c&&(c=w);return r(c)?b.const_get_relative(p,"Complex").$new(a,c):b.const_get_relative(p,"Complex").$new(a,0)},q.$$arity=-2)}(m[0],m)},Opal.modules["corelib/rational"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function B(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var m=b.top,w=[],z=b.nil,r=b.klass,a=b.truthy,g=b.module;b.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));
m.$require("corelib/numeric");(function(g,$super,p){function q(){}g=q=r(g,$super,"Rational",q);var f=g.$$proto,c=[g].concat(p),k,e,d,h,t,m,l,w,n,X,W,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,ba;f.num=f.den=z;b.defs(g,"$reduce",k=function(d,e){var g=z;d=d.$to_i();e=e.$to_i();if(e["$=="](0))this.$raise(b.const_get_relative(c,"ZeroDivisionError"),"divided by 0");else if(a(x(e,0)))d=d["$-@"](),e=e["$-@"]();else if(e["$=="](1))return this.$new(d,e);g=d.$gcd(e);return this.$new(C(d,g),C(e,g))},k.$$arity=2);b.defs(g,
"$convert",e=function(d,e){var g,h;a(a(g=d["$nil?"]())?g:e["$nil?"]())&&this.$raise(b.const_get_relative(c,"TypeError"),"cannot convert nil into Rational");if(a(a(g=b.const_get_relative(c,"Integer")["$==="](d))?b.const_get_relative(c,"Integer")["$==="](e):g))return this.$reduce(d,e);a(a(g=a(h=b.const_get_relative(c,"Float")["$==="](d))?h:b.const_get_relative(c,"String")["$==="](d))?g:b.const_get_relative(c,"Complex")["$==="](d))&&(d=d.$to_r());a(a(g=a(h=b.const_get_relative(c,"Float")["$==="](e))?
h:b.const_get_relative(c,"String")["$==="](e))?g:b.const_get_relative(c,"Complex")["$==="](e))&&(e=e.$to_r());return a(a(g=e["$equal?"](1))?b.const_get_relative(c,"Integer")["$==="](d)["$!"]():g)?b.const_get_relative(c,"Opal")["$coerce_to!"](d,b.const_get_relative(c,"Rational"),"to_r"):a(a(g=b.const_get_relative(c,"Numeric")["$==="](d))?b.const_get_relative(c,"Numeric")["$==="](e):g)?C(d,e):this.$reduce(d,e)},e.$$arity=2);b.def(g,"$initialize",d=function(a,c){this.num=a;return this.den=c},d.$$arity=
2);b.def(g,"$numerator",h=function(){return this.num},h.$$arity=0);b.def(g,"$denominator",t=function(){return this.den},t.$$arity=0);b.def(g,"$coerce",m=function(a){var d=z,d=a;return b.const_get_relative(c,"Rational")["$==="](d)?[a,this]:b.const_get_relative(c,"Integer")["$==="](d)?[a.$to_r(),this]:b.const_get_relative(c,"Float")["$==="](d)?[a,this.$to_f()]:z},m.$$arity=1);b.def(g,"$==",l=function(a){var d=z,d=a;return b.const_get_relative(c,"Rational")["$==="](d)?this.num["$=="](a.$numerator())?
this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):b.const_get_relative(c,"Integer")["$==="](d)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):b.const_get_relative(c,"Float")["$==="](d)?this.$to_f()["$=="](a):a["$=="](this)},l.$$arity=1);b.def(g,"$<=>",w=function(a){var d=z,d=a;return b.const_get_relative(c,"Rational")["$==="](d)?B(u(this.num,a.$denominator()),u(this.den,a.$numerator()))["$<=>"](0):b.const_get_relative(c,"Integer")["$==="](d)?B(this.num,u(this.den,a))["$<=>"](0):
b.const_get_relative(c,"Float")["$==="](d)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},w.$$arity=1);b.def(g,"$+",n=function(a){var d=z,e=d=z;d=a;b.const_get_relative(c,"Rational")["$==="](d)?(d=v(u(this.num,a.$denominator()),u(this.den,a.$numerator())),e=u(this.den,a.$denominator()),a=this.$Rational(d,e)):a=b.const_get_relative(c,"Integer")["$==="](d)?this.$Rational(v(this.num,u(a,this.den)),this.den):b.const_get_relative(c,"Float")["$==="](d)?v(this.$to_f(),a):this.$__coerced__("+",a);return a},
n.$$arity=1);b.def(g,"$-",X=function(a){var d=z,e=d=z;d=a;b.const_get_relative(c,"Rational")["$==="](d)?(d=B(u(this.num,a.$denominator()),u(this.den,a.$numerator())),e=u(this.den,a.$denominator()),a=this.$Rational(d,e)):a=b.const_get_relative(c,"Integer")["$==="](d)?this.$Rational(B(this.num,u(a,this.den)),this.den):b.const_get_relative(c,"Float")["$==="](d)?B(this.$to_f(),a):this.$__coerced__("-",a);return a},X.$$arity=1);b.def(g,"$*",W=function(a){var d=z,e=d=z;d=a;b.const_get_relative(c,"Rational")["$==="](d)?
(d=u(this.num,a.$numerator()),e=u(this.den,a.$denominator()),a=this.$Rational(d,e)):a=b.const_get_relative(c,"Integer")["$==="](d)?this.$Rational(u(this.num,a),this.den):b.const_get_relative(c,"Float")["$==="](d)?u(this.$to_f(),a):this.$__coerced__("*",a);return a},W.$$arity=1);b.def(g,"$/",E=function(a){var d=z,e=d=z;d=a;b.const_get_relative(c,"Rational")["$==="](d)?(d=u(this.num,a.$denominator()),e=u(this.den,a.$numerator()),a=this.$Rational(d,e)):a=b.const_get_relative(c,"Integer")["$==="](d)?
a["$=="](0)?C(this.$to_f(),0):this.$Rational(this.num,u(this.den,a)):b.const_get_relative(c,"Float")["$==="](d)?C(this.$to_f(),a):this.$__coerced__("/",a);return a},E.$$arity=1);b.def(g,"$**",ca=function(d){var e=z,e=d;return b.const_get_relative(c,"Integer")["$==="](e)?a(this["$=="](0)?x(d,0):this["$=="](0))?b.const_get_qualified(b.const_get_relative(c,"Float"),"INFINITY"):a("number"===typeof d?0<d:d["$>"](0))?this.$Rational(this.num["$**"](d),this.den["$**"](d)):a(x(d,0))?this.$Rational(this.den["$**"](d["$-@"]()),
this.num["$**"](d["$-@"]())):this.$Rational(1,1):b.const_get_relative(c,"Float")["$==="](e)?this.$to_f()["$**"](d):b.const_get_relative(c,"Rational")["$==="](e)?d["$=="](0)?this.$Rational(1,1):d.$denominator()["$=="](1)?a(x(d,0))?this.$Rational(this.den["$**"](d.$numerator().$abs()),this.num["$**"](d.$numerator().$abs())):this.$Rational(this.num["$**"](d.$numerator()),this.den["$**"](d.$numerator())):a(this["$=="](0)?x(d,0):this["$=="](0))?this.$raise(b.const_get_relative(c,"ZeroDivisionError"),"divided by 0"):
this.$to_f()["$**"](d):this.$__coerced__("**",d)},ca.$$arity=1);b.def(g,"$abs",wa=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},wa.$$arity=0);b.def(g,"$ceil",y=function(a){null==a&&(a=0);return a["$=="](0)?C(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},y.$$arity=-1);b.alias(g,"divide","/");b.def(g,"$floor",A=function(a){null==a&&(a=0);return a["$=="](0)?C(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)},A.$$arity=-1);
b.def(g,"$hash",ha=function(){return"Rational:"+this.num+":"+this.den},ha.$$arity=0);b.def(g,"$inspect",ja=function(){return"("+this+")"},ja.$$arity=0);b.alias(g,"quo","/");b.def(g,"$rationalize",P=function(a){1<arguments.length&&this.$raise(b.const_get_relative(c,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;for(var d=a.$abs(),e=B(this,d),d=v(this,d),g=0,h=1,f=1,k=0,l,t,p;;){l=e.$ceil();if("number"===typeof l&&"number"===typeof d?l<=d:l["$<="](d))break;
p=l-1;l=p*h+g;t=p*k+f;g=C(1,B(d,p));d=C(1,B(e,p));e=g;g=h;f=k;h=l;k=t}return this.$Rational(l*h+g,l*k+f)},P.$$arity=-1);b.def(g,"$round",L=function(c){var b=z,d=z,b=z;null==c&&(c=0);if(!c["$=="](0))return this.$with_precision("round",c);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;b=v(u(this.num.$abs(),2),this.den);d=u(this.den,2);b=C(b,d).$truncate();return a(x(this.num,0))?b["$-@"]():b},L.$$arity=-1);b.def(g,"$to_f",U=function(){return C(this.num,this.den)},U.$$arity=0);
b.def(g,"$to_i",J=function(){return this.$truncate()},J.$$arity=0);b.def(g,"$to_r",Q=function(){return this},Q.$$arity=0);b.def(g,"$to_s",R=function(){return""+this.num+"/"+this.den},R.$$arity=0);b.def(g,"$truncate",V=function(c){null==c&&(c=0);return c["$=="](0)?a(x(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",c)},V.$$arity=-1);return(b.def(g,"$with_precision",ba=function(d,e){var g=z,h=z;a(b.const_get_relative(c,"Integer")["$==="](e))||this.$raise(b.const_get_relative(c,
"TypeError"),"not an Integer");g=10["$**"](e);h=u(this,g);return a(x(e,1))?C(h.$send(d),g).$to_i():this.$Rational(h.$send(d),g)},ba.$$arity=2),z)&&"with_precision"})(w[0],b.const_get_relative(w,"Numeric"),w);return function(a,m){var p=g(a,"Kernel"),q=[p].concat(m),f;b.def(p,"$Rational",f=function(a,g){null==g&&(g=1);return b.const_get_relative(q,"Rational").$convert(a,g)},f.$$arity=-2)}(w[0],w)},Opal.modules["corelib/time"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?
a+b:a["$+"](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var v=b.top,m=[],w=b.nil,z=b.slice,r=b.klass,a=b.truthy,g=b.range;b.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
v.$require("corelib/comparable");return function(m,$super,p){function q(){}function f(a,d,e,g,h,f){a=a.$$is_string?parseInt(a,10):b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int");if(d===w)d=1;else if(!d.$$is_number)if(d["$respond_to?"]("to_str"))switch(d=d.$to_str(),d.toLowerCase()){case "jan":d=1;break;case "feb":d=2;break;case "mar":d=3;break;case "apr":d=4;break;case "may":d=5;break;case "jun":d=6;break;case "jul":d=7;break;case "aug":d=8;break;case "sep":d=
9;break;case "oct":d=10;break;case "nov":d=11;break;case "dec":d=12;break;default:d=d.$to_i()}else d=b.const_get_relative(k,"Opal")["$coerce_to!"](d,b.const_get_relative(k,"Integer"),"to_int");(1>d||12<d)&&c.$raise(b.const_get_relative(k,"ArgumentError"),"month out of range: "+d);--d;e=e===w?1:e.$$is_string?parseInt(e,10):b.const_get_relative(k,"Opal")["$coerce_to!"](e,b.const_get_relative(k,"Integer"),"to_int");(1>e||31<e)&&c.$raise(b.const_get_relative(k,"ArgumentError"),"day out of range: "+e);
g=g===w?0:g.$$is_string?parseInt(g,10):b.const_get_relative(k,"Opal")["$coerce_to!"](g,b.const_get_relative(k,"Integer"),"to_int");(0>g||24<g)&&c.$raise(b.const_get_relative(k,"ArgumentError"),"hour out of range: "+g);h=h===w?0:h.$$is_string?parseInt(h,10):b.const_get_relative(k,"Opal")["$coerce_to!"](h,b.const_get_relative(k,"Integer"),"to_int");(0>h||59<h)&&c.$raise(b.const_get_relative(k,"ArgumentError"),"min out of range: "+h);f===w?f=0:f.$$is_number||(f=f.$$is_string?parseInt(f,10):b.const_get_relative(k,
"Opal")["$coerce_to!"](f,b.const_get_relative(k,"Integer"),"to_int"));(0>f||60<f)&&c.$raise(b.const_get_relative(k,"ArgumentError"),"sec out of range: "+f);return[a,d,e,g,h,f]}var c=q=r(m,$super,"Time",q),k=[c].concat(p),e,d,h,t,v,l,Ea,n,X,W,E,ca,wa,y,A,ha,ja,P,L,U,J,Q,R,V,ba,N,O,ma,da,I,pa,ea,Z,fa,K,ka,oa,aa,ia,za,qa,na;c.$include(b.const_get_relative(k,"Comparable"));var ra="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ta="Sun Mon Tue Wed Thu Fri Sat".split(" "),ua=
"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ca="January February March April May June July August September October November December".split(" ");b.defs(c,"$at",e=function(a,c){var d;if(b.const_get_relative(k,"Time")["$==="](a))return void 0!==c&&this.$raise(b.const_get_relative(k,"TypeError"),"can't convert Time into an exact number"),d=new Date(a.getTime()),d.is_utc=a.is_utc,d;a.$$is_number||(a=b.const_get_relative(k,"Opal")["$coerce_to!"](a,b.const_get_relative(k,"Integer"),"to_int"));
if(void 0===c)return new Date(1E3*a);c.$$is_number||(c=b.const_get_relative(k,"Opal")["$coerce_to!"](c,b.const_get_relative(k,"Integer"),"to_int"));return new Date(1E3*a+c/1E3)},e.$$arity=-2);b.defs(c,"$new",d=function(a,c,d,e,g,h,l){null==c&&(c=w);null==d&&(d=w);null==e&&(e=w);null==g&&(g=w);null==h&&(h=w);null==l&&(l=w);if(void 0===a)return new Date;l!==w&&this.$raise(b.const_get_relative(k,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");h=f(a,c,d,e,g,h);a=h[0];
c=h[1];d=h[2];e=h[3];g=h[4];h=h[5];c=new Date(a,c,d,e,g,0,1E3*h);100>a&&c.setFullYear(a);return c},d.$$arity=-1);b.defs(c,"$local",h=function(a,c,b,d,e,g,h,k,l,t){null==c&&(c=w);null==b&&(b=w);null==d&&(d=w);null==e&&(e=w);null==g&&(g=w);null==h&&(h=w);null==k&&(k=w);null==l&&(l=w);null==t&&(t=w);var p;10===arguments.length&&(p=z.call(arguments),a=p[5],c=p[4],b=p[3],d=p[2],e=p[1],g=p[0]);p=f(a,c,b,d,e,g);a=p[0];c=p[1];b=p[2];d=p[3];e=p[4];g=p[5];p=new Date(a,c,b,d,e,0,1E3*g);100>a&&p.setFullYear(a);
return p},h.$$arity=-2);b.defs(c,"$gm",t=function(a,c,b,d,e,g,h,k,l,t){null==c&&(c=w);null==b&&(b=w);null==d&&(d=w);null==e&&(e=w);null==g&&(g=w);null==h&&(h=w);null==k&&(k=w);null==l&&(l=w);null==t&&(t=w);var p;10===arguments.length&&(p=z.call(arguments),a=p[5],c=p[4],b=p[3],d=p[2],e=p[1],g=p[0]);p=f(a,c,b,d,e,g);a=p[0];c=p[1];b=p[2];d=p[3];e=p[4];g=p[5];p=new Date(Date.UTC(a,c,b,d,e,0,1E3*g));100>a&&p.setUTCFullYear(a);p.is_utc=!0;return p},t.$$arity=-2);(function(a,c){[a].concat(c);b.alias(a,"mktime",
"local");return b.alias(a,"utc","gm")})(b.get_singleton_class(c),k);b.defs(c,"$now",v=function(){return this.$new()},v.$$arity=0);b.def(c,"$+",l=function(c){a(b.const_get_relative(k,"Time")["$==="](c))&&this.$raise(b.const_get_relative(k,"TypeError"),"time + time?");c.$$is_number||(c=b.const_get_relative(k,"Opal")["$coerce_to!"](c,b.const_get_relative(k,"Integer"),"to_int"));c=new Date(this.getTime()+1E3*c);c.is_utc=this.is_utc;return c},l.$$arity=1);b.def(c,"$-",Ea=function(c){if(a(b.const_get_relative(k,
"Time")["$==="](c)))return(this.getTime()-c.getTime())/1E3;c.$$is_number||(c=b.const_get_relative(k,"Opal")["$coerce_to!"](c,b.const_get_relative(k,"Integer"),"to_int"));c=new Date(this.getTime()-1E3*c);c.is_utc=this.is_utc;return c},Ea.$$arity=1);b.def(c,"$<=>",n=function(c){var d=w;if(a(b.const_get_relative(k,"Time")["$==="](c)))return this.$to_f()["$<=>"](c.$to_f());d=c["$<=>"](this);return a(d["$nil?"]())?w:a("number"===typeof d?0<d:d["$>"](0))?-1:a("number"===typeof d?0>d:d["$<"](0))?1:0},n.$$arity=
1);b.def(c,"$==",X=function(c){var d;return a(d=b.const_get_relative(k,"Time")["$==="](c))?this.$to_f()===c.$to_f():d},X.$$arity=1);b.def(c,"$asctime",W=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},W.$$arity=0);b.alias(c,"ctime","asctime");b.def(c,"$day",E=function(){return this.is_utc?this.getUTCDate():this.getDate()},E.$$arity=0);b.def(c,"$yday",ca=function(){var a=w,c=w,d=w,a=b.const_get_relative(k,"Time").$new(this.$year()).$to_i(),c=b.const_get_relative(k,"Time").$new(this.$year(),
this.$month(),this.$day()).$to_i(),d=86400;return x(C(B(c,a),d).$round(),1)},ca.$$arity=0);b.def(c,"$isdst",wa=function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())},wa.$$arity=0);b.alias(c,"dst?","isdst");b.def(c,"$dup",y=function(){var a=w,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},y.$$arity=0);b.def(c,"$eql?",A=function(c){var d;
return a(d=c["$is_a?"](b.const_get_relative(k,"Time")))?this["$<=>"](c)["$zero?"]():d},A.$$arity=1);b.def(c,"$friday?",ha=function(){return 5==this.$wday()},ha.$$arity=0);b.def(c,"$hash",ja=function(){return"Time:"+this.getTime()},ja.$$arity=0);b.def(c,"$hour",P=function(){return this.is_utc?this.getUTCHours():this.getHours()},P.$$arity=0);b.def(c,"$inspect",L=function(){return a(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},L.$$arity=0);b.alias(c,
"mday","day");b.def(c,"$min",U=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},U.$$arity=0);b.def(c,"$mon",J=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},J.$$arity=0);b.def(c,"$monday?",Q=function(){return 1==this.$wday()},Q.$$arity=0);b.alias(c,"month","mon");b.def(c,"$saturday?",R=function(){return 6==this.$wday()},R.$$arity=0);b.def(c,"$sec",V=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},V.$$arity=0);b.def(c,"$succ",ba=function(){var a=
new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},ba.$$arity=0);b.def(c,"$usec",N=function(){return 1E3*this.getMilliseconds()},N.$$arity=0);b.def(c,"$zone",O=function(){var a=this.toString(),c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c},O.$$arity=0);b.def(c,"$getgm",ma=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},ma.$$arity=0);b.alias(c,"getutc","getgm");b.def(c,"$gmtime",da=function(){this.is_utc=
!0;return this},da.$$arity=0);b.alias(c,"utc","gmtime");b.def(c,"$gmt?",I=function(){return!0===this.is_utc},I.$$arity=0);b.def(c,"$gmt_offset",pa=function(){return 60*-this.getTimezoneOffset()},pa.$$arity=0);b.def(c,"$strftime",ea=function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,b,d,e,h){e="";var f=-1!==b.indexOf("0"),k=-1===b.indexOf("-"),l=-1!==b.indexOf("_"),t=-1!==b.indexOf("^"),p=-1!==b.indexOf("#"),n=(b.match(":")||[]).length;d=parseInt(d,10);f&&l&&(b.indexOf("0")<
b.indexOf("_")?f=!1:l=!1);switch(h){case "Y":e+=c.$year();break;case "C":f=!l;e+=Math.round(c.$year()/100);break;case "y":f=!l;e+=c.$year()%100;break;case "m":f=!l;e+=c.$mon();break;case "B":e+=Ca[c.$mon()-1];break;case "b":case "h":l=!f;e+=ua[c.$mon()-1];break;case "d":f=!l;e+=c.$day();break;case "e":l=!f;e+=c.$day();break;case "j":e+=c.$yday();break;case "H":f=!l;e+=c.$hour();break;case "k":l=!f;e+=c.$hour();break;case "I":f=!l;e+=c.$hour()%12||12;break;case "l":l=!f;e+=c.$hour()%12||12;break;case "P":e+=
12<=c.$hour()?"pm":"am";break;case "p":e+=12<=c.$hour()?"PM":"AM";break;case "M":f=!l;e+=c.$min();break;case "S":f=!l;e+=c.$sec();break;case "L":f=!l;d=isNaN(d)?3:d;e+=c.getMilliseconds();break;case "N":d=isNaN(d)?9:d;e+=c.getMilliseconds().toString().$rjust(3,"0");e=e.$ljust(d,"0");break;case "z":a=c.getTimezoneOffset();b=Math.floor(Math.abs(a)/60);h=Math.abs(a)%60;e=e+(0>a?"+":"-")+(10>b?"0":"");e+=b;0<n&&(e+=":");e+=10>h?"0":"";e+=h;1<n&&(e+=":00");break;case "Z":e+=c.$zone();break;case "A":e+=
ra[c.$wday()];break;case "a":e+=ta[c.$wday()];break;case "u":e+=c.$wday()+1;break;case "w":e+=c.$wday();break;case "V":e+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":e+=c.$cweek_cyear()["$[]"](1);break;case "g":e+=c.$cweek_cyear()["$[]"](1)["$[]"](g(-2,-1,!1));break;case "s":e+=c.$to_i();break;case "n":e+="\n";break;case "t":e+="\t";break;case "%":e+="%";break;case "c":e+=c.$strftime("%a %b %e %T %Y");break;case "D":case "x":e+=c.$strftime("%m/%d/%y");break;case "F":e+=c.$strftime("%Y-%m-%d");
break;case "v":e+=c.$strftime("%e-%^b-%4Y");break;case "r":e+=c.$strftime("%I:%M:%S %p");break;case "R":e+=c.$strftime("%H:%M");break;case "T":case "X":e+=c.$strftime("%H:%M:%S");break;default:return a}t&&(e=e.toUpperCase());p&&(e=e.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));k&&(f||l)&&(e=e.$rjust(isNaN(d)?2:d,l?" ":"0"));return e})},ea.$$arity=1);b.def(c,"$sunday?",Z=function(){return 0==this.$wday()},Z.$$arity=0);b.def(c,"$thursday?",fa=function(){return 4==
this.$wday()},fa.$$arity=0);b.def(c,"$to_a",K=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},K.$$arity=0);b.def(c,"$to_f",ka=function(){return this.getTime()/1E3},ka.$$arity=0);b.def(c,"$to_i",oa=function(){return parseInt(this.getTime()/1E3,10)},oa.$$arity=0);b.alias(c,"to_s","inspect");b.def(c,"$tuesday?",aa=function(){return 2==this.$wday()},aa.$$arity=0);b.alias(c,"tv_sec","to_i");b.alias(c,"tv_usec",
"usec");b.alias(c,"utc?","gmt?");b.alias(c,"gmtoff","gmt_offset");b.alias(c,"utc_offset","gmt_offset");b.def(c,"$wday",ia=function(){return this.is_utc?this.getUTCDay():this.getDay()},ia.$$arity=0);b.def(c,"$wednesday?",za=function(){return 3==this.$wday()},za.$$arity=0);b.def(c,"$year",qa=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},qa.$$arity=0);return(b.def(c,"$cweek_cyear",na=function(){var c,d=w,e=w,g=e=e=d=w,g=w,d=b.const_get_relative(k,"Time").$new(this.$year(),1,
1),e=d.$wday(),d=this.$year();a(a(c=u(e,4))?e["$!="](0):c)?e=B(e,1):(e=B(B(e,7),1),e["$=="](-8)&&(e=-1));e=C(x(this.$yday(),e),7).$ceil();if(a(u(e,0)))return b.const_get_relative(k,"Time").$new(B(this.$year(),1),12,31).$cweek_cyear();e["$=="](53)&&(g=b.const_get_relative(k,"Time").$new(this.$year(),12,31),g=g.$wday(),a(a(c=u(g,3))?g["$!="](0):c)&&(e=1,d=x(d,1)));return[e,d]},na.$$arity=0),w)&&"cweek_cyear"}(m[0],Date,m)},Opal.modules["corelib/struct"]=function(b){function x(a,b){return"number"===
typeof a&&"number"===typeof b?a>b:a["$>"](b)}function C(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var m=b.top,w=[],z=b.nil,r=b.klass,a=b.truthy,g=b.send,D=b.hash2;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));
m.$require("corelib/enumerable");return function(m,$super,q){function f(){}m=f=r(m,$super,"Struct",f);var c=[m].concat(q),k,e,d,h,t,Y,l,w,n,X,W,E,ca,wa,y,A,ha,ja,P;m.$include(b.const_get_relative(c,"Enumerable"));b.defs(m,"$new",k=function(d,e,h){var f,l,t,n,q,m=k.$$p,y=m||z;t=z;t=b.slice.call(arguments,1,arguments.length);h=b.extract_kwargs(t);if(null==h||!h.$$is_hash)if(null==h)h=D([],{});else throw b.ArgumentError.$new("expected kwargs");n=h.$$smap.keyword_init;null==n&&(n=!1);q=0<t.length?t.splice(0,
t.length-0):[];m&&(k.$$p=null);if(a(d))try{d=b.const_get_relative(c,"Opal")["$const_name!"](d)}catch(E){if(b.rescue(E,[b.const_get_relative(c,"TypeError"),b.const_get_relative(c,"NameError")]))try{q.$unshift(d),d=z}finally{b.pop_exception()}else throw E;}g(q,"map",[],(f=function(a){null==a&&(a=z);return b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"String"),"to_str")},f.$$s=this,f.$$arity=1,f));t=g(b.const_get_relative(c,"Class"),"new",[this],(l=function(){var a=l.$$s||this,
d;g(q,"each",[],(d=function(a){var c=d.$$s||this;null==a&&(a=z);return c.$define_struct_attribute(a)},d.$$s=a,d.$$arity=1,d));return function(a,c){[a].concat(c);var d;b.def(a,"$new",d=function(a){var c,d=z,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=this.$allocate();d.$$data={};g(d,"initialize",b.to_a(c));return d},d.$$arity=-1);return a.$alias_method("[]","new")}(b.get_singleton_class(a),c)},l.$$s=this,l.$$arity=0,l));a(y)&&g(t,"module_eval",[],y.$to_proc());
t.$$keyword_init=n;a(d)&&b.const_get_relative(c,"Struct").$const_set(d,t);return t},k.$$arity=-2);b.defs(m,"$define_struct_attribute",e=function(a){var d,e;this["$=="](b.const_get_relative(c,"Struct"))&&this.$raise(b.const_get_relative(c,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);g(this,"define_method",[a],(d=function(){return(d.$$s||this).$$data[a]},d.$$s=this,d.$$arity=0,d));return g(this,"define_method",[""+a+"="],(e=function(c){var b=e.$$s||
this;null==c&&(c=z);return b.$$data[a]=c},e.$$s=this,e.$$arity=1,e))},e.$$arity=1);b.defs(m,"$members",d=function(){var d;null==this.members&&(this.members=z);this["$=="](b.const_get_relative(c,"Struct"))&&this.$raise(b.const_get_relative(c,"ArgumentError"),"the Struct class has no members");return this.members=a(d=this.members)?d:[]},d.$$arity=0);b.defs(m,"$inherited",h=function(a){var c,b=z;null==this.members&&(this.members=z);b=this.members;return g(a,"instance_eval",[],(c=function(){return(c.$$s||
this).members=b},c.$$s=this,c.$$arity=0,c))},h.$$arity=1);b.def(m,"$initialize",t=function(d){var e,h,f,k,l=z,t=z,t=arguments.length,n=t-0;0>n&&(n=0);k=Array(n);for(n=0;n<t;n++)k[n-0]=arguments[n];if(a(this.$class().$$keyword_init))return l=a(e=k.$last())?e:D([],{}),a(a(e=x(k.$length(),1))?e:1===k.length&&!l.$$is_hash)&&this.$raise(b.const_get_relative(c,"ArgumentError"),"wrong number of arguments (given "+k.$length()+", expected 0)"),t=C(l.$keys(),this.$class().$members()),a(t["$any?"]())&&this.$raise(b.const_get_relative(c,
"ArgumentError"),"unknown keywords: "+t.$join(", ")),g(this.$class().$members(),"each",[],(h=function(a){var c=h.$$s||this,d=z;null==a&&(a=z);d=[a,l["$[]"](a)];g(c,"[]=",b.to_a(d));return d[C(d.length,1)]},h.$$s=this,h.$$arity=1,h));a(x(k.$length(),this.$class().$members().$length()))&&this.$raise(b.const_get_relative(c,"ArgumentError"),"struct size differs");return g(this.$class().$members(),"each_with_index",[],(f=function(a,c){var d=f.$$s||this,e=z;null==a&&(a=z);null==c&&(c=z);e=[a,k["$[]"](c)];
g(d,"[]=",b.to_a(e));return e[C(e.length,1)]},f.$$s=this,f.$$arity=2,f))},t.$$arity=-1);b.def(m,"$members",Y=function(){return this.$class().$members()},Y.$$arity=0);b.def(m,"$hash",l=function(){return b.const_get_relative(c,"Hash").$new(this.$$data).$hash()},l.$$arity=0);b.def(m,"$[]",w=function(d){a(b.const_get_relative(c,"Integer")["$==="](d))?(a(B(d,this.$class().$members().$size()["$-@"]()))&&this.$raise(b.const_get_relative(c,"IndexError"),"offset "+d+" too small for struct(size:"+this.$class().$members().$size()+
")"),a(u(d,this.$class().$members().$size()))&&this.$raise(b.const_get_relative(c,"IndexError"),"offset "+d+" too large for struct(size:"+this.$class().$members().$size()+")"),d=this.$class().$members()["$[]"](d)):a(b.const_get_relative(c,"String")["$==="](d))?this.$$data.hasOwnProperty(d)||this.$raise(b.const_get_relative(c,"NameError").$new("no member '"+d+"' in struct",d)):this.$raise(b.const_get_relative(c,"TypeError"),"no implicit conversion of "+d.$class()+" into Integer");d=b.const_get_relative(c,
"Opal")["$coerce_to!"](d,b.const_get_relative(c,"String"),"to_str");return this.$$data[d]},w.$$arity=1);b.def(m,"$[]=",n=function(d,e){a(b.const_get_relative(c,"Integer")["$==="](d))?(a(B(d,this.$class().$members().$size()["$-@"]()))&&this.$raise(b.const_get_relative(c,"IndexError"),"offset "+d+" too small for struct(size:"+this.$class().$members().$size()+")"),a(u(d,this.$class().$members().$size()))&&this.$raise(b.const_get_relative(c,"IndexError"),"offset "+d+" too large for struct(size:"+this.$class().$members().$size()+
")"),d=this.$class().$members()["$[]"](d)):a(b.const_get_relative(c,"String")["$==="](d))?a(this.$class().$members()["$include?"](d.$to_sym()))||this.$raise(b.const_get_relative(c,"NameError").$new("no member '"+d+"' in struct",d)):this.$raise(b.const_get_relative(c,"TypeError"),"no implicit conversion of "+d.$class()+" into Integer");d=b.const_get_relative(c,"Opal")["$coerce_to!"](d,b.const_get_relative(c,"String"),"to_str");return this.$$data[d]=e},n.$$arity=2);b.def(m,"$==",X=function(d){function e(a,
d){var f,k,l;g[a.$__id__()]=!0;h[d.$__id__()]=!0;for(f in a.$$data)if(k=a.$$data[f],l=d.$$data[f],b.const_get_relative(c,"Struct")["$==="](k)){if(!(g.hasOwnProperty(k.$__id__())&&h.hasOwnProperty(l.$__id__())||e(k,l)))return!1}else if(!k["$=="](l))return!1;return!0}if(!a(d["$instance_of?"](this.$class())))return!1;var g={},h={};return e(this,d)},X.$$arity=1);b.def(m,"$eql?",W=function(d){function e(a,d){var f,k,l;g[a.$__id__()]=!0;h[d.$__id__()]=!0;for(f in a.$$data)if(k=a.$$data[f],l=d.$$data[f],
b.const_get_relative(c,"Struct")["$==="](k)){if(!(g.hasOwnProperty(k.$__id__())&&h.hasOwnProperty(l.$__id__())||e(k,l)))return!1}else if(!k["$eql?"](l))return!1;return!0}if(!a(d["$instance_of?"](this.$class())))return!1;var g={},h={};return e(this,d)},W.$$arity=1);b.def(m,"$each",E=function(){var a,c,d=E.$$p,e=d||z;d&&(E.$$p=null);if(e===z)return g(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));g(this.$class().$members(),"each",[],(c=function(a){var d=
c.$$s||this;null==a&&(a=z);return b.yield1(e,d["$[]"](a))},c.$$s=this,c.$$arity=1,c));return this},E.$$arity=0);b.def(m,"$each_pair",ca=function(){var a,c,d=ca.$$p,e=d||z;d&&(ca.$$p=null);if(e===z)return g(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));g(this.$class().$members(),"each",[],(c=function(a){var d=c.$$s||this;null==a&&(a=z);return b.yield1(e,[a,d["$[]"](a)])},c.$$s=this,c.$$arity=1,c));return this},ca.$$arity=0);b.def(m,"$length",wa=
function(){return this.$class().$members().$length()},wa.$$arity=0);b.alias(m,"size","length");b.def(m,"$to_a",y=function(){var a;return g(this.$class().$members(),"map",[],(a=function(c){var b=a.$$s||this;null==c&&(c=z);return b["$[]"](c)},a.$$s=this,a.$$arity=1,a))},y.$$arity=0);b.alias(m,"values","to_a");b.def(m,"$inspect",A=function(){var d,e,h=z,h="#<struct ";a(a(d=b.const_get_relative(c,"Struct")["$==="](this))?this.$class().$name():d)&&(h=v(h,""+this.$class()+" "));h=v(h,g(this.$each_pair(),
"map",[],(e=function(a,c){null==a&&(a=z);null==c&&(c=z);return""+a+"="+c.$inspect()},e.$$s=this,e.$$arity=2,e)).$join(", "));return h=v(h,">")},A.$$arity=0);b.alias(m,"to_s","inspect");b.def(m,"$to_h",ha=function(){var a;return g(this.$class().$members(),"each_with_object",[D([],{})],(a=function(c,d){var e=a.$$s||this,h=z;null==c&&(c=z);null==d&&(d=z);h=[c,e["$[]"](c)];g(d,"[]=",b.to_a(h));return h[C(h.length,1)]},a.$$s=this,a.$$arity=2,a))},ha.$$arity=0);b.def(m,"$values_at",ja=function(a){var d,
e,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var f=0;f<h;f++)e[f-0]=arguments[f];e=g(e,"map",[],(d=function(a){null==a&&(a=z);return a.$$is_range?a.$to_a():a},d.$$s=this,d.$$arity=1,d)).$flatten();d=[];h=0;for(f=e.length;h<f;h++)e[h].$$is_number||this.$raise(b.const_get_relative(c,"TypeError"),"no implicit conversion of "+e[h].$class()+" into Integer"),d.push(this["$[]"](e[h]));return d},ja.$$arity=-1);return(b.def(m,"$dig",P=function(d,e){var h,f=z,f=arguments.length;h=f-1;0>h&&(h=0);h=Array(h);
for(var k=1;k<f;k++)h[k-1]=arguments[k];f=a(d.$$is_string&&this.$$data.hasOwnProperty(d))?this.$$data[d]||z:z;if(f===z||0===h.length)return f;a(f["$respond_to?"]("dig"))||this.$raise(b.const_get_relative(c,"TypeError"),""+f.$class()+" does not have #dig method");return g(f,"dig",b.to_a(h))},P.$$arity=-2),z)&&"dig"}(w[0],null,w)},Opal.modules["corelib/io"]=function(b){function x(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var C=[],B=b.nil,u=b.klass,v=b.module,m=b.send,w=b.gvars,
z=b.truthy,r=B;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(a,$super,H){function p(){}a=p=u(a,$super,"IO",p);var q=a.$$proto;H=[a].concat(H);var f,c,k,e;q.tty=q.closed=B;b.const_set(H[0],"SEEK_SET",0);b.const_set(H[0],"SEEK_CUR",1);b.const_set(H[0],"SEEK_END",2);b.def(a,"$tty?",f=function(){return this.tty},f.$$arity=0);b.def(a,"$closed?",c=function(){return this.closed},c.$$arity=0);a.$attr_accessor("write_proc");
b.def(a,"$write",k=function(a){this.write_proc(a);return a.$size()},k.$$arity=1);a.$attr_accessor("sync","tty");b.def(a,"$flush",e=function(){return B},e.$$arity=0);(function(a,c){var e=v(a,"Writable");[e].concat(c);var g,f,k;b.def(e,"$<<",g=function(a){this.$write(a);return this},g.$$arity=1);b.def(e,"$print",f=function(a){var c,b;null==w[","]&&(w[","]=B);var d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];this.$write(m(b,"map",[],(c=function(a){var b=c.$$s||
this;null==a&&(a=B);return b.$String(a)},c.$$s=this,c.$$arity=1,c)).$join(w[","]));return B},f.$$arity=-1);b.def(e,"$puts",k=function(a){var c,b,d=B;null==w["/"]&&(w["/"]=B);d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=w["/"];z(b["$empty?"]())?this.$write(w["/"]):this.$write(m(b,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=B);return b.$String(a).$chomp()},c.$$s=this,c.$$arity=1,c)).$concat([B]).$join(d));return B},k.$$arity=-1)})(H[0],H);return function(a,
c){var e=v(a,"Readable"),g=[e].concat(c),f,k,p,q;b.def(e,"$readbyte",f=function(){return this.$getbyte()},f.$$arity=0);b.def(e,"$readchar",k=function(){return this.$getc()},k.$$arity=0);b.def(e,"$readline",p=function(a){null==w["/"]&&(w["/"]=B);return this.$raise(b.const_get_relative(g,"NotImplementedError"))},p.$$arity=-1);b.def(e,"$readpartial",q=function(a,c){return this.$raise(b.const_get_relative(g,"NotImplementedError"))},q.$$arity=-2)}(H[0],H)})(C[0],null,C);b.const_set(C[0],"STDERR",w.stderr=
b.const_get_relative(C,"IO").$new());b.const_set(C[0],"STDIN",w.stdin=b.const_get_relative(C,"IO").$new());b.const_set(C[0],"STDOUT",w.stdout=b.const_get_relative(C,"IO").$new());var a=b.global.console,r=["object"===typeof process&&"object"===typeof process.stdout?function(a){process.stdout.write(a)}:function(b){a.log(b)}];m(b.const_get_relative(C,"STDOUT"),"write_proc=",b.to_a(r));r[x(r.length,1)];r=["object"===typeof process&&"object"===typeof process.stderr?function(a){process.stderr.write(a)}:
function(b){a.warn(b)}];m(b.const_get_relative(C,"STDERR"),"write_proc=",b.to_a(r));r[x(r.length,1)];b.const_get_relative(C,"STDOUT").$extend(b.const_get_qualified(b.const_get_relative(C,"IO"),"Writable"));return b.const_get_relative(C,"STDERR").$extend(b.const_get_qualified(b.const_get_relative(C,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(b){var x,C,B=b.top,u=[],v=b.nil;b.add_stubs(["$include"]);b.defs(B,"$to_s",x=function(){return"main"},x.$$arity=0);return(b.defs(B,"$include",C=
function(m){return b.const_get_relative(u,"Object").$include(m)},C.$$arity=1),v)&&"include"},Opal.modules["corelib/dir"]=function(b){var x=[],C=b.nil,B=b.klass,u=b.truthy;b.add_stubs(["$[]"]);return function(v,$super,w){function x(){}v=x=B(v,$super,"Dir",x);w=[v].concat(w);return function(r,a){var g=[r].concat(a),D,H,p;b.def(r,"$chdir",D=function(a){var g=D.$$p,c=g||C,k=C;g&&(D.$$p=null);var e;a:{try{k=b.current_dir;b.current_dir=a;e=b.yieldX(c,[]);break a}finally{b.current_dir=k}e=void 0}return e},
D.$$arity=1);b.def(r,"$pwd",H=function(){return b.current_dir||"."},H.$$arity=0);b.alias(r,"getwd","pwd");return(b.def(r,"$home",p=function(){var a;return u(a=b.const_get_relative(g,"ENV")["$[]"]("HOME"))?a:"."},p.$$arity=0),C)&&"home"}(b.get_singleton_class(v),w)}(x[0],null,x)},Opal.modules["corelib/file"]=function(b){function x(b,a){return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}function C(b,a){return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)}var B=[],u=b.nil,v=b.klass,
m=b.truthy,w=b.range,z=b.send;b.add_stubs("$home $raise $start_with? $+ $sub $pwd $split $unshift $join $respond_to? $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(r,$super,g){function D(){}r=D=v(r,$super,"File",D);g=[r].concat(g);var H=u;b.const_set(g[0],"Separator",b.const_set(g[0],"SEPARATOR","/"));b.const_set(g[0],"ALT_SEPARATOR",u);b.const_set(g[0],"PATH_SEPARATOR",":");b.const_set(g[0],
"FNM_SYSCASE",0);H=/^[a-zA-Z]:(?:\\|\/)/;return function(g,q){function f(c){m(c["$respond_to?"]("to_path"))&&(c=c.$to_path());return c=b.const_get_relative(k,"Opal")["$coerce_to!"](c,b.const_get_relative(k,"String"),"to_str")}function c(){return b.const_get_relative(k,"ALT_SEPARATOR")===u?b.escape_regexp(b.const_get_relative(k,"SEPARATOR")):b.escape_regexp(x(b.const_get_relative(k,"SEPARATOR"),b.const_get_relative(k,"ALT_SEPARATOR")))}var k=[g].concat(q),e,d,h,t,D,l,r,n;b.def(g,"$expand_path",e=function(d,
e){var g,h=u,f=u,l=u,t=u,p=u,h=p=f=t=p=t=u;null==e&&(e=u);h=b.const_get_relative(k,"SEPARATOR");f=c();l=[];m("~"===d[0]||e&&"~"===e[0])&&(t=b.const_get_relative(k,"Dir").$home(),m(t)||this.$raise(b.const_get_relative(k,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),m(t["$start_with?"](h))||this.$raise(b.const_get_relative(k,"ArgumentError"),"non-absolute home"),t=x(t,h),p=new RegExp("^\\~(?:"+h+"|$)"),d=d.$sub(p,t),m(e)&&(e=e.$sub(p,t)));e=m(g=e)?g:b.const_get_relative(k,"Dir").$pwd();
t=d.substr(0,h.length)===h||H.test(d);p=e.substr(0,h.length)===h||H.test(e);m(t)?(t=d.$split(new RegExp("["+f+"]")),f=H.test(d)?"":d.$sub(new RegExp("^(["+f+"]+).*$"),"\\1"),p=!0):(t=x(e.$split(new RegExp("["+f+"]")),d.$split(new RegExp("["+f+"]"))),f=H.test(e)?"":e.$sub(new RegExp("^(["+f+"]+).*$"),"\\1"));for(var n=0,q=t.length;n<q;n++)g=t[n],g===u||""===g&&(0===l.length||p)||"."===g&&(0===l.length||p)||(".."===g?l.pop():l.push(g));p||"."===t[0]||l.$unshift(".");h=l.$join(h);m(p)&&(h=x(f,h));return h},
e.$$arity=-2);b.alias(g,"realpath","expand_path");b.def(g,"$dirname",d=function(b){var d=u,d=c();b=f(b);var e=b.match(new RegExp("^["+d+"]"));b=b.replace(new RegExp("["+d+"]+$"),"");b=b.replace(new RegExp("[^"+d+"]+$"),"");b=b.replace(new RegExp("["+d+"]+$"),"");return""===b?e?"/":".":b},d.$$arity=1);b.def(g,"$basename",h=function(d,e){var g=u;null==e&&(e=u);g=c();d=f(d);if(0==d.length)return d;e=e!==u?b.const_get_relative(k,"Opal")["$coerce_to!"](e,b.const_get_relative(k,"String"),"to_str"):null;
d=d.replace(new RegExp("(.)["+g+"]*$"),"$1");d=d.replace(new RegExp("^(?:.*["+g+"])?([^"+g+"]+)$"),"$1");".*"===e?d=d.replace(/\.[^\.]+$/,""):null!==e&&(e=b.escape_regexp(e),d=d.replace(new RegExp(""+e+"$"),""));return d},h.$$arity=-2);b.def(g,"$extname",t=function(c){var d,e=u,g=u;c=f(c);e=this.$basename(c);if(m(e["$empty?"]()))return"";g=e["$[]"](w(1,-1,!1)).$rindex(".");return m(m(d=g["$nil?"]())?d:x(g,1)["$=="](C(e.$length(),1)))?"":e["$[]"](b.Range.$new(x(g,1),-1,!1))},t.$$arity=1);b.def(g,"$exist?",
D=function(c){return null!=b.modules[c]},D.$$arity=1);b.alias(g,"exists?","exist?");b.def(g,"$directory?",l=function(c){var d,e=u,e=u,e=[],g;for(g in b.modules)e.push(g);c=c.$gsub(new RegExp("(^."+b.const_get_relative(k,"SEPARATOR")+"+|"+b.const_get_relative(k,"SEPARATOR")+"+$)"));return e=z(e,"find",[],(d=function(b){null==b&&(b=u);return b["$=~"](new RegExp("^"+c))},d.$$s=this,d.$$arity=1,d))},l.$$arity=1);b.def(g,"$join",r=function(c){var d,e,g,h=u,f=arguments.length,l=f-0;0>l&&(l=0);g=Array(l);
for(l=0;l<f;l++)g[l-0]=arguments[l];if(m(g["$empty?"]()))return"";h="";g=z(g.$flatten().$each_with_index(),"map",[],(d=function(c,d){null==c&&(c=u);null==d&&(d=u);return m(d["$=="](0)?c["$empty?"]():d["$=="](0))?b.const_get_relative(k,"SEPARATOR"):m(g.$length()["$=="](x(d,1))?c["$empty?"]():g.$length()["$=="](x(d,1)))?b.const_get_relative(k,"SEPARATOR"):c},d.$$s=this,d.$$arity=2,d));g=z(g,"reject",[],"empty?".$to_proc());z(g,"each_with_index",[],(e=function(c,d){var e,f=u;null==c&&(c=u);null==d&&
(d=u);f=g["$[]"](x(d,1));if(m(f["$nil?"]()))return h=""+h+c;m(m(e=c["$end_with?"](b.const_get_relative(k,"SEPARATOR")))?f["$start_with?"](b.const_get_relative(k,"SEPARATOR")):e)&&(c=c.$sub(new RegExp(""+b.const_get_relative(k,"SEPARATOR")+"+$"),""));return h=m(m(e=c["$end_with?"](b.const_get_relative(k,"SEPARATOR")))?e:f["$start_with?"](b.const_get_relative(k,"SEPARATOR")))?""+h+c:""+h+c+b.const_get_relative(k,"SEPARATOR")},e.$$s=this,e.$$arity=2,e));return h},r.$$arity=-1);return(b.def(g,"$split",
n=function(c){return c.$split(b.const_get_relative(k,"SEPARATOR"))},n.$$arity=1),u)&&"split"}(b.get_singleton_class(r),g)}(B[0],b.const_get_relative(B,"IO"),B)},Opal.modules["corelib/process"]=function(b){var x=[],C=b.nil,B=b.klass,u=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(v,$super,w){function x(){}v=x=B(v,$super,"Process",x);var r=[v].concat(w),a,g,D,H;w=C;v.__clocks__=[];b.defs(v,"$__register_clock__",a=function(a,b){null==
this.__clocks__&&(this.__clocks__=C);this.$const_set(a,this.__clocks__.$size());return this.__clocks__["$<<"](b)},a.$$arity=2);v.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()});w=!1;if(b.global.performance)w=function(){return performance.now()};else if(b.global.process&&process.hrtime){var p=process.hrtime();w=function(){var a=process.hrtime(p);return 1E3*a[0]+(a[1]/1E3|0)/1E3}}u(w)&&v.$__register_clock__("CLOCK_MONOTONIC",w);b.defs(v,"$pid",g=function(){return 0},g.$$arity=0);
b.defs(v,"$times",D=function(){var a=C,a=b.const_get_relative(r,"Time").$now().$to_f();return b.const_get_qualified(b.const_get_relative(r,"Benchmark"),"Tms").$new(a,a,a,a,a)},D.$$arity=0);return(b.defs(v,"$clock_gettime",H=function(a,g){var c,k=C;null==this.__clocks__&&(this.__clocks__=C);null==g&&(g="float_second");u(c=k=this.__clocks__["$[]"](a))?c:this.$raise(b.const_get_qualified(b.const_get_relative(r,"Errno"),"EINVAL"),"clock_gettime("+a+") "+this.__clocks__["$[]"](a));c=k();switch(g){case "float_second":return c/
1E3;case "float_millisecond":return c/1;case "float_microsecond":return 1E3*c;case "second":return c/1E3|0;case "millisecond":return c/1|0;case "microsecond":return 1E3*c|0;case "nanosecond":return 1E6*c|0;default:this.$raise(b.const_get_relative(r,"ArgumentError"),"unexpected unit: "+g)}},H.$$arity=-2),C)&&"clock_gettime"})(x[0],null,x);(function(u,$super,w){function x(){}u=x=B(u,$super,"Signal",x);[u].concat(w);var r;return(b.defs(u,"$trap",r=function(a){return C},r.$$arity=-1),C)&&"trap"})(x[0],
null,x);return function(u,$super,x){function z(){}u=z=B(u,$super,"GC",z);[u].concat(x);var r;return(b.defs(u,"$start",r=function(){return C},r.$$arity=0),C)&&"start"}(x[0],null,x)},Opal.modules["corelib/random/seedrandom"]=function(b){var x=[],C=b.klass;return function(b,$super,v){function m(){}[m=C(b,$super,"Random",m)].concat(v);!function(b,m){function r(c,f,l){var r=[];f=1==f?{entropy:!0}:f||{};c=H(D(f.entropy?[c,q(b)]:null==c?p():c,3),r);var E=new a(r),r=function(){for(var a=E.g(e),c=h,b=0;a<
t;)a=(a+b)*k,c*=k,b=E.g(1);for(;a>=v;)a/=2,c/=2,b>>>=1;return(a+b)/c};return r.int32=function(){return 0|E.g(4)},r.quick=function(){return E.g(4)/4294967296},r["double"]=r,H(q(E.S),b),(f.pass||l||function(a,c,b,e){return e&&(e.S&&g(e,E),a.state=function(){return g(E,{})}),b?(m[d]=a,c):a})(r,c,"global"in f?f.global:this==m,f.state)}function a(a){var c,b=a.length,d=this,e=0,g=d.i=d.j=0,h=d.S=[];for(b||(a=[b++]);e<k;)h[e]=e++;for(e=0;e<k;e++)h[e]=h[g=l&g+a[e%b]+(c=h[e])],h[g]=c;(d.g=function(a){for(var c,
b=0,e=d.i,g=d.j,h=d.S;a--;)c=h[e=l&e+1],b=b*k+h[l&(h[e]=h[g=l&g+c])+(h[g]=c)];return d.i=e,d.j=g,b})(k)}function g(a,c){return c.i=a.i,c.j=a.j,c.S=a.S.slice(),c}function D(a,c){var b,d=[],e=typeof a;if(c&&"object"==e)for(b in a)if(a.hasOwnProperty(b))try{d.push(D(a[b],c-1))}catch(g){}return d.length?d:"string"==e?a:a+"\x00"}function H(a,c){for(var b,d=a+"",e=0;e<d.length;)c[l&e]=l&(b^=19*c[l&e])+d.charCodeAt(e++);return q(c)}function p(){try{if(f)return q(f.randomBytes(k));var a=new Uint8Array(k);
return(c.crypto||c.msCrypto).getRandomValues(a),q(a)}catch(d){return a=c.navigator,[+new Date,c,a&&a.plugins,c.screen,q(b)]}}function q(a){return String.fromCharCode.apply(0,a)}var f,c=this,k=256,e=6,d="random",h=m.pow(k,e),t=m.pow(2,52),v=2*t,l=k-1;if(m["seed"+d]=r,H(m.random(),b),"object"==typeof module&&module.exports){module.exports=r;try{f=require("crypto")}catch(x){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return r})}([],Math)}(x[0],null,x)},Opal.modules["corelib/random"]=
function(b){var x=b.top,C=[],B=b.nil,u=b.klass,v=b.truthy,m=b.send;b.add_stubs("$require $attr_reader $coerce_to! $reseed $new_seed $rand $seed $< $raise $encode $join $new $chr $=== $== $state".split(" "));x.$require("corelib/random/seedrandom.js");return function(x,$super,r){function a(){}x=a=u(x,$super,"Random",a);var g=[x].concat(r),D,H,p,q,f,c,k,e,d;x.$attr_reader("seed","state");b.def(x,"$initialize",D=function(a){null==a&&(a=b.const_get_relative(g,"Random").$new_seed());this.state=a=b.const_get_relative(g,
"Opal")["$coerce_to!"](a,b.const_get_relative(g,"Integer"),"to_int");return this.$reseed(a)},D.$$arity=-1);b.def(x,"$reseed",H=function(a){this.seed=a;return this.$rng=new Math.seedrandom(a)},H.$$arity=1);var h=new Math.seedrandom("opal",{entropy:!0});b.defs(x,"$new_seed",p=function(){return Math.abs(h.int32())},p.$$arity=0);b.defs(x,"$rand",q=function(a){return b.const_get_relative(g,"DEFAULT").$rand(a)},q.$$arity=-1);b.defs(x,"$srand",f=function(a){var c=B;null==a&&(a=b.const_get_relative(g,"Random").$new_seed());
a=b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"Integer"),"to_int");c=b.const_get_relative(g,"DEFAULT").$seed();b.const_get_relative(g,"DEFAULT").$reseed(a);return c},f.$$arity=-1);b.defs(x,"$urandom",c=function(a){var c;a=b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"Integer"),"to_int");v("number"===typeof a?0>a:a["$<"](0))&&this.$raise(b.const_get_relative(g,"ArgumentError"),"negative string size (or size too big)");return m(b.const_get_relative(g,
"Array"),"new",[a],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=0,c)).$join().$encode("ASCII-8BIT")},c.$$arity=1);b.const_set(g[0],"DEFAULT",x.$new(x.$new_seed()));b.def(x,"$==",k=function(a){return v(b.const_get_relative(g,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):!1},k.$$arity=1);b.def(x,"$bytes",e=function(a){var c;a=b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"Integer"),
"to_int");return m(b.const_get_relative(g,"Array"),"new",[a],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=0,c)).$join().$encode("ASCII-8BIT")},e.$$arity=1);return(b.def(x,"$rand",d=function(a){function c(){e.state++;return e.$rng.quick()}function d(){var c=a.begin,b=a.end;if(c===B||b===B)return B;var g=b-c;if(0>g)return B;if(0===g)return c;0!==b%1||0!==c%1||a.excl||g++;return e.$rand(g)+c}var e=this;if(null==a)return c();if(a.$$is_range)return d();if(a.$$is_number)return 0>=
a&&e.$raise(b.const_get_relative(g,"ArgumentError"),"invalid argument - "+a),0===a%1?Math.floor(c()*a):c()*a;a=b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"Integer"),"to_int");0>=a&&e.$raise(b.const_get_relative(g,"ArgumentError"),"invalid argument - "+a);return Math.floor(c()*a)},d.$$arity=-1),B)&&"rand"}(C[0],null,C)},Opal.modules["corelib/unsupported"]=function(b){function x(a){switch(b.config.unsupported_features_severity){case "error":b.const_get_relative(v,"Kernel").$raise(b.const_get_relative(v,
"NotImplementedError"),a);break;case "warning":r[a]||(r[a]=!0,u.$warn(a))}}var C,B,u=b.top,v=[],m=b.nil,w=b.klass,z=b.module;b.add_stubs(["$raise","$warn","$%"]);var r={};(function(a,$super,D){function H(){}a=H=w(a,$super,"String",H);var p=[a].concat(D),q,f,c,k,e,d,h,t,r,l,u,n,v,x,E,ca,B,y,A;b.def(a,"$<<",q=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},q.$$arity=-1);b.def(a,"$capitalize!",
f=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},f.$$arity=-1);b.def(a,"$chomp!",c=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},c.$$arity=-1);b.def(a,"$chop!",k=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},
k.$$arity=-1);b.def(a,"$downcase!",e=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},e.$$arity=-1);b.def(a,"$gsub!",d=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},d.$$arity=-1);b.def(a,"$lstrip!",h=function(a){return this.$raise(b.const_get_relative(p,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},h.$$arity=-1);b.def(a,"$next!",t=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},t.$$arity=-1);b.def(a,"$reverse!",r=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},
r.$$arity=-1);b.def(a,"$slice!",l=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},l.$$arity=-1);b.def(a,"$squeeze!",u=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},u.$$arity=-1);b.def(a,"$strip!",n=function(a){return this.$raise(b.const_get_relative(p,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},n.$$arity=-1);b.def(a,"$sub!",v=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},v.$$arity=-1);b.def(a,"$succ!",x=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},
x.$$arity=-1);b.def(a,"$swapcase!",E=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},E.$$arity=-1);b.def(a,"$tr!",ca=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},ca.$$arity=-1);b.def(a,"$tr_s!",B=function(a){return this.$raise(b.const_get_relative(p,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},B.$$arity=-1);b.def(a,"$upcase!",y=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},y.$$arity=-1);return(b.def(a,"$prepend",A=function(a){return this.$raise(b.const_get_relative(p,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},
A.$$arity=-1),m)&&"prepend"})(v[0],null,v);(function(a,g){var m=z(a,"Kernel");[m].concat(g);var r,p;b.def(m,"$freeze",r=function(){x("Object freezing is not supported by Opal");return this},r.$$arity=0);b.def(m,"$frozen?",p=function(){x("Object freezing is not supported by Opal");return!1},p.$$arity=0)})(v[0],v);(function(a,g){var m=z(a,"Kernel");[m].concat(g);var r,p,q;b.def(m,"$taint",r=function(){x("Object tainting is not supported by Opal");return this},r.$$arity=0);b.def(m,"$untaint",p=function(){x("Object tainting is not supported by Opal");
return this},p.$$arity=0);b.def(m,"$tainted?",q=function(){x("Object tainting is not supported by Opal");return!1},q.$$arity=0)})(v[0],v);(function(a,$super,D){function r(){}a=r=w(a,$super,"Module",r);[a].concat(D);var p,q,f,c;b.def(a,"$public",p=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var h=0;h<b;h++)c[h-0]=arguments[h];0===c.length&&(this.$$module_function=!1);return m},p.$$arity=-1);b.alias(a,"private","public");b.alias(a,"protected","public");b.alias(a,"nesting","public");
b.def(a,"$private_class_method",q=function(a){return this},q.$$arity=-1);b.alias(a,"public_class_method","private_class_method");b.def(a,"$private_method_defined?",f=function(a){return!1},f.$$arity=1);b.def(a,"$private_constant",c=function(a){return m},c.$$arity=-1);b.alias(a,"protected_method_defined?","private_method_defined?");b.alias(a,"public_instance_methods","instance_methods");return b.alias(a,"public_method_defined?","method_defined?")})(v[0],null,v);(function(a,g){var m=z(a,"Kernel");[m].concat(g);
var r;b.def(m,"$private_methods",r=function(a){return[]},r.$$arity=-1);b.alias(m,"private_instance_methods","private_methods")})(v[0],v);(function(a,g){var m=z(a,"Kernel"),r=[m].concat(g),p;b.def(m,"$eval",p=function(a){return this.$raise(b.const_get_relative(r,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+b.const_get_relative(r,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},p.$$arity=-1)})(v[0],v);b.defs(u,
"$public",C=function(a){return m},C.$$arity=-1);return(b.defs(u,"$private",B=function(a){return m},B.$$arity=-1),m)&&"private"},Opal.modules.opal=function(b){var x=b.top;b.add_stubs(["$require"]);x.$require("opal/base");x.$require("opal/mini");x.$require("corelib/string/inheritance");x.$require("corelib/string/encoding");x.$require("corelib/math");x.$require("corelib/complex");x.$require("corelib/rational");x.$require("corelib/time");x.$require("corelib/struct");x.$require("corelib/io");x.$require("corelib/main");
x.$require("corelib/dir");x.$require("corelib/file");x.$require("corelib/process");x.$require("corelib/random");return x.$require("corelib/unsupported")},Opal.require("opal"));
(function(b,x){"object"===typeof module&&module.exports?module.exports=x:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return x(b.config())}):b.Asciidoctor=x})(this,function(b){Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=function(a){var b=[],m=a.klass;return function(b,$super,g){function f(){}b=f=m(b,$super,"Dir",f);g=[b].concat(g);return function(c,b){[c].concat(b);var e;a.def(c,"$pwd",e=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},
e.$$arity=0);return a.alias(c,"getwd","pwd")}(a.get_singleton_class(b),g)}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/nashorn/file"]=function(a){var b=[],m=a.nil,r=a.klass;return function(b,$super,g){function c(){}b=c=r(b,$super,"File",c);[b].concat(g);var k;return(a.defs(b,"$read",k=function(a){var c=Java.type("java.nio.file.Paths"),b=[];Java.type("java.nio.file.Files").readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){b.push(a)});return b.join("\n")},
k.$$arity=1),m)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var m=a.nil,r=a.send,p=a.gvars,q=m;null==p.stdout&&(p.stdout=m);null==p.stderr&&(p.stderr=m);a.add_stubs(["$write_proc=","$-"]);q=[function(a){print(a)}];r(p.stdout,"write_proc=",a.to_a(q));q[b(q.length,1)];q=[function(a){print(a)}];r(p.stderr,"write_proc=",a.to_a(q));return q[b(q.length,1)]};Opal.modules["asciidoctor/js/opal_ext/electron/io"]=
function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var m=a.nil,r=a.send,p=a.gvars,q=m;null==p.stdout&&(p.stdout=m);null==p.stderr&&(p.stderr=m);a.add_stubs(["$write_proc=","$-"]);q=[function(a){console.log(a)}];r(p.stdout,"write_proc=",a.to_a(q));q[b(q.length,1)];q=[function(a){console.error(a)}];r(p.stderr,"write_proc=",a.to_a(q));return q[b(q.length,1)]};Opal.modules["asciidoctor/js/opal_ext/phantomjs/file"]=function(a){var b=[],m=a.nil,r=a.klass;return function(b,
$super,g){function c(){}b=c=r(b,$super,"File",c);[b].concat(g);var k;return(a.defs(b,"$read",k=function(a){return require("fs").read(a)},k.$$arity=1),m)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/spidermonkey/file"]=function(a){var b=[],m=a.nil,r=a.klass;return function(b,$super,g){function c(){}b=c=r(b,$super,"File",c);[b].concat(g);var k;return(a.defs(b,"$read",k=function(a){return read(a)},k.$$arity=1),m)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/browser/file"]=
function(a){var b=[],m=a.nil,r=a.klass;a.add_stubs(["$new"]);return function(b,$super,g){function c(){}b=c=r(b,$super,"File",c);var k=[b].concat(g),e;return(a.defs(b,"$read",e=function(c){var b="",e=-1;try{var g=new XMLHttpRequest;g.open("GET",c,!1);g.addEventListener("load",function(){e=this.status;if(0===e||200===e)b=this.responseText});g.overrideMimeType("text/plain");g.send()}catch(f){throw a.const_get_relative(k,"IOError").$new("Error reading file or directory: "+c+"; reason: "+f.message);}if(404===
e||0===e&&!b)throw a.const_get_relative(k,"IOError").$new("No such file or directory: "+c);return b},e.$$arity=1),m)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/umd"]=function(a){var g,m=a.top,r=[],p=a.nil,q=a.truthy;a.add_stubs(["$==","$require"]);var f="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,c="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),k="object"===typeof window,
e="object"===typeof Java&&Java.type,d="object"===typeof java,h="object"===typeof window&&"object"===typeof window.phantom,t="function"===typeof importScripts,u="object"===typeof JSRuntime,l,v,n,x;"object"===typeof b&&"object"===typeof b.runtime&&(x=b.runtime,l=x.platform,v=x.engine,n=x.framework,x=x.ioModule);"undefined"===typeof l&&(f?(l=l||"node",v=v||"v8",c&&(n=n||"electron")):e?(l=l||"java",v=v||"nashorn"):d?(l=l||"java",v=v||"rhino"):u?(l=l||"standalone",n=n||"spidermonkey"):k&&(l=l||"browser",
h&&(n=n||"phantomjs")),t&&(n=n||"webworker"));if("undefined"===typeof l)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");"undefined"===typeof n&&(n="");"undefined"===typeof v&&(v="");if("undefined"!==typeof x){if("spidermonkey"!==x&&"phantomjs"!==x&&"node"!==x&&"java_nio"!==x&&"xmlhttprequest"!==x)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");
}else if("spidermonkey"===n)x="spidermonkey";else if("phantomjs"===n)x="phantomjs";else if("node"===l)x="node";else if("nashorn"===v)x="java_nio";else if("browser"===l||"undefined"!==typeof XmlHTTPRequest)x="xmlhttprequest";else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.const_set(r[0],"JAVASCRIPT_IO_MODULE",x);a.const_set(r[0],"JAVASCRIPT_PLATFORM",l);a.const_set(r[0],"JAVASCRIPT_ENGINE",v);a.const_set(r[0],
"JAVASCRIPT_FRAMEWORK",n);q(q(g=a.const_get_relative(r,"JAVASCRIPT_ENGINE")["$=="]("nashorn"))?g:a.const_get_relative(r,"JAVASCRIPT_IO_MODULE")["$=="]("java_nio"))&&(m.$require("asciidoctor/js/opal_ext/nashorn/dir"),m.$require("asciidoctor/js/opal_ext/nashorn/file"),m.$require("asciidoctor/js/opal_ext/nashorn/io"));a.const_get_relative(r,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&m.$require("asciidoctor/js/opal_ext/electron/io");a.const_get_relative(r,"JAVASCRIPT_PLATFORM")["$=="]("node")&&a.load("nodejs");
a.const_get_relative(r,"JAVASCRIPT_IO_MODULE")["$=="]("phantomjs")&&m.$require("asciidoctor/js/opal_ext/phantomjs/file");a.const_get_relative(r,"JAVASCRIPT_IO_MODULE")["$=="]("spidermonkey")&&m.$require("asciidoctor/js/opal_ext/spidermonkey/file");return a.const_get_relative(r,"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?m.$require("asciidoctor/js/opal_ext/browser/file"):p};Opal.modules.set=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,
c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var p=[],q=a.nil,f=a.klass,c=a.truthy,k=a.send,e=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(d,$super,e){function p(){}d=p=f(d,$super,"Set",p);var l=d.$$proto,u=[d].concat(e),n,v,x,E,w,B,y,A,ha,z,P,L,U,J,Q,R,V,C,N,O,ma,da,I,pa,ea,Z,fa,K;l.hash=q;d.$include(a.const_get_relative(u,"Enumerable"));a.defs(d,"$[]",n=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.$new(c)},n.$$arity=-1);a.def(d,"$initialize",v=function(b){var d,e=v.$$p,g=e||q;null==b&&(b=q);e&&(v.$$p=null);this.hash=a.const_get_relative(u,"Hash").$new();
if(c(b["$nil?"]()))return q;c(a.const_get_relative(u,"Enumerable")["$==="](b))||this.$raise(a.const_get_relative(u,"ArgumentError"),"value must be enumerable");return c(g)?k(b,"each",[],(d=function(a){var c=d.$$s||this;null==a&&(a=q);return c.$add(g.$call(a))},d.$$s=this,d.$$arity=1,d)):this.$merge(b)},v.$$arity=-1);a.def(d,"$dup",x=function(){var a=q,a=this.$class().$new();return a.$merge(this)},x.$$arity=0);a.def(d,"$-",E=function(b){c(b["$respond_to?"]("each"))||this.$raise(a.const_get_relative(u,
"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(b)},E.$$arity=1);a.alias(d,"difference","-");a.def(d,"$inspect",w=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},w.$$arity=0);a.def(d,"$==",B=function(b){var d,e;return c(this["$equal?"](b))?!0:c(b["$instance_of?"](this.$class()))?this.hash["$=="](b.$instance_variable_get("@hash")):c(c(d=b["$is_a?"](a.const_get_relative(u,"Set")))?this.$size()["$=="](b.$size()):d)?k(b,"all?",[],(e=function(a){var c=e.$$s||this;null==
c.hash&&(c.hash=q);null==a&&(a=q);return c.hash["$include?"](a)},e.$$s=this,e.$$arity=1,e)):!1},B.$$arity=1);a.def(d,"$add",y=function(c){var d=q,d=[c,!0];k(this.hash,"[]=",a.to_a(d));d[b(d.length,1)];return this},y.$$arity=1);a.alias(d,"<<","add");a.def(d,"$classify",A=function(){var c,d,e=A.$$p,f=e||q,l=q;e&&(A.$$p=null);if(f===q)return this.$enum_for("classify");l=k(a.const_get_relative(u,"Hash"),"new",[],(c=function(d,e){var f=c.$$s||this,l=q;null==d&&(d=q);null==e&&(e=q);l=[e,f.$class().$new()];
k(d,"[]=",a.to_a(l));return l[b(l.length,1)]},c.$$s=this,c.$$arity=2,c));k(this,"each",[],(d=function(c){null==c&&(c=q);return l["$[]"](a.yield1(f,c)).$add(c)},d.$$s=this,d.$$arity=1,d));return l},A.$$arity=0);a.def(d,"$collect!",ha=function(){var c,b=ha.$$p,d=b||q,e=q;b&&(ha.$$p=null);if(d===q)return this.$enum_for("collect!");e=this.$class().$new();k(this,"each",[],(c=function(c){null==c&&(c=q);return e["$<<"](a.yield1(d,c))},c.$$s=this,c.$$arity=1,c));return this.$replace(e)},ha.$$arity=0);a.alias(d,
"map!","collect!");a.def(d,"$delete",z=function(a){this.hash.$delete(a);return this},z.$$arity=1);a.def(d,"$delete?",P=function(a){return c(this["$include?"](a))?(this.$delete(a),this):q},P.$$arity=1);a.def(d,"$delete_if",L=function(){try{var b,d,e,g=L.$$p,f=g||q;g&&(L.$$p=null);c(b=f!==q)?b:a.ret(this.$enum_for("delete_if"));k(k(this,"select",[],(d=function(c){null==c&&(c=q);return a.yield1(f,c)},d.$$s=this,d.$$arity=1,d)),"each",[],(e=function(a){var c=e.$$s||this;null==c.hash&&(c.hash=q);null==
a&&(a=q);return c.hash.$delete(a)},e.$$s=this,e.$$arity=1,e));return this}catch(l){if(l===a.returner)return l.$v;throw l;}},L.$$arity=0);a.def(d,"$add?",U=function(a){return c(this["$include?"](a))?q:this.$add(a)},U.$$arity=1);a.def(d,"$each",J=function(){var a=J.$$p,c=a||q;a&&(J.$$p=null);if(c===q)return this.$enum_for("each");k(this.hash,"each_key",[],c.$to_proc());return this},J.$$arity=0);a.def(d,"$empty?",Q=function(){return this.hash["$empty?"]()},Q.$$arity=0);a.def(d,"$eql?",R=function(a){var c;
return this.hash["$eql?"](k(a,"instance_eval",[],(c=function(){var a=c.$$s||this;null==a.hash&&(a.hash=q);return a.hash},c.$$s=this,c.$$arity=0,c)))},R.$$arity=1);a.def(d,"$clear",V=function(){this.hash.$clear();return this},V.$$arity=0);a.def(d,"$include?",C=function(a){return this.hash["$include?"](a)},C.$$arity=1);a.alias(d,"member?","include?");a.def(d,"$merge",N=function(a){var c;k(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=q);return b.$add(a)},c.$$s=this,c.$$arity=1,c));return this},
N.$$arity=1);a.def(d,"$replace",O=function(a){this.$clear();this.$merge(a);return this},O.$$arity=1);a.def(d,"$size",ma=function(){return this.hash.$size()},ma.$$arity=0);a.alias(d,"length","size");a.def(d,"$subtract",da=function(a){var c;k(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=q);return b.$delete(a)},c.$$s=this,c.$$arity=1,c));return this},da.$$arity=1);a.def(d,"$|",I=function(b){c(b["$respond_to?"]("each"))||this.$raise(a.const_get_relative(u,"ArgumentError"),"value must be enumerable");
return this.$dup().$merge(b)},I.$$arity=1);a.def(d,"$superset?",pa=function(b){var d,e;c(d=b["$is_a?"](a.const_get_relative(u,"Set")))?d:this.$raise(a.const_get_relative(u,"ArgumentError"),"value must be a set");return c(m(this.$size(),b.$size()))?!1:k(b,"all?",[],(e=function(a){var c=e.$$s||this;null==a&&(a=q);return c["$include?"](a)},e.$$s=this,e.$$arity=1,e))},pa.$$arity=1);a.alias(d,">=","superset?");a.def(d,"$proper_superset?",ea=function(b){var d,e;c(d=b["$is_a?"](a.const_get_relative(u,"Set")))?
d:this.$raise(a.const_get_relative(u,"ArgumentError"),"value must be a set");return c(r(this.$size(),b.$size()))?!1:k(b,"all?",[],(e=function(a){var c=e.$$s||this;null==a&&(a=q);return c["$include?"](a)},e.$$s=this,e.$$arity=1,e))},ea.$$arity=1);a.alias(d,">","proper_superset?");a.def(d,"$subset?",Z=function(b){var d,e;c(d=b["$is_a?"](a.const_get_relative(u,"Set")))?d:this.$raise(a.const_get_relative(u,"ArgumentError"),"value must be a set");return c(m(b.$size(),this.$size()))?!1:k(this,"all?",[],
(e=function(a){null==a&&(a=q);return b["$include?"](a)},e.$$s=this,e.$$arity=1,e))},Z.$$arity=1);a.alias(d,"<=","subset?");a.def(d,"$proper_subset?",fa=function(b){var d,e;c(d=b["$is_a?"](a.const_get_relative(u,"Set")))?d:this.$raise(a.const_get_relative(u,"ArgumentError"),"value must be a set");return c(r(b.$size(),this.$size()))?!1:k(this,"all?",[],(e=function(a){null==a&&(a=q);return b["$include?"](a)},e.$$s=this,e.$$arity=1,e))},fa.$$arity=1);a.alias(d,"<","proper_subset?");a.alias(d,"+","|");
a.alias(d,"union","|");return(a.def(d,"$to_a",K=function(){return this.hash.$keys()},K.$$arity=0),q)&&"to_a"})(p[0],null,p);return function(c,b){var g=e(c,"Enumerable"),f=[g].concat(b),l;a.def(g,"$to_set",l=function(c,b){var d,e=l.$$p,g=e||q;null==c&&(c=a.const_get_relative(f,"Set"));var h=arguments.length;d=h-1;0>d&&(d=0);d=Array(d);for(var t=1;t<h;t++)d[t-1]=arguments[t];e&&(l.$$p=null);return k(c,"new",[this].concat(a.to_a(d)),g.$to_proc())},l.$$arity=-1)}(p[0],p)};Opal.modules["asciidoctor/js/opal_ext/file"]=
function(a){var b=[],m=a.nil,r=a.module,p=a.send,q=a.klass,f=a.truthy,c=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(c,b){var d=r(c,"Kernel"),g=[d].concat(b),f;a.def(d,"$open",f=function(c,b){var d,e=f.$$p,k=e||m,q=m,q=arguments.length;d=q-1;0>d&&(d=0);d=Array(d);for(var r=1;r<q;r++)d[r-1]=arguments[r];e&&(f.$$p=null);q=p(a.const_get_relative(g,"File"),"new",[c].concat(a.to_a(d)));return k!==m?a.yield1(k,q):q},
f.$$arity=-2)})(b[0],b);(function(b,$super,d){function g(){}b=g=q(b,$super,"File",g);var t=b.$$proto,p=[b].concat(d),l,r,n,H;t.eof=t.path=m;b.$attr_reader("eof");b.$attr_reader("lineno");b.$attr_reader("path");a.def(b,"$initialize",l=function(a,c){var b=m;null==c&&(c="r");this.path=a;this.contents=m;this.eof=!1;this.lineno=0;c=c.$delete("b");b=/:(.*)/;return this.flags=c=c.$gsub(b,"")},l.$$arity=-2);a.def(b,"$read",r=function(){var c=m;if(f(this.eof))return"";c=a.const_get_relative(p,"File").$read(this.path);
this.eof=!0;this.lineno=c.$size();return c},r.$$arity=0);a.def(b,"$each_line",n=function(b){var d=n.$$p,g=d||m,h=m;null==c["/"]&&(c["/"]=m);null==b&&(b=c["/"]);d&&(n.$$p=null);if(f(this.eof))return g!==m?this:[].$to_enum();if(g!==m){h=a.const_get_relative(p,"File").$read(this.path);this.eof=!1;this.lineno=0;for(var d=h.$chomp(),h=h.length!=d.length,d=d.split(b),k=0,l=d.length;k<l;k++)this.lineno+=1,k<l-1||h?a.yield1(g,d[k]+b):a.yield1(g,d[k]);this.eof=!0;return this}return this.$read().$each_line()},
n.$$arity=-1);a.def(b,"$readlines",H=function(){return a.const_get_relative(p,"File").$readlines(this.path)},H.$$arity=0);return function(b,d){var g=[b].concat(d),h,f,k,l;a.def(b,"$readlines",h=function(b,d){var h=m;null==c["/"]&&(c["/"]=m);null==d&&(d=c["/"]);h=a.const_get_relative(g,"File").$read(b);return h.$split(d)},h.$$arity=-2);a.def(b,"$file?",f=function(a){return!0},f.$$arity=1);a.def(b,"$readable?",k=function(a){return!0},k.$$arity=1);return(a.def(b,"$read",l=function(a){return""},l.$$arity=
1),m)&&"read"}(a.get_singleton_class(b),p)})(b[0],null,b);return function(c,$super,b){function g(){}c=g=q(c,$super,"IO",g);var f=[c].concat(b),p;return(a.defs(c,"$read",p=function(c){return a.const_get_relative(f,"File").$read(c)},p.$$arity=1),m)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],m=a.nil,r=a.klass,p=a.send;a.add_stubs(["$[]=","$-"]);return function(b,$super,c){function g(){}b=g=r(b,$super,"MatchData",g);var e=b.$$proto;[b].concat(c);var d;
e.matches=m;return(a.def(b,"$[]=",d=function(c,b){var d=m,d=[c,b];p(this.matches,"[]=",a.to_a(d));var e=d,d=d.length,d="number"===typeof d?d-1:d["$-"](1);return e[d]},d.$$arity=2),m)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],m=a.module;return function(b,g){var q=m(b,"Kernel");[q].concat(g);var f;a.def(q,"$freeze",f=function(){return this},f.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(a){var b=[],m=a.nil,r=a.module,
p=a.klass;return function(b,g){var c=[r(b,"ThreadSafe")].concat(g);(function(a,$super,c){function b(){}[b=p(a,$super,"Cache",b)].concat(c);return m})(c[0],a.const_get_qualified("::","Hash"),c)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],m=a.nil,r=a.klass,p=a.truthy,q=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));return function(b,$super,g){function e(){}b=e=r(b,$super,"String",
e);[b].concat(g);var d,h;p(b["$method_defined?"]("limit_bytesize"))||a.def(b,"$limit_bytesize",d=function(a){var b=m,b=this.$bytes().$length(),b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);if(!p(b))return this.$to_s();b=this.$byteslice(0,a);return b.$to_s()},d.$$arity=1);p(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_unpack","unpack");return(a.def(b,"$unpack",h=function(a){var b;return a["$=="]("C3")?q(this["$[]"](0,3).$bytes().$select(),"with_index",
[],(b=function(a,b){null==b&&(b=m);return b["$even?"]()},b.$$s=this,b.$$arity=2,b)):this.$_original_unpack(a)},h.$$arity=1),m)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var b=[],m=a.module;a.add_stubs(["$extend"]);return function(b,g){var q=m(b,"URI"),f=[q].concat(g),c;a.defs(q,"$parse",c=function(c){return c.$extend(a.const_get_relative(f,"URI"))},c.$$arity=1)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);
b.$require("asciidoctor/js/opal_ext/file");b.$require("asciidoctor/js/opal_ext/match_data");b.$require("asciidoctor/js/opal_ext/kernel");b.$require("asciidoctor/js/opal_ext/thread_safe");b.$require("asciidoctor/js/opal_ext/string");b.$require("asciidoctor/js/opal_ext/uri");b.$require("asciidoctor/js/opal_ext/umd")};Opal.modules["asciidoctor/js/rx"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var m=[],r=a.nil,p=a.module,q=a.send,f=a.gvars,c=a.truthy;a.add_stubs(["$gsub",
"$+","$unpack_hex_range"]);return function(k,e){var d=p(k,"Asciidoctor"),h=[d].concat(e),t;a.const_set(h[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(d,"$unpack_hex_range",t=function(b){var d;return q(b,"gsub",[a.const_get_relative(h,"HEX_RANGE_RX")],(d=function(){var a,b;return"\\u"+((a=f["~"])===r?r:a["$[]"](1))+(c(a=(b=f["~"])===r?r:b["$[]"](2))?"-\\u"+((b=f["~"])===r?r:b["$[]"](2)):a)},d.$$s=this,d.$$arity=0,d))},t.$$arity=1);a.const_set(h[0],"P_L",b("A-Za-z",d.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(h[0],"P_Nl",d.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(h[0],"P_Nd",b("0-9",d.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(h[0],
"P_Pc",d.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(h[0],"CC_ALPHA",""+a.const_get_relative(h,"P_L")+a.const_get_relative(h,"P_Nl"));a.const_set(h[0],"CG_ALPHA","["+a.const_get_relative(h,"CC_ALPHA")+"]");a.const_set(h[0],"CC_ALNUM",""+a.const_get_relative(h,"CC_ALPHA")+a.const_get_relative(h,"P_Nd"));a.const_set(h[0],"CG_ALNUM","["+a.const_get_relative(h,"CC_ALNUM")+"]");a.const_set(h[0],"CC_WORD",""+a.const_get_relative(h,"CC_ALNUM")+a.const_get_relative(h,"P_Pc"));
a.const_set(h[0],"CG_WORD","["+a.const_get_relative(h,"CC_WORD")+"]");a.const_set(h[0],"CG_BLANK","[ \\t]");a.const_set(h[0],"CC_EOL","(?=\\n|$)");a.const_set(h[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]");a.const_set(h[0],"CC_ALL","[\\s\\S]")}(m[0],m)};Opal.modules.strscan=function(a){var b=[],m=a.nil,r=a.klass,p=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,c){function g(){}b=g=r(b,$super,"StringScanner",g);var e=b.$$proto;
[b].concat(c);var d,h,t,u,l,v,n,x,w,E,ca,B,y,A,ha,z,P,L,U,J,Q,R,V,C,N;e.pos=e.string=e.working=e.matched=e.prev_pos=e.match=m;b.$attr_reader("pos");b.$attr_reader("matched");a.def(b,"$initialize",d=function(a){this.string=a;this.pos=0;this.matched=m;this.working=a;return this.match=[]},d.$$arity=1);b.$attr_reader("string");a.def(b,"$beginning_of_line?",h=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},h.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.def(b,"$scan",t=function(a){a=
this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):m},t.$$arity=1);a.def(b,"$scan_until",u=function(a){a=this.$anchor(a);for(var c=this.pos,b=this.working,d;;)if(d=a.exec(b),c+=1,b=b.substr(1),null==d){if(0===b.length)return this.matched=m}else return this.matched=
this.string.substr(this.pos,c-this.pos-1+d[0].length),this.prev_pos=c-1,this.pos=c,this.working=b.substr(d[0].length),this.matched},u.$$arity=1);a.def(b,"$[]",l=function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?m:c[a]},l.$$arity=1);a.def(b,"$check",v=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:this.matched=a[0]},v.$$arity=1);a.def(b,"$check_until",n=function(a){var c=this.prev_pos,b=this.pos;a=this.$scan_until(a);a!==m&&(this.matched=
a.substr(-1),this.working=this.string.substr(b));this.prev_pos=c;this.pos=b;return a},n.$$arity=1);a.def(b,"$peek",x=function(a){return this.working.substring(0,a)},x.$$arity=1);a.def(b,"$eos?",w=function(){return 0===this.working.length},w.$$arity=0);a.def(b,"$exist?",E=function(a){a=a.exec(this.working);return null==a?m:0==a.index?0:a.index+1},E.$$arity=1);a.def(b,"$skip",ca=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=m;a=a[0];var c=a.length;this.matched=
a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c},ca.$$arity=1);a.def(b,"$skip_until",B=function(a){a=this.$scan_until(a);if(a===m)return m;this.matched=a.substr(-1);return a.length},B.$$arity=1);a.def(b,"$get_byte",y=function(){var a=m;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=m;return a},y.$$arity=0);a.alias(b,"getch","get_byte");a.def(b,"$match?",
A=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return m;this.prev_pos=this.pos;return a[0].length},A.$$arity=1);a.def(b,"$pos=",ha=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},ha.$$arity=1);a.def(b,"$matched_size",z=function(){return this.matched===m?m:this.matched.length},z.$$arity=0);a.def(b,"$post_match",P=function(){return this.matched===m?m:this.string.substr(this.pos)},P.$$arity=0);a.def(b,"$pre_match",L=function(){return this.matched===
m?m:this.string.substr(0,this.prev_pos)},L.$$arity=0);a.def(b,"$reset",U=function(){this.working=this.string;this.matched=m;return this.pos=0},U.$$arity=0);a.def(b,"$rest",J=function(){return this.working},J.$$arity=0);a.def(b,"$rest?",Q=function(){return 0!==this.working.length},Q.$$arity=0);a.def(b,"$rest_size",R=function(){return this.$rest().$size()},R.$$arity=0);a.def(b,"$terminate",V=function(){var c=m;this.match=m;c=[this.string.$length()];p(this,"pos=",a.to_a(c));var b=c,c=c.length,c="number"===
typeof c?c-1:c["$-"](1);return b[c]},V.$$arity=0);a.def(b,"$unscan",C=function(){this.pos=this.prev_pos;this.match=this.prev_pos=m;return this},C.$$arity=0);b.$private();return(a.def(b,"$anchor",N=function(a){var c=a.toString().match(/\/([^\/]+)$/),c=c?c[1]:void 0;return new RegExp("^(?:"+a.source+")",c)},N.$$arity=1),m)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");b.$require("asciidoctor/js/rx");return b.$require("strscan")};
Opal.modules["asciidoctor/timings"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var p=[],q=a.nil,f=a.module,c=a.klass,k=a.hash2,e=a.send,d=a.truthy,h=a.gvars;a.add_stubs("$now $[]= $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(t,p){var l=[f(t,
"Asciidoctor")].concat(p);(function(f,$super,l){function t(){}f=t=c(f,$super,"Timings",t);var p=f.$$proto;[f].concat(l);var u,v,y,A,x,w,P,L;p.timers=p.log=q;a.def(f,"$initialize",u=function(){this.log=k([],{});return this.timers=k([],{})},u.$$arity=0);a.def(f,"$start",v=function(c){var d=q,d=[c,a.const_get_qualified("::","Time").$now()];e(this.timers,"[]=",a.to_a(d));return d[b(d.length,1)]},v.$$arity=1);a.def(f,"$record",y=function(c){var d=q,d=[c,b(a.const_get_qualified("::","Time").$now(),this.timers.$delete(c))];
e(this.log,"[]=",a.to_a(d));return d[b(d.length,1)]},y.$$arity=1);a.def(f,"$read_parse",A=function(){var a,c=q;return d(m(c=r(d(a=this.log["$[]"]("read"))?a:0,d(a=this.log["$[]"]("parse"))?a:0),0))?c:q},A.$$arity=0);a.def(f,"$convert",x=function(){var a;return d(a=this.log["$[]"]("convert"))?a:0},x.$$arity=0);a.def(f,"$read_parse_convert",w=function(){var a,c=q;return d(m(c=r(r(d(a=this.log["$[]"]("read"))?a:0,d(a=this.log["$[]"]("parse"))?a:0),d(a=this.log["$[]"]("convert"))?a:0),0))?c:q},w.$$arity=
0);a.def(f,"$total",P=function(){var a,c=q;return d(m(c=r(r(r(d(a=this.log["$[]"]("read"))?a:0,d(a=this.log["$[]"]("parse"))?a:0),d(a=this.log["$[]"]("convert"))?a:0),d(a=this.log["$[]"]("write"))?a:0),0))?c:q},P.$$arity=0);return(a.def(f,"$print_report",L=function(a,c){null==h.stdout&&(h.stdout=q);null==a&&(a=h.stdout);null==c&&(c=q);d(c)&&a.$puts("Input file: "+c);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));
return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},L.$$arity=-1),q)&&"print_report"})(l[0],null,l)}(p[0],p)};Opal.modules["asciidoctor/version"]=function(a){var b=[],m=a.module,b=[m(b[0],"Asciidoctor")].concat(b);a.const_set(b[0],"VERSION","1.5.6.2")};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var b=[],m=a.nil,r=a.klass,p=a.truthy;a.add_stubs(["$method_defined?"]);(function(b,$super,c){function g(){}b=g=r(b,$super,"NilClass",
g);[b].concat(c);return p(b["$method_defined?"]("nil_or_empty?"))?m:a.alias(b,"nil_or_empty?","nil?")})(b[0],null,b);(function(b,$super,c){function g(){}b=g=r(b,$super,"String",g);[b].concat(c);return p(b["$method_defined?"]("nil_or_empty?"))?m:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){function g(){}b=g=r(b,$super,"Array",g);[b].concat(c);return p(b["$method_defined?"]("nil_or_empty?"))?m:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){function g(){}
b=g=r(b,$super,"Hash",g);[b].concat(c);return p(b["$method_defined?"]("nil_or_empty?"))?m:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,c){function g(){}b=g=r(b,$super,"Numeric",g);[b].concat(c);return p(b["$method_defined?"]("nil_or_empty?"))?m:a.alias(b,"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(a){var b=[],m=a.nil,r=a.klass,p=a.truthy;a.add_stubs(["$method_defined?"]);return function(b,$super,c){function g(){}
b=g=r(b,$super,"Regexp",g);[b].concat(c);return p(b["$method_defined?"]("match?"))?m:a.alias(b,"match?","===")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(a){var b=[],m=a.nil,r=a.klass,p=a.truthy;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));return function(b,$super,c){function g(){}b=g=r(b,$super,"String",g);[b].concat(c);var e;return p(b["$method_defined?"]("limit_bytesize"))?m:(a.def(b,"$limit_bytesize",
e=function(c){var b=m,b=this.$bytesize(),b="number"===typeof c&&"number"===typeof b?c<b:c["$<"](b);if(!p(b))return this;for(;!p((b=this.$byteslice(0,c)).$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)c="number"===typeof c?c-1:c["$-"](1);return b},e.$$arity=1),m)&&"limit_bytesize"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(a){var b,m=[],r=a.nil,p=a.truthy,q=a.send;a.add_stubs(["$respond_to?","$open","$write"]);
return p(a.const_get_relative(m,"IO")["$respond_to?"]("write"))?r:(a.defs(a.const_get_relative(m,"IO"),"$write",b=function(b,c,g,e){var d;null==g&&(g=0);null==e&&(e=r);return q(a.const_get_relative(m,"File"),"open",[b,"w"],(d=function(a){null==a&&(a=r);return a.$write(c)},d.$$s=this,d.$$arity=1,d))},b.$$arity=-3),r)&&"write"};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,m=[],r=a.nil,p=a.truthy;a.add_stubs(["$require","$==","$!="]);b.$require("asciidoctor/core_ext/nil_or_empty");b.$require("asciidoctor/core_ext/regexp/is_match");
if(p(a.const_get_relative(m,"RUBY_MIN_VERSION_1_9")))return b.$require("asciidoctor/core_ext/string/limit_bytesize"),a.const_get_relative(m,"RUBY_ENGINE")["$=="]("opal")?b.$require("asciidoctor/core_ext/1.8.7/io/write"):r;p(a.const_get_relative(m,"RUBY_ENGINE")["$!="]("opal"));return r};Opal.modules["asciidoctor/helpers"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var m=[],r=a.nil,p=a.module,q=a.truthy,f=a.send,c=a.range,k=a.gvars;a.add_stubs("$require $== $=== $raise $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $unpack $[] $slice $map $each_line $encode $force_encoding $join $rstrip $[]= $- $encoding $nil_or_empty? $include? $match? $=~ $gsub $each_byte $sprintf $rindex $length $basename $extname $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));
return function(e,d){var h=[p(e,"Asciidoctor")].concat(d);(function(d,e){var h=p(d,"Helpers"),m=[h].concat(e),n,D,u,E,v,x,y,A,w,B;a.defs(h,"$require_library",n=function(c,b,d){var e=r,g=r;null==b&&(b=!0);null==d&&(d="abort");try{return this.$require(c)}catch(h){if(a.rescue(h,[a.const_get_qualified("::","LoadError")])){e=h;try{if(q(b))return b["$=="](!0)&&(b=c),g=d,"abort"["$==="](g)?this.$raise(a.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: required gem '"+b+"' is not installed. Processing aborted."):
"warn"["$==="](g)?this.$warn("asciidoctor: WARNING: optional gem '"+b+"' is not installed. Functionality disabled."):r;g=d;return"abort"["$==="](g)?this.$raise(a.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: "+e.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](g)?this.$warn("asciidoctor: WARNING: "+e.$message().$chomp(".")+". Functionality disabled."):r}finally{a.pop_exception()}}else throw h;}},n.$$arity=-2);a.defs(h,"$normalize_lines",D=function(c){return c.$class()["$=="](a.const_get_qualified("::",
"String"))?this.$normalize_lines_from_string(c):this.$normalize_lines_array(c)},D.$$arity=1);a.defs(h,"$normalize_lines_array",u=function(d){var e,h,k,l,t=r,p=r,n=r,y=r,t=r;if(q(d["$empty?"]()))return d;t=(p=d["$[]"](0)).$unpack("C3");if(q(a.const_get_relative(m,"COERCE_ENCODING"))){n=a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8");if((y=t.$slice(0,2))["$=="](a.const_get_relative(m,"BOM_BYTES_UTF_16LE")))return f(d.$join().$force_encoding(a.const_get_qualified(a.const_get_qualified("::",
"Encoding"),"UTF_16LE"))["$[]"](c(1,-1,!1)).$encode(n).$each_line(),"map",[],(e=function(a){null==a&&(a=r);return a.$rstrip()},e.$$s=this,e.$$arity=1,e));if(y["$=="](a.const_get_relative(m,"BOM_BYTES_UTF_16BE")))return t=[0,p.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](c(1,-1,!1))],f(d,"[]=",a.to_a(t)),t[b(t.length,1)],f(d,"map",[],(h=function(c){null==c&&(c=r);return""+c.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),
"UTF_16BE")).$encode(n).$rstrip()},h.$$s=this,h.$$arity=1,h));t["$=="](a.const_get_relative(m,"BOM_BYTES_UTF_8"))&&(t=[0,p.$force_encoding(n)["$[]"](c(1,-1,!1))],f(d,"[]=",a.to_a(t)),t[b(t.length,1)]);return f(d,"map",[],(k=function(a){null==a&&(a=r);return a.$encoding()["$=="](n)?a.$rstrip():a.$force_encoding(n).$rstrip()},k.$$s=this,k.$$arity=1,k))}t["$=="](a.const_get_relative(m,"BOM_BYTES_UTF_8"))&&(t=[0,p["$[]"](c(3,-1,!1))],f(d,"[]=",a.to_a(t)),t[b(t.length,1)]);return f(d,"map",[],(l=function(a){null==
a&&(a=r);return a.$rstrip()},l.$$s=this,l.$$arity=1,l))},u.$$arity=1);a.defs(h,"$normalize_lines_from_string",E=function(b){var d,e=r,g=r,h=r;if(q(b["$nil_or_empty?"]()))return[];e=b.$unpack("C3");q(a.const_get_relative(m,"COERCE_ENCODING"))?(g=a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8"),(h=e.$slice(0,2))["$=="](a.const_get_relative(m,"BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](c(1,-1,!1)).$encode(g):
h["$=="](a.const_get_relative(m,"BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](c(1,-1,!1)).$encode(g):e["$=="](a.const_get_relative(m,"BOM_BYTES_UTF_8"))?b=b.$encoding()["$=="](g)?b["$[]"](c(1,-1,!1)):b.$force_encoding(g)["$[]"](c(1,-1,!1)):b.$encoding()["$=="](g)||(b=b.$force_encoding(g))):e["$=="](a.const_get_relative(m,"BOM_BYTES_UTF_8"))&&(b=b["$[]"](c(3,-1,!1)));return f(b.$each_line(),"map",[],(d=function(a){null==
a&&(a=r);return a.$rstrip()},d.$$s=this,d.$$arity=1,d))},E.$$arity=1);a.defs(h,"$uriish?",v=function(c){var b;return q(b=c["$include?"](":"))?a.const_get_relative(m,"UriSniffRx")["$match?"](c):b},v.$$arity=1);a.defs(h,"$uri_prefix",x=function(c){var b;return q(q(b=c["$include?"](":"))?a.const_get_relative(m,"UriSniffRx")["$=~"](c):b)?(b=k["~"])===r?r:b["$[]"](0):r},x.$$arity=1);a.const_set(m[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(h,"$uri_encode",y=function(c){var b;return f(c,
"gsub",[a.const_get_relative(m,"REGEXP_ENCODE_URI_CHARS")],(b=function(){var a=b.$$s||this,c,d;return f(((c=k["~"])===r?r:c["$[]"](0)).$each_byte(),"map",[],(d=function(a){var c=d.$$s||this;null==a&&(a=r);return c.$sprintf("%%%02X",a)},d.$$s=a,d.$$arity=1,d)).$join()},b.$$s=this,b.$$arity=0,b))},y.$$arity=1);a.defs(h,"$rootname",A=function(a){var c;return a.$slice(0,q(c=a.$rindex("."))?c:a.$length())},A.$$arity=1);a.defs(h,"$basename",w=function(c,b){null==b&&(b=r);return q(b)?a.const_get_qualified("::",
"File").$basename(c,b["$=="](!0)?a.const_get_qualified("::","File").$extname(c):b):a.const_get_qualified("::","File").$basename(c)},w.$$arity=-2);a.defs(h,"$mkdir_p",B=function(c){var b,d=r;if(q(a.const_get_qualified("::","File")["$directory?"](c)))return r;d=a.const_get_qualified("::","File").$dirname(c);q(q(b=a.const_get_qualified("::","File")["$directory?"](d=a.const_get_qualified("::","File").$dirname(c))["$!"]())?d["$!="]("."):b)&&this.$mkdir_p(d);return a.const_get_qualified("::","Dir").$mkdir(c)},
B.$$arity=1)})(h[0],h)}(m[0],m)};Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var f=[],c=a.nil,k=a.slice,
e=a.module,d=a.hash2,h=a.hash,t=a.truthy,u=a.send,l=a.gvars,v=a.range;a.add_stubs("$freeze $+ $keys $attr_reader $empty? $! $=== $[] $each $<< $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $== $length $> $- $end_with? $parse_attributes $size $[]= $unescape_brackets $resolve_pass_subs $start_with? $to_sym $nil_or_empty? $attributes $basebackend? $to_i $convert $new $clear $match? $convert_quoted_text $do_replacement $sub $shift $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $slice $strip $index $min $compact $map $chop $unescape_bracketed_text $pop $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $names $config $dup $!= $process_method $register $tr $basename $split_simple_csv $normalize_string $!~ $delete $uri_encode $sub_inline_xrefs $sub_inline_anchors $find $footnotes $id $text $style $lstrip $rindex $catalog $key $attr? $escape $attr $read_next_id $callouts $< $parse_quoted_text_attributes $shorthand_property_syntax $concat $parse_into $parse $each_char $join $chr $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_highlight_lines $highlight $find_by_alias $find_by_mimetype $name $option? $=~ $to_a $uniq $sort $resolve_block_subs".split(" "));
return function(f,x){var w=[e(f,"Asciidoctor")].concat(x);(function(f,n){var x=e(f,"Substitutors"),y=[x].concat(n),A,w,B,z,L,U,J,Q,R,V,X,C,O,W,da,I,pa,ea,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua;a.const_set(y[0],"SpecialCharsRx",/[<&>]/);a.const_set(y[0],"SpecialCharsTr",d([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(y[0],"QuotedTextSniffRx",h(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(y[0],"BASIC_SUBS",["specialcharacters"]).$freeze();a.const_set(y[0],"HEADER_SUBS",["specialcharacters",
"attributes"]).$freeze();a.const_set(y[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(y[0],"NONE_SUBS",[]).$freeze();a.const_set(y[0],"TITLE_SUBS","specialcharacters quotes replacements macros attributes post_replacements".split(" ")).$freeze();a.const_set(y[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(y[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze();a.const_set(y[0],
"SUB_GROUPS",d(["none","normal","verbatim","specialchars"],{none:a.const_get_relative(y,"NONE_SUBS"),normal:a.const_get_relative(y,"NORMAL_SUBS"),verbatim:a.const_get_relative(y,"VERBATIM_SUBS"),specialchars:a.const_get_relative(y,"BASIC_SUBS")}));a.const_set(y[0],"SUB_HINTS",d("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(y[0],"SUB_OPTIONS",d(["block","inline"],{block:b(b(a.const_get_relative(y,
"SUB_GROUPS").$keys(),a.const_get_relative(y,"NORMAL_SUBS")),["callouts"]),inline:b(a.const_get_relative(y,"SUB_GROUPS").$keys(),a.const_get_relative(y,"NORMAL_SUBS"))}));a.const_set(y[0],"SUB_HIGHLIGHT",["coderay","pygments"]);a.const_set(y[0],"PASS_START","\u0096");a.const_set(y[0],"PASS_END","\u0097");a.const_set(y[0],"PassSlotRx",new RegExp(""+a.const_get_relative(y,"PASS_START")+"(\\d+)"+a.const_get_relative(y,"PASS_END")));a.const_set(y[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+
a.const_get_relative(y,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+a.const_get_relative(y,"PASS_END")+"</span>"));a.const_set(y[0],"RS","\\");a.const_set(y[0],"R_SB","]");a.const_set(y[0],"ESC_R_SB","\\]");a.const_set(y[0],"PLUS","+");a.const_set(y[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m);a.const_set(y[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m);x.$attr_reader("passthroughs");a.def(x,"$apply_subs",A=function(d,e,h){var f,k,l,p=c,n=c,r=c,q=c;null==this.passthroughs&&
(this.passthroughs=c);null==e&&(e=a.const_get_relative(y,"NORMAL_SUBS"));null==h&&(h=c);if(t(t(f=d["$empty?"]())?f:e["$!"]()))return d;if(t(h))if(t(a.const_get_qualified("::","Symbol")["$==="](e)))e=t(f=a.const_get_relative(y,"SUB_GROUPS")["$[]"](e))?f:[e];else{if(p=[],u(e,"each",[],(k=function(d){var e=c;null==d&&(d=c);return t(e=a.const_get_relative(y,"SUB_GROUPS")["$[]"](d))?t(e["$empty?"]())?c:p=b(p,e):p["$<<"](d)},k.$$s=this,k.$$arity=1,k)),t((e=p)["$empty?"]()))return d}else if(t(e["$empty?"]()))return d;
n=t(r=a.const_get_qualified("::","Array")["$==="](d))?m(d,a.const_get_relative(y,"LF")):d;t(q=e["$include?"]("macros"))&&(n=this.$extract_passthroughs(n),t(this.passthroughs["$empty?"]())&&(q=!1));u(e,"each",[],(l=function(b){var d=l.$$s||this,g=c;null==b&&(b=c);g=b;return"specialcharacters"["$==="](g)?n=d.$sub_specialchars(n):"quotes"["$==="](g)?n=d.$sub_quotes(n):"attributes"["$==="](g)?t(n["$include?"](a.const_get_relative(y,"ATTR_REF_HEAD")))?n=m(d.$sub_attributes(n.$split(a.const_get_relative(y,
"LF"),-1)),a.const_get_relative(y,"LF")):c:"replacements"["$==="](g)?n=d.$sub_replacements(n):"macros"["$==="](g)?n=d.$sub_macros(n):"highlight"["$==="](g)?n=d.$highlight_source(n,e["$include?"]("callouts")):"callouts"["$==="](g)?t(e["$include?"]("highlight"))?c:n=d.$sub_callouts(n):"post_replacements"["$==="](g)?n=d.$sub_post_replacements(n):d.$warn("asciidoctor: WARNING: unknown substitution type "+b)},l.$$s=this,l.$$arity=1,l));t(q)&&(n=this.$restore_passthroughs(n));return t(r)?n.$split(a.const_get_relative(y,
"LF"),-1):n},A.$$arity=-2);a.def(x,"$apply_normal_subs",w=function(a){return this.$apply_subs(a)},w.$$arity=1);a.def(x,"$apply_title_subs",B=function(c){return this.$apply_subs(c,a.const_get_relative(y,"TITLE_SUBS"))},B.$$arity=1);a.def(x,"$apply_reftext_subs",z=function(c){return this.$apply_subs(c,a.const_get_relative(y,"REFTEXT_SUBS"))},z.$$arity=1);a.def(x,"$apply_header_subs",L=function(c){return this.$apply_subs(c,a.const_get_relative(y,"HEADER_SUBS"))},L.$$arity=1);a.def(x,"$extract_passthroughs",
U=function(b){var e,g,h,f,k,n=c,q=c,A=c,E=c;null==this.document&&(this.document=c);n=this.document.$compat_mode();t(t(e=t(g=b["$include?"]("++"))?g:b["$include?"]("$$"))?e:b["$include?"]("ss:"))&&(b=u(b,"gsub",[a.const_get_relative(y,"InlinePassMacroRx")],(h=function(){var b=h.$$s||this,e,g=c,f=c,k=c,q=c,ya=c,T=c,M=c,q=k=g=c;null==b.passthroughs&&(b.passthroughs=c);null==l["~"]&&(l["~"]=c);g=l["~"];f=c;if(t(k=g["$[]"](4))){if(t(t(e=n)?k["$=="]("++"):e))return t(g["$[]"](2))?""+g["$[]"](1)+"["+g["$[]"](2)+
"]"+g["$[]"](3)+"++"+b.$extract_passthroughs(g["$[]"](5))+"++":""+g["$[]"](1)+g["$[]"](3)+"++"+b.$extract_passthroughs(g["$[]"](5))+"++";q=g["$[]"](2);ya=g["$[]"](3).$length();T=g["$[]"](5);M=!1;if(t(q)){if(t(r(ya,0)))return""+g["$[]"](1)+"["+q+"]"+m(a.const_get_relative(y,"RS"),p(ya,1))+k+g["$[]"](5)+k;g["$[]"](1)["$=="](a.const_get_relative(y,"RS"))?(f="["+q+"]",q=c):(t(k["$=="]("++")?q["$end_with?"]("x-"):k["$=="]("++"))&&(M=!0,q=q["$[]"](v(0,-2,!0))),q=b.$parse_attributes(q))}else if(t(r(ya,0)))return""+
m(a.const_get_relative(y,"RS"),p(ya,1))+k+g["$[]"](5)+k;g=k["$=="]("+++")?[]:a.const_get_relative(y,"BASIC_SUBS");k=b.passthroughs.$size();q=t(q)?t(M)?[k,d(["text","subs","type","attributes"],{text:T,subs:a.const_get_relative(y,"NORMAL_SUBS"),type:"monospaced",attributes:q})]:[k,d(["text","subs","type","attributes"],{text:T,subs:g,type:"unquoted",attributes:q})]:[k,d(["text","subs"],{text:T,subs:g})]}else{if(g["$[]"](6)["$=="](a.const_get_relative(y,"RS")))return g["$[]"](0)["$[]"](v(1,-1,!1));q=
[k=b.passthroughs.$size(),d(["text","subs"],{text:b.$unescape_brackets(g["$[]"](8)),subs:t(g["$[]"](7))?b.$resolve_pass_subs(g["$[]"](7)):[]})]}u(b.passthroughs,"[]=",a.to_a(q));q[p(q.length,1)];return""+f+a.const_get_relative(y,"PASS_START")+k+a.const_get_relative(y,"PASS_END")},h.$$s=this,h.$$arity=0,h)));g=a.const_get_relative(y,"PassInlineRx")["$[]"](n);e=a.to_ary(g);q=null==e[0]?c:e[0];A=null==e[1]?c:e[1];E=null==e[2]?c:e[2];g;t(t(e=b["$include?"](q))?e:t(g=A)?b["$include?"](A):g)&&(b=u(b,"gsub",
[E],(f=function(){var b=f.$$s||this,e,g=c,h=c,k=c,m=c,q=c,T=c,M=c,q=k=g=c;null==b.passthroughs&&(b.passthroughs=c);null==l["~"]&&(l["~"]=c);g=l["~"];h=g["$[]"](1);k=g["$[]"](2);t(g["$[]"](3)["$start_with?"](a.const_get_relative(y,"RS")))&&(m=a.const_get_relative(y,"RS"));q=g["$[]"](4);T=g["$[]"](5);t(n)?M=!0:t(M=t(e=k)?k["$end_with?"]("x-"):e)&&(k=k["$[]"](v(0,-2,!0)));if(t(k)){if(t(q["$=="]("`")?M["$!"]():q["$=="]("`")))return""+h+"["+k+"]"+m+"`"+b.$extract_passthroughs(T)+"`";if(t(m))return""+h+
"["+k+"]"+g["$[]"](3)["$[]"](v(1,-1,!1));h["$=="](a.const_get_relative(y,"RS"))?(h="["+k+"]",k=c):k=b.$parse_attributes(k)}else{if(t(q["$=="]("`")?M["$!"]():q["$=="]("`")))return""+h+m+"`"+b.$extract_passthroughs(T)+"`";if(t(m))return""+h+g["$[]"](3)["$[]"](v(1,-1,!1))}g=b.passthroughs.$size();t(n)?k=[g,d(["text","subs","attributes","type"],{text:T,subs:a.const_get_relative(y,"BASIC_SUBS"),attributes:k,type:"monospaced"})]:t(k)?t(M)?(q=q["$=="]("`")?a.const_get_relative(y,"BASIC_SUBS"):a.const_get_relative(y,
"NORMAL_SUBS"),k=[g,d(["text","subs","attributes","type"],{text:T,subs:q,attributes:k,type:"monospaced"})]):k=[g,d(["text","subs","attributes","type"],{text:T,subs:a.const_get_relative(y,"BASIC_SUBS"),attributes:k,type:"unquoted"})]:k=[g,d(["text","subs"],{text:T,subs:a.const_get_relative(y,"BASIC_SUBS")})];u(b.passthroughs,"[]=",a.to_a(k));k[p(k.length,1)];return""+h+a.const_get_relative(y,"PASS_START")+g+a.const_get_relative(y,"PASS_END")},f.$$s=this,f.$$arity=0,f)));t(t(e=b["$include?"](":"))?
t(g=b["$include?"]("stem:"))?g:b["$include?"]("math:"):e)&&(b=u(b,"gsub",[a.const_get_relative(y,"InlineStemMacroRx")],(k=function(){var b=k.$$s||this,e=c,g=c,h=c,f=c,m=c,e=g=c;null==b.document&&(b.document=c);null==b.passthroughs&&(b.passthroughs=c);null==l["~"]&&(l["~"]=c);e=l["~"];if(t(e["$[]"](0)["$start_with?"](a.const_get_relative(y,"RS"))))return e["$[]"](0)["$[]"](v(1,-1,!1));(g=e["$[]"](1).$to_sym())["$=="]("stem")&&(g=(t((h=b.document.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":
h).$to_sym());f=b.$unescape_brackets(e["$[]"](3));m=t(e["$[]"](2))?b.$resolve_pass_subs(e["$[]"](2)):t(b.document["$basebackend?"]("html"))?a.const_get_relative(y,"BASIC_SUBS"):[];g=[e=b.passthroughs.$size(),d(["text","subs","type"],{text:f,subs:m,type:g})];u(b.passthroughs,"[]=",a.to_a(g));g[p(g.length,1)];return""+a.const_get_relative(y,"PASS_START")+e+a.const_get_relative(y,"PASS_END")},k.$$s=this,k.$$arity=0,k)));return b},U.$$arity=1);a.def(x,"$restore_passthroughs",J=function(b,e){var g,h,f,
k=this;null==k.passthroughs&&(k.passthroughs=c);null==e&&(e=!0);return function(){try{return t(t(g=e)?t(h=k.passthroughs["$empty?"]())?h:b["$include?"](a.const_get_relative(y,"PASS_START"))["$!"]():g)?b:u(b,"gsub",[a.const_get_relative(y,"PassSlotRx")],(f=function(){var b=f.$$s||this,e,g=c,h=c,k=c;null==b.passthroughs&&(b.passthroughs=c);g=b.passthroughs["$[]"](((e=l["~"])===c?c:e["$[]"](1)).$to_i());h=b.$apply_subs(g["$[]"]("text"),g["$[]"]("subs"));t(k=g["$[]"]("type"))&&(h=a.const_get_relative(y,
"Inline").$new(b,"quoted",h,d(["type","attributes"],{type:k,attributes:g["$[]"]("attributes")})).$convert());return t(h["$include?"](a.const_get_relative(y,"PASS_START")))?b.$restore_passthroughs(h,!1):h},f.$$s=k,f.$$arity=0,f))}finally{t(e)&&k.passthroughs.$clear()}}()},J.$$arity=-2);a.const_get_relative(y,"RUBY_ENGINE")["$=="]("opal")?(a.def(x,"$sub_quotes",Q=function(b){var d,e=c;null==this.document&&(this.document=c);t(a.const_get_relative(y,"QuotedTextSniffRx")["$[]"](e=this.document.$compat_mode())["$match?"](b))&&
u(a.const_get_relative(y,"QUOTE_SUBS")["$[]"](e),"each",[],(d=function(a,e,g){var h=d.$$s||this,f;null==a&&(a=c);null==e&&(e=c);null==g&&(g=c);return b=u(b,"gsub",[g],(f=function(){var b=f.$$s||this;null==l["~"]&&(l["~"]=c);return b.$convert_quoted_text(l["~"],a,e)},f.$$s=h,f.$$arity=0,f))},d.$$s=this,d.$$arity=3,d));return b},Q.$$arity=1),a.def(x,"$sub_replacements",R=function(b){var d;t(a.const_get_relative(y,"ReplaceableTextRx")["$match?"](b))&&u(a.const_get_relative(y,"REPLACEMENTS"),"each",[],
(d=function(a,e,g){var h=d.$$s||this,f;null==a&&(a=c);null==e&&(e=c);null==g&&(g=c);return b=u(b,"gsub",[a],(f=function(){var a=f.$$s||this;null==l["~"]&&(l["~"]=c);return a.$do_replacement(l["~"],e,g)},f.$$s=h,f.$$arity=0,f))},d.$$s=this,d.$$arity=3,d));return b},R.$$arity=1),a.def(x,"$sub_specialchars",V=function(c){var b,d;return t(t(b=t(d=c["$include?"]("<"))?d:c["$include?"]("&"))?b:c["$include?"](">"))?c.$gsub(a.const_get_relative(y,"SpecialCharsRx"),a.const_get_relative(y,"SpecialCharsTr")):
c},V.$$arity=1)):c;a.alias(x,"sub_specialcharacters","sub_specialchars");a.def(x,"$do_replacement",X=function(b,d,e){var g=c,g=c;t((g=b["$[]"](0))["$include?"](a.const_get_relative(y,"RS")))?b=g.$sub(a.const_get_relative(y,"RS"),""):(g=e,b="none"["$==="](g)?d:"bounding"["$==="](g)?""+b["$[]"](1)+d+b["$[]"](2):""+b["$[]"](1)+d);return b},X.$$arity=3);a.def(x,"$sub_attributes",C=function(b,e){var g,h,f=this,k=c,p=c,n=c;null==f.document&&(f.document=c);null==e&&(e=d([],{}));t(k=a.const_get_qualified("::",
"String")["$==="](b))&&(b=[b]);g=[f.document.$attributes(),[]];p=g[0];n=g[1];g;(function(){var d=a.new_brk();try{return u(b,"each",[],(h=function(b){var d=h.$$s||this,g,f,k,m=c,q=c;null==b&&(b=c);m=q=!1;t(b["$include?"](a.const_get_relative(y,"ATTR_REF_HEAD")))&&(b=function(){var h=a.new_brk();try{return u(b,"gsub",[a.const_get_relative(y,"AttributeReferenceRx")],(g=function(){var b=g.$$s||this,d,f,k,n=c,F=c,r=c,G=c,A=c;null==b.document&&(b.document=c);t(t(d=((f=l["~"])===c?c:f["$[]"](1))["$=="](a.const_get_relative(y,
"RS")))?d:((f=l["~"])===c?c:f["$[]"](4))["$=="](a.const_get_relative(y,"RS")))?G="{"+((d=l["~"])===c?c:d["$[]"](2))+"}":t((d=l["~"])===c?c:d["$[]"](3))?G=function(){n=(F=((d=l["~"])===c?c:d["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](n)?(f=a.const_get_relative(y,"Parser").$store_attribute(F["$[]"](0),t(k=F["$[]"](1))?k:"",b.document),d=a.to_ary(f),r=null==d[1]?c:d[1],f,!t(r)&&p.$fetch("attribute-undefined",a.const_get_relative(y,"Compliance").$attribute_undefined())["$=="]("drop-line")&&
(m=!0,a.brk("",h)),q=!0,""):"counter2"["$==="](n)?(u(b.document,"counter",a.to_a(F)),q=!0,""):u(b.document,"counter",a.to_a(F))}():t(p["$key?"](G=((d=l["~"])===c?c:d["$[]"](2)).$downcase()))?G=p["$[]"](G):t(a.const_get_relative(y,"INTRINSIC_ATTRIBUTES")["$key?"](G))?G=a.const_get_relative(y,"INTRINSIC_ATTRIBUTES")["$[]"](G):(n=A=t(d=A)?d:t(f=e["$[]"]("attribute_missing"))?f:p.$fetch("attribute-missing",a.const_get_relative(y,"Compliance").$attribute_missing()),"drop"["$==="](n)?(q=!0,G=""):"drop-line"["$==="](n)?
(b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+G),m=!0,a.brk("",h),G=void 0):("warn"["$==="](n)&&b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+G),G=(d=l["~"])===c?c:d["$[]"](0)));return G},g.$$s=d,g.$$brk=h,g.$$arity=0,g))}catch(f){if(f===h)return f.$v;throw f;}}());return t(t(f=m)?f:t(k=q)?b["$empty?"]():k)?c:n["$<<"](b)},h.$$s=f,h.$$brk=d,h.$$arity=1,h))}catch(g){if(g===d)return g.$v;throw g;}})();return t(k)?m(n,a.const_get_relative(y,
"LF")):n},C.$$arity=-2);a.def(x,"$sub_macros",O=function(b){var e,g,h,f,m,n,q,A,E,D,x,F,xa=c,J=c,S=c,ya=c,T=J=c,M=c,Ma=c,sa=c,Oa=c;null==this.document&&(this.document=c);xa=d([],{});J=(S=["square_bracket",b["$include?"]("[")],u(xa,"[]=",a.to_a(S)),S[p(S.length,1)]);ya=b["$include?"](":");J=(S=["macroish",t(e=J)?ya:e],u(xa,"[]=",a.to_a(S)),S[p(S.length,1)]);T=t(e=J)?b["$include?"](":["):e;M=this.document.$attributes();Ma=M["$key?"]("linkattrs");sa=b;t(M["$key?"]("experimental"))&&(t(t(e=T)?t(g=sa["$include?"]("kbd:"))?
g:sa["$include?"]("btn:"):e)&&(sa=u(sa,"gsub",[a.const_get_relative(y,"InlineKbdBtnMacroRx")],(h=function(){var b=h.$$s||this,e,g,f,k=c,m=c,n=c;return t((e=l["~"])===c?c:e["$[]"](1))?((e=l["~"])===c?c:e["$[]"](0)).$slice(1,((e=l["~"])===c?c:e["$[]"](0)).$length()):((e=l["~"])===c?c:e["$[]"](2))["$=="]("kbd")?(t((k=((e=l["~"])===c?c:e["$[]"](3)).$strip())["$include?"](a.const_get_relative(y,"R_SB")))&&(k=k.$gsub(a.const_get_relative(y,"ESC_R_SB"),a.const_get_relative(y,"R_SB"))),t(t(e=r(k.$length(),
1))?m=t(m=k.$index(",",1))?[m,k.$index("+",1)].$compact().$min():k.$index("+",1):e)?(n=k.$slice(m,1),t(k["$end_with?"](n))?(k=u(k.$chop().$split(n,-1),"map",[],(g=function(a){null==a&&(a=c);return a.$strip()},g.$$s=b,g.$$arity=1,g)),S=[-1,""+k["$[]"](-1)+n],u(k,"[]=",a.to_a(S)),S[p(S.length,1)]):k=u(k.$split(n),"map",[],(f=function(a){null==a&&(a=c);return a.$strip()},f.$$s=b,f.$$arity=1,f))):k=[k],a.const_get_relative(y,"Inline").$new(b,"kbd",c,d(["attributes"],{attributes:d(["keys"],{keys:k})})).$convert()):
a.const_get_relative(y,"Inline").$new(b,"button",b.$unescape_bracketed_text((e=l["~"])===c?c:e["$[]"](3))).$convert()},h.$$s=this,h.$$arity=0,h))),t(t(e=J)?sa["$include?"]("menu:"):e)&&(sa=u(sa,"gsub",[a.const_get_relative(y,"InlineMenuMacroRx")],(f=function(){var b=f.$$s||this,e,g,h=c,k=h=e=c,p=k=e=c;null==l["~"]&&(l["~"]=c);h=l["~"];if(t((e=h["$[]"](0))["$start_with?"](a.const_get_relative(y,"RS"))))return e["$[]"](v(1,-1,!1));e=[h["$[]"](1),h["$[]"](2)];h=e[0];k=e[1];e;t(k)?(t(k["$include?"](a.const_get_relative(y,
"R_SB")))&&(k=k.$gsub(a.const_get_relative(y,"ESC_R_SB"),a.const_get_relative(y,"R_SB"))),t(e=t(k["$include?"]("&gt;"))?"&gt;":t(k["$include?"](","))?",":c)?(k=u(k.$split(e),"map",[],(g=function(a){null==a&&(a=c);return a.$strip()},g.$$s=b,g.$$arity=1,g)),p=k.$pop()):(e=[[],k.$rstrip()],k=e[0],p=e[1],e)):(e=[[],c],k=e[0],p=e[1],e);return a.const_get_relative(y,"Inline").$new(b,"menu",c,d(["attributes"],{attributes:d(["menu","submenus","menuitem"],{menu:h,submenus:k,menuitem:p})})).$convert()},f.$$s=
this,f.$$arity=0,f))),t(t(e=sa["$include?"]('"'))?sa["$include?"]("&gt;"):e)&&(sa=u(sa,"gsub",[a.const_get_relative(y,"MenuInlineRx")],(m=function(){var b=m.$$s||this,e,g,h=c,f=h=h=g=c;g=c;null==l["~"]&&(l["~"]=c);h=l["~"];if(t((g=h["$[]"](0))["$start_with?"](a.const_get_relative(y,"RS"))))return g["$[]"](v(1,-1,!1));h=h["$[]"](1);g=u(h.$split("&gt;"),"map",[],(e=function(a){null==a&&(a=c);return a.$strip()},e.$$s=b,e.$$arity=1,e));e=a.to_ary(g);h=null==e[0]?c:e[0];f=k.call(e,1);g;g=f.$pop();return a.const_get_relative(y,
"Inline").$new(b,"menu",c,d(["attributes"],{attributes:d(["menu","submenus","menuitem"],{menu:h,submenus:f,menuitem:g})})).$convert()},m.$$s=this,m.$$arity=0,m))));t(t(e=Oa=this.document.$extensions())?Oa["$inline_macros?"]():e)&&u(Oa.$inline_macros(),"each",[],(n=function(b){var e=n.$$s||this,g;null==b&&(b=c);return sa=u(sa,"gsub",[b.$instance().$regexp()],(g=function(){var e=g.$$s||this,h,f=c,k=f=c,m=c,n=c,f=c;null==l["~"]&&(l["~"]=c);f=l["~"];if(t(f["$[]"](0)["$start_with?"](a.const_get_relative(y,
"RS"))))return f["$[]"](0)["$[]"](v(1,-1,!1));var M;a:{try{M=f.$names();break a}catch(q){if(a.rescue(q,[a.const_get_relative(y,"StandardError")]))try{M=[];break a}finally{a.pop_exception()}else throw q;}M=void 0}if(t(M["$empty?"]()))h=[f["$[]"](1),f["$[]"](2),b.$config()];else{var T;a:{try{T=f["$[]"]("target");break a}catch(q){if(a.rescue(q,[a.const_get_relative(y,"StandardError")]))try{T=c;break a}finally{a.pop_exception()}else throw q;}T=void 0}M=T;a:{try{h=f["$[]"]("content");break a}catch(q){if(a.rescue(q,
[a.const_get_relative(y,"StandardError")]))try{h=c;break a}finally{a.pop_exception()}else throw q;}h=void 0}h=[M,h,b.$config()]}f=h[0];k=h[1];m=h[2];h;n=t(n=m["$[]"]("default_attrs"))?n.$dup():d([],{});t(k["$nil_or_empty?"]())?t(t(h=k)?m["$[]"]("content_model")["$!="]("attributes"):h)&&(S=["text",k],u(n,"[]=",a.to_a(S)),S[p(S.length,1)]):(k=e.$unescape_bracketed_text(k),m["$[]"]("content_model")["$=="]("attributes")?e.$parse_attributes(k,t(h=m["$[]"]("pos_attrs"))?h:[],d(["sub_result","into"],{sub_result:!1,
into:n})):(S=["text",k],u(n,"[]=",a.to_a(S)),S[p(S.length,1)]));f=b.$process_method()["$[]"](e,t(h=f)?h:k,n);return t(a.const_get_relative(y,"Inline")["$==="](f))?f.$convert():f},g.$$s=e,g.$$arity=0,g))},n.$$s=this,n.$$arity=1,n));t(t(e=J)?t(g=sa["$include?"]("image:"))?g:sa["$include?"]("icon:"):e)&&(sa=u(sa,"gsub",[a.const_get_relative(y,"InlineImageMacroRx")],(q=function(){var b=q.$$s||this,e,g=c,h=c,f=h=c,k=c,g=c;null==b.document&&(b.document=c);null==l["~"]&&(l["~"]=c);g=l["~"];if(t((h=(e=l["~"])===
c?c:e["$[]"](0))["$start_with?"](a.const_get_relative(y,"RS"))))return h["$[]"](v(1,-1,!1));e=t(h["$start_with?"]("icon:"))?["icon",["size"]]:["image",["alt","width","height"]];h=e[0];f=e[1];e;t((k=g["$[]"](1))["$include?"](a.const_get_relative(y,"ATTR_REF_HEAD")))&&(k=b.$sub_attributes(k));h["$=="]("icon")||b.document.$register("images",k);g=b.$parse_attributes(g["$[]"](2),f,d(["unescape_input"],{unescape_input:!0}));t(e=g["$[]"]("alt"))?e:(S=["alt",(S=["default-alt",a.const_get_relative(y,"Helpers").$basename(k,
!0).$tr("_-"," ")],u(g,"[]=",a.to_a(S)),S[p(S.length,1)])],u(g,"[]=",a.to_a(S)),S[p(S.length,1)]);return a.const_get_relative(y,"Inline").$new(b,"image",c,d(["type","target","attributes"],{type:h,target:k,attributes:g})).$convert()},q.$$s=this,q.$$arity=0,q)));t(t(e=t(g=sa["$include?"]("(("))?sa["$include?"]("))"):g)?e:t(g=T)?sa["$include?"]("indexterm"):g)&&(sa=u(sa,"gsub",[a.const_get_relative(y,"InlineIndextermMacroRx")],(A=function(){var b=A.$$s||this,e,g=c,h=c,f=c,k=c,m=c,n=c,M=c,q=c;null==b.document&&
(b.document=c);null==l["~"]&&(l["~"]=c);g=l["~"];return t(g["$[]"](0)["$start_with?"](a.const_get_relative(y,"RS")))?g["$[]"](0)["$[]"](v(1,-1,!1)):function(){h=g["$[]"](1);if("indexterm"["$==="](h))return f=b.$split_simple_csv(b.$normalize_string(g["$[]"](2),!0)),b.document.$register("indexterms",f),a.const_get_relative(y,"Inline").$new(b,"indexterm",c,d(["attributes"],{attributes:d(["terms"],{terms:f})})).$convert();if("indexterm2"["$==="](h))return k=b.$normalize_string(g["$[]"](2),!0),b.document.$register("indexterms",
[k]),a.const_get_relative(y,"Inline").$new(b,"indexterm",k,d(["type"],{type:"visible"})).$convert();e=[g["$[]"](3),!0,c,c];m=e[0];n=e[1];M=e[2];q=e[3];e;t(m["$start_with?"]("("))?(t(m["$end_with?"](")"))?(e=[m.$slice(1,p(m.$length(),2)),!1],m=e[0],n=e[1]):(e=[m.$slice(1,p(m.$length(),1)),"(",""],m=e[0],M=e[1],q=e[2]),e):t(m["$end_with?"](")"))&&(t(m["$start_with?"]("("))?(e=[m.$slice(1,p(m.$length(),2)),!1],m=e[0],n=e[1]):(e=[m.$slice(0,p(m.$length(),1)),"",")"],m=e[0],M=e[1],q=e[2]),e);t(n)?(k=b.$normalize_string(m),
b.document.$register("indexterms",[k]),sa=a.const_get_relative(y,"Inline").$new(b,"indexterm",k,d(["type"],{type:"visible"})).$convert()):(f=b.$split_simple_csv(b.$normalize_string(m)),b.document.$register("indexterms",f),sa=a.const_get_relative(y,"Inline").$new(b,"indexterm",c,d(["attributes"],{attributes:d(["terms"],{terms:f})})).$convert());return t(M)?""+M+sa+q:sa}()},A.$$s=this,A.$$arity=0,A)));t(t(e=ya)?sa["$include?"]("://"):e)&&(sa=u(sa,"gsub",[a.const_get_relative(y,"LinkInlineRx")],(E=function(){var b=
E.$$s||this,e,g,h,f=c,k=c,m=c,n=c,q=c,T=c,k=f=f=c;null==b.document&&(b.document=c);null==l["~"]&&(l["~"]=c);f=l["~"];if(t(f["$[]"](2)["$start_with?"](a.const_get_relative(y,"RS"))))return""+f["$[]"](1)+f["$[]"](2)["$[]"](v(1,-1,!1))+f["$[]"](3);e=[f["$[]"](1),f["$[]"](2),t(g=k=f["$[]"](3))?g:"",""];m=e[0];n=e[1];q=e[2];T=e[3];e;if(m["$=="]("link:"))if(t(k))m="";else return f["$[]"](0);t(t(e=k)?e:a.const_get_relative(y,"UriTerminatorRx")["$!~"](n))||(f=(e=l["~"])===c?c:e["$[]"](0),")"["$==="](f)?(n=
n.$chop(),T=")"):";"["$==="](f)?t(t(e=m["$start_with?"]("&lt;"))?n["$end_with?"]("&gt;"):e)?(m=m["$[]"](v(4,-1,!1)),n=n["$[]"](v(0,-4,!0))):t((n=n.$chop())["$end_with?"](")"))?(n=n.$chop(),T=");"):T=";":":"["$==="](f)&&(t((n=n.$chop())["$end_with?"](")"))?(n=n.$chop(),T="):"):T=":"));e=[c,d(["type"],{type:"link"})];f=e[0];k=e[1];e;t(q["$empty?"]())||(t(q["$include?"](a.const_get_relative(y,"R_SB")))&&(q=q.$gsub(a.const_get_relative(y,"ESC_R_SB"),a.const_get_relative(y,"R_SB"))),t(t(e=Ma)?t(g=q["$start_with?"]('"'))?
g:t(h=q["$include?"](","))?q["$include?"]("="):h:e)&&(f=b.$parse_attributes(q,[]),t(f["$key?"]("id"))&&(S=["id",f.$delete("id")],u(k,"[]=",a.to_a(S)),S[p(S.length,1)]),q=t(e=f["$[]"](1))?e:""),t(q["$end_with?"]("^"))&&(q=q.$chop(),t(f)?t(e=f["$[]"]("window"))?e:(S=["window","_blank"],u(f,"[]=",a.to_a(S)),S[p(S.length,1)]):f=d(["window"],{window:"_blank"})));t(q["$empty?"]())&&(q=t(M["$key?"]("hide-uri-scheme"))?n.$sub(a.const_get_relative(y,"UriSniffRx"),""):n,t(f)?(S=["role",t(f["$key?"]("role"))?
"bare "+f["$[]"]("role"):"bare"],u(f,"[]=",a.to_a(S)),S[p(S.length,1)]):f=d(["role"],{role:"bare"}));b.document.$register("links",(S=["target",n],u(k,"[]=",a.to_a(S)),S[p(S.length,1)]));t(f)&&(S=["attributes",f],u(k,"[]=",a.to_a(S)),S[p(S.length,1)]);return""+m+a.const_get_relative(y,"Inline").$new(b,"anchor",q,k).$convert()+T},E.$$s=this,E.$$arity=0,E)));t(t(e=J)?t(g=sa["$include?"]("link:"))?g:sa["$include?"]("mailto:"):e)&&(sa=u(sa,"gsub",[a.const_get_relative(y,"InlineLinkMacroRx")],(D=function(){var b=
D.$$s||this,e,g,h,f,k=c,m=c,n=c,q=c,T=c,F=c;null==b.document&&(b.document=c);null==l["~"]&&(l["~"]=c);k=l["~"];if(t(k["$[]"](0)["$start_with?"](a.const_get_relative(y,"RS"))))return k["$[]"](0)["$[]"](v(1,-1,!1));m=t(n=k["$[]"](1))?"mailto:"+k["$[]"](2):k["$[]"](2);e=[c,d(["type"],{type:"link"})];q=e[0];T=e[1];e;t((F=k["$[]"](3))["$empty?"]())||(t(F["$include?"](a.const_get_relative(y,"R_SB")))&&(F=F.$gsub(a.const_get_relative(y,"ESC_R_SB"),a.const_get_relative(y,"R_SB"))),t(t(e=Ma)?t(g=F["$start_with?"]('"'))?
g:t(h=F["$include?"](","))?t(f=n)?f:F["$include?"]("="):h:e)&&(q=b.$parse_attributes(F,[]),t(q["$key?"]("id"))&&(S=["id",q.$delete("id")],u(T,"[]=",a.to_a(S)),S[p(S.length,1)]),t(n)&&t(q["$key?"](2))&&(m=t(q["$key?"](3))?""+m+"?subject="+a.const_get_relative(y,"Helpers").$uri_encode(q["$[]"](2))+"&amp;body="+a.const_get_relative(y,"Helpers").$uri_encode(q["$[]"](3)):""+m+"?subject="+a.const_get_relative(y,"Helpers").$uri_encode(q["$[]"](2))),F=t(e=q["$[]"](1))?e:""),t(F["$end_with?"]("^"))&&(F=F.$chop(),
t(q)?t(e=q["$[]"]("window"))?e:(S=["window","_blank"],u(q,"[]=",a.to_a(S)),S[p(S.length,1)]):q=d(["window"],{window:"_blank"})));t(F["$empty?"]())&&(t(n)?F=k["$[]"](2):(F=t(M["$key?"]("hide-uri-scheme"))?m.$sub(a.const_get_relative(y,"UriSniffRx"),""):m,t(q)?(S=["role",t(q["$key?"]("role"))?"bare "+q["$[]"]("role"):"bare"],u(q,"[]=",a.to_a(S)),S[p(S.length,1)]):q=d(["role"],{role:"bare"})));b.document.$register("links",(S=["target",m],u(T,"[]=",a.to_a(S)),S[p(S.length,1)]));t(q)&&(S=["attributes",
q],u(T,"[]=",a.to_a(S)),S[p(S.length,1)]);return a.const_get_relative(y,"Inline").$new(b,"anchor",F,T).$convert()},D.$$s=this,D.$$arity=0,D)));t(sa["$include?"]("@"))&&(sa=u(sa,"gsub",[a.const_get_relative(y,"EmailInlineRx")],(x=function(){var b=x.$$s||this,e,g,h=c,f=c;e=c;null==b.document&&(b.document=c);e=[(g=l["~"])===c?c:g["$[]"](0),(g=l["~"])===c?c:g["$[]"](1)];h=e[0];f=e[1];e;if(t(f))return f["$=="](a.const_get_relative(y,"RS"))?h["$[]"](v(1,-1,!1)):h;e="mailto:"+h;b.document.$register("links",
e);return a.const_get_relative(y,"Inline").$new(b,"anchor",h,d(["type","target"],{type:"link",target:e})).$convert()},x.$$s=this,x.$$arity=0,x)));t(t(e=T)?sa["$include?"]("footnote"):e)&&(sa=u(sa,"gsub",[a.const_get_relative(y,"InlineFootnoteMacroRx")],(F=function(){var b=F.$$s||this,e,g,h,f=e=c,k=g=e=c,p=c;e=c;null==b.document&&(b.document=c);null==l["~"]&&(l["~"]=c);e=l["~"];if(t(e["$[]"](0)["$start_with?"](a.const_get_relative(y,"RS"))))return e["$[]"](0)["$[]"](v(1,-1,!1));e["$[]"](1)["$=="]("footnote")?
(f=c,e=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(e["$[]"](2),!0))),!1),g=b.document.$counter("footnote-number"),b.document.$register("footnotes",a.const_get_qualified(a.const_get_relative(y,"Document"),"Footnote").$new(g,f,e)),p=k=c):(g=e["$[]"](2).$split(",",2),e=a.to_ary(g),f=null==e[0]?c:e[0],e=null==e[1]?c:e[1],g,f=f.$strip(),t(e)?(e=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(e,!0))),!1),g=b.document.$counter("footnote-number"),
b.document.$register("footnotes",a.const_get_qualified(a.const_get_relative(y,"Document"),"Footnote").$new(g,f,e)),k="ref",p=c):(t(e=u(b.document.$footnotes(),"find",[],(h=function(a){null==a&&(a=c);return a.$id()["$=="](f)},h.$$s=b,h.$$arity=1,h)))?(g=e.$index(),e=e.$text()):(g=c,e=f),p=f,f=c,k="xref"));return a.const_get_relative(y,"Inline").$new(b,"footnote",e,d(["attributes","id","target","type"],{attributes:d(["index"],{index:g}),id:f,target:p,type:k})).$convert()},F.$$s=this,F.$$arity=0,F)));
return this.$sub_inline_xrefs(this.$sub_inline_anchors(sa,xa),xa)},O.$$arity=1);a.def(x,"$sub_inline_anchors",W=function(b,e){var g,h,f,k,p;null==this.context&&(this.context=c);null==this.parent&&(this.parent=c);null==e&&(e=c);t((g=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(b=u(b,"sub",[a.const_get_relative(y,"InlineBiblioAnchorRx")],(h=function(){var b=h.$$s||this,e,g;return a.const_get_relative(y,"Inline").$new(b,"anchor","["+
(t(e=(g=l["~"])===c?c:g["$[]"](2))?e:(g=l["~"])===c?c:g["$[]"](1))+"]",d(["type","id","target"],{type:"bibref",id:(e=l["~"])===c?c:e["$[]"](1),target:(e=l["~"])===c?c:e["$[]"](1)})).$convert()},h.$$s=this,h.$$arity=0,h)));t(t(g=t(f=t(k=e["$!"]())?k:e["$[]"]("square_bracket"))?b["$include?"]("[["):f)?g:t(f=t(k=e["$!"]())?k:e["$[]"]("macroish"))?b["$include?"]("or:"):f)&&(b=u(b,"gsub",[a.const_get_relative(y,"InlineAnchorRx")],(p=function(){var b=p.$$s||this,e,g,h=c,f=c;if(t((e=l["~"])===c?c:e["$[]"](1)))return((e=
l["~"])===c?c:e["$[]"](0)).$slice(1,((e=l["~"])===c?c:e["$[]"](0)).$length());t(h=(e=l["~"])===c?c:e["$[]"](2))?f=(e=l["~"])===c?c:e["$[]"](3):(h=(e=l["~"])===c?c:e["$[]"](4),t(t(e=f=(g=l["~"])===c?c:g["$[]"](5))?f["$include?"](a.const_get_relative(y,"R_SB")):e)&&(f=f.$gsub(a.const_get_relative(y,"ESC_R_SB"),a.const_get_relative(y,"R_SB"))));return a.const_get_relative(y,"Inline").$new(b,"anchor",f,d(["type","id","target"],{type:"ref",id:h,target:h})).$convert()},p.$$s=this,p.$$arity=0,p)));return b},
W.$$arity=-2);a.def(x,"$sub_inline_xrefs",da=function(e,h){var f,k,m;null==h&&(h=c);t(t(f=t(k=t(h)?h["$[]"]("macroish"):e["$include?"]("["))?e["$include?"]("xref:"):k)?f:t(k=e["$include?"]("&"))?e["$include?"]("&lt;&lt;"):k)&&(e=u(e,"gsub",[a.const_get_relative(y,"InlineXrefMacroRx")],(m=function(){var e=m.$$s||this,h,f,k=c,n=c,q=c,u=k=c,F=k=n=c,A=c,E=A=c;null==e.document&&(e.document=c);null==l["~"]&&(l["~"]=c);null==l.VERBOSE&&(l.VERBOSE=c);k=l["~"];if(t(k["$[]"](0)["$start_with?"](a.const_get_relative(y,
"RS"))))return k["$[]"](0)["$[]"](v(1,-1,!1));t(n=k["$[]"](1))?(f=n.$split(",",2),h=a.to_ary(f),n=null==h[0]?c:h[0],q=null==h[1]?c:h[1],f,t(q)&&(q=q.$lstrip())):(n=k["$[]"](2),t(t(h=q=k["$[]"](3))?q["$include?"](a.const_get_relative(y,"R_SB")):h)&&(q=q.$gsub(a.const_get_relative(y,"ESC_R_SB"),a.const_get_relative(y,"R_SB"))));t(k=n.$index("#"))?t(r(k,0))?(h=t(r(u=p(p(n.$length(),k),1),0))?[n.$slice(0,k),n.$slice(b(k,1),u)]:[n.$slice(0,k),c],n=h[0],k=h[1]):(h=[n,c,n.$slice(1,n.$length())],F=h[0],n=
h[1],k=h[2]):(h=[c,n],n=h[0],k=h[1]);h;t(F)?A=k:t(n)?(t(t(h=A=n.$rindex("."))?a.const_get_relative(y,"ASCIIDOC_EXTENSIONS")["$[]"](n.$slice(A,n.$length())):h)&&(n=n.$slice(0,A)),t(t(h=e.document.$attributes()["$[]"]("docname")["$=="](n))?h:e.document.$catalog()["$[]"]("includes")["$include?"](n))?(h=[k,c,"#"+k],A=h[0],n=h[1],F=h[2],h):(A=t(k)?""+n+"#"+k:n,n=""+e.document.$attributes()["$[]"]("relfileprefix")+n+e.document.$attributes().$fetch("outfilesuffix",".html"),F=t(k)?""+n+"#"+k:n)):(t(e.document.$catalog()["$[]"]("ids")["$key?"](k))||
(t(t(h=t(f=k["$include?"](" "))?f:k.$downcase()["$!="](k))?E=e.document.$catalog()["$[]"]("ids").$key(k):h)?k=E:t(l.VERBOSE)&&e.$warn("asciidoctor: WARNING: invalid reference: "+k)),h=[k,"#"+k],A=h[0],F=h[1],h);return a.const_get_relative(y,"Inline").$new(e,"anchor",q,d(["type","target","attributes"],{type:"xref",target:F,attributes:d(["path","fragment","refid"],{path:n,fragment:k,refid:A})})).$convert()},m.$$s=this,m.$$arity=0,m)));return e},da.$$arity=-2);a.def(x,"$sub_callouts",I=function(b){var e,
g=c,g=t(this["$attr?"]("line-comment"))?new RegExp("(?:"+a.const_get_qualified("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+a.const_get_relative(y,"CalloutSourceRxt")):a.const_get_relative(y,"CalloutSourceRx");return u(b,"gsub",[g],(e=function(){var b=e.$$s||this,g;null==b.document&&(b.document=c);return t((g=l["~"])===c?c:g["$[]"](1))?((g=l["~"])===c?c:g["$[]"](0)).$sub(a.const_get_relative(y,"RS"),""):a.const_get_relative(y,"Inline").$new(b,"callout",(g=l["~"])===c?c:g["$[]"](3),d(["id"],
{id:b.document.$callouts().$read_next_id()})).$convert()},e.$$s=this,e.$$arity=0,e))},I.$$arity=1);a.def(x,"$sub_post_replacements",pa=function(b){var e,g,h,f=c,k=c;null==this.document&&(this.document=c);null==this.attributes&&(this.attributes=c);if(t(t(e=this.document.$attributes()["$key?"]("hardbreaks"))?e:this.attributes["$key?"]("hardbreaks-option"))){f=b.$split(a.const_get_relative(y,"LF"),-1);if(t(q(f.$size(),2)))return b;k=f.$pop();return m(u(f,"map",[],(g=function(b){var e=g.$$s||this;null==
b&&(b=c);return a.const_get_relative(y,"Inline").$new(e,"break",t(b["$end_with?"](a.const_get_relative(y,"HARD_LINE_BREAK")))?b.$slice(0,p(b.$length(),2)):b,d(["type"],{type:"line"})).$convert()},g.$$s=this,g.$$arity=1,g))["$<<"](k),a.const_get_relative(y,"LF"))}return t(t(e=b["$include?"](a.const_get_relative(y,"PLUS")))?b["$include?"](a.const_get_relative(y,"HARD_LINE_BREAK")):e)?u(b,"gsub",[a.const_get_relative(y,"HardLineBreakRx")],(h=function(){var b=h.$$s||this,e;return a.const_get_relative(y,
"Inline").$new(b,"break",(e=l["~"])===c?c:e["$[]"](1),d(["type"],{type:"line"})).$convert()},h.$$s=this,h.$$arity=0,h)):b},pa.$$arity=1);a.def(x,"$convert_quoted_text",ea=function(b,e,g){var h=c,f=c,k=c,l=c,p=c;if(t(b["$[]"](0)["$start_with?"](a.const_get_relative(y,"RS"))))if(t(g["$=="]("constrained")?h=b["$[]"](2):g["$=="]("constrained")))f="["+h+"]";else return b["$[]"](0)["$[]"](v(1,-1,!1));if(g["$=="]("constrained")){if(t(f))return""+f+a.const_get_relative(y,"Inline").$new(this,"quoted",b["$[]"](3),
d(["type"],{type:e})).$convert();t(k=b["$[]"](2))&&(l=(p=this.$parse_quoted_text_attributes(k)).$delete("id"),e["$=="]("mark")&&(e="unquoted"));return""+b["$[]"](1)+a.const_get_relative(y,"Inline").$new(this,"quoted",b["$[]"](3),d(["type","id","attributes"],{type:e,id:l,attributes:p})).$convert()}t(k=b["$[]"](1))&&(l=(p=this.$parse_quoted_text_attributes(k)).$delete("id"),e["$=="]("mark")&&(e="unquoted"));return a.const_get_relative(y,"Inline").$new(this,"quoted",b["$[]"](2),d(["type","id","attributes"],
{type:e,id:l,attributes:p})).$convert()},ea.$$arity=3);a.def(x,"$parse_quoted_text_attributes",Z=function(b){var e,g=c,h=c,f=c,h=f=g=c;t(b["$include?"](a.const_get_relative(y,"ATTR_REF_HEAD")))&&(b=this.$sub_attributes(b));t(b["$include?"](","))&&(b=b.$slice(0,b.$index(",")));return t((b=b.$strip())["$empty?"]())?d([],{}):t(t(e=b["$start_with?"](".","#"))?a.const_get_relative(y,"Compliance").$shorthand_property_syntax():e)?(g=b.$split("#",2),t(r(g.$size(),1))?(b=g["$[]"](1).$split("."),e=a.to_ary(b),
h=null==e[0]?c:e[0],f=k.call(e,1),b):(h=c,f=[]),g=t(g["$[]"](0)["$empty?"]())?[]:g["$[]"](0).$split("."),t(r(g.$size(),1))&&g.$shift(),t(r(f.$size(),0))&&g.$concat(f),f=d([],{}),t(h)&&(h=["id",h],u(f,"[]=",a.to_a(h)),h[p(h.length,1)]),t(g["$empty?"]())||(h=["role",m(g," ")],u(f,"[]=",a.to_a(h)),h[p(h.length,1)]),f):d(["role"],{role:b})},Z.$$arity=1);a.def(x,"$parse_attributes",fa=function(b,e,g){var h,f=c,k=c;null==this.document&&(this.document=c);null==e&&(e=["role"]);null==g&&(g=d([],{}));if(!t(b))return c;
if(t(b["$empty?"]()))return d([],{});t(t(h=g["$[]"]("sub_input"))?b["$include?"](a.const_get_relative(y,"ATTR_REF_HEAD")):h)&&(b=this.document.$sub_attributes(b));t(g["$[]"]("unescape_input"))&&(b=this.$unescape_bracketed_text(b));f=t(g.$fetch("sub_result",!0))?this:c;return t(k=g["$[]"]("into"))?a.const_get_relative(y,"AttributeList").$new(b,f).$parse_into(k,e):a.const_get_relative(y,"AttributeList").$new(b,f).$parse(e)},fa.$$arity=-2);a.def(x,"$unescape_bracketed_text",K=function(b){t(b["$empty?"]())||
t((b=b.$strip().$tr(a.const_get_relative(y,"LF")," "))["$include?"](a.const_get_relative(y,"R_SB")))&&(b=b.$gsub(a.const_get_relative(y,"ESC_R_SB"),a.const_get_relative(y,"R_SB")));return b},K.$$arity=1);a.def(x,"$normalize_string",ka=function(b,c){var d;null==c&&(c=!1);t(b["$empty?"]())||(b=b.$strip().$tr(a.const_get_relative(y,"LF")," "),t(t(d=c)?b["$include?"](a.const_get_relative(y,"R_SB")):d)&&(b=b.$gsub(a.const_get_relative(y,"ESC_R_SB"),a.const_get_relative(y,"R_SB"))));return b},ka.$$arity=
-2);a.def(x,"$unescape_brackets",oa=function(b){t(b["$empty?"]())||t(b["$include?"](a.const_get_relative(y,"RS")))&&(b=b.$gsub(a.const_get_relative(y,"ESC_R_SB"),a.const_get_relative(y,"R_SB")));return b},oa.$$arity=1);a.def(x,"$split_simple_csv",aa=function(a){var b,d,e=c,g=c,h=c;t(a["$empty?"]())?e=[]:t(a["$include?"]('"'))?(e=[],g=[],h=!1,u(a,"each_char",[],(b=function(a){var b=c;null==a&&(a=c);return function(){b=a;if(","["$==="](b)){if(t(h))return g["$<<"](a);e["$<<"](g.$join().$strip());return g=
[]}return'"'["$==="](b)?h=h["$!"]():g["$<<"](a)}()},b.$$s=this,b.$$arity=1,b)),e["$<<"](g.$join().$strip())):e=u(a.$split(","),"map",[],(d=function(a){null==a&&(a=c);return a.$strip()},d.$$s=this,d.$$arity=1,d));return e},aa.$$arity=1);a.def(x,"$resolve_subs",ia=function(d,e,h,f){var k,l=c,n=c,q=c,A=c;null==e&&(e="block");null==h&&(h=c);null==f&&(f=c);if(t(d["$nil_or_empty?"]()))return[];l=c;t(d["$include?"](" "))&&(d=d.$delete(" "));n=a.const_get_relative(y,"SubModifierSniffRx")["$match?"](d);u(d.$split(","),
"each",[],(k=function(d){var f,k,m=c,q=f=c,r=q=c,m=c;null==d&&(d=c);m=c;t(n)&&((f=d.$chr())["$=="]("+")?(m="append",d=d["$[]"](v(1,-1,!1))):f["$=="]("-")?(m="remove",d=d["$[]"](v(1,-1,!1))):t(d["$end_with?"]("+"))&&(m="prepend",d=d.$chop()));d=d.$to_sym();t((f=e["$=="]("inline"))?t(k=d["$=="]("verbatim"))?k:d["$=="]("v"):e["$=="]("inline"))?q=a.const_get_relative(y,"BASIC_SUBS"):t(a.const_get_relative(y,"SUB_GROUPS")["$key?"](d))?q=a.const_get_relative(y,"SUB_GROUPS")["$[]"](d):t(t(f=e["$=="]("inline")?
d.$length()["$=="](1):e["$=="]("inline"))?a.const_get_relative(y,"SUB_HINTS")["$key?"](d):f)?(q=a.const_get_relative(y,"SUB_HINTS")["$[]"](d),q=t(r=a.const_get_relative(y,"SUB_GROUPS")["$[]"](q))?r:[q]):q=[d];if(t(m))return l=t(f=l)?f:t(h)?h.$dup():[],"append"["$==="](m)?l=b(l,q):"prepend"["$==="](m)?l=b(q,l):"remove"["$==="](m)?l=p(l,q):c;l=t(f=l)?f:[];return l=b(l,q)},k.$$s=this,k.$$arity=1,k));if(!t(l))return[];q=l["$&"](a.const_get_relative(y,"SUB_OPTIONS")["$[]"](e));t(p(l,q)["$empty?"]())||
(A=p(l,q),this.$warn("asciidoctor: WARNING: invalid substitution type"+(t(r(A.$size(),1))?"s":"")+(t(f)?" for ":c)+f+": "+m(A,", ")));return q},ia.$$arity=-2);a.def(x,"$resolve_block_subs",za=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},za.$$arity=3);a.def(x,"$resolve_pass_subs",qa=function(a){return this.$resolve_subs(a,"inline",c,"passthrough macro")},qa.$$arity=1);a.def(x,"$highlight_source",na=function(e,h,f){var k,n,q,r,A=c,E=c,x=c,v=c,H=c,F=c,xa=c,J=c,S=c,ya=c,T=A=c,M=c,Ma=c;null==
this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);null==f&&(f=c);A=f=t(k=f)?k:this.document.$attributes()["$[]"]("source-highlighter");"coderay"["$==="](A)?t(t(k=E=a.const_get_qualified("::","CodeRay","skip_raise")?"constant":c)?k:this.document.$attributes()["$[]"]("coderay-unavailable"))||(t(a.const_get_relative(y,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?this.document.$set_attr("coderay-unavailable"):E=!0):"pygments"["$==="](A)?t(t(k=E=a.const_get_qualified("::",
"Pygments","skip_raise")?"constant":c)?k:this.document.$attributes()["$[]"]("pygments-unavailable"))||(t(a.const_get_relative(y,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?this.document.$set_attr("pygments-unavailable"):E=!0):E=!1;if(!t(E))return this.$sub_source(e,h);x=0;v=!1;t(h)?(H=d([],{}),F=-1,xa=t(this["$attr?"]("line-comment"))?new RegExp("(?:"+a.const_get_qualified("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+a.const_get_relative(y,"CalloutExtractRxt")):
a.const_get_relative(y,"CalloutExtractRx"),e=m(u(e.$split(a.const_get_relative(y,"LF"),-1),"map",[],(n=function(d){var e=n.$$s||this,h;null==d&&(d=c);x=b(x,1);return u(d,"gsub",[xa],(h=function(){var b,d=c,e=c;null==l["~"]&&(l["~"]=c);d=l["~"];if(d["$[]"](1)["$=="](a.const_get_relative(y,"RS")))return d["$[]"](0).$sub(a.const_get_relative(y,"RS"),"");(t(b=H["$[]"](x))?b:(e=[x,[]],u(H,"[]=",a.to_a(e)),e[p(e.length,1)]))["$<<"](d["$[]"](3));F=x;return c},h.$$s=e,h.$$arity=0,h))},n.$$s=this,n.$$arity=
1,n)),a.const_get_relative(y,"LF")),v=F["$=="](x),t(H["$empty?"]())&&(H=c)):H=c;S=J=c;A=f;"coderay"["$==="](A)?(t(J=t(this["$attr?"]("linenums",c,!1))?(t(k=this.document.$attributes()["$[]"]("coderay-linenums-mode"))?k:"table").$to_sym():c)&&t(this["$attr?"]("highlight",c,!1))&&(S=this.$resolve_highlight_lines(this.$attr("highlight",c,!1))),ya=a.const_get_qualified(a.const_get_qualified("::","CodeRay"),"Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",d(["css","line_numbers","line_number_anchors",
"highlight_lines","bold_every"],{css:(t(k=this.document.$attributes()["$[]"]("coderay-css"))?k:"class").$to_sym(),line_numbers:J,line_number_anchors:!1,highlight_lines:S,bold_every:!1})).$highlight(e)):"pygments"["$==="](A)&&(A=t(k=a.const_get_qualified(a.const_get_qualified("::","Pygments"),"Lexer").$find_by_alias(this.$attr("language","text",!1)))?k:a.const_get_qualified(a.const_get_qualified("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),T=d(["cssclass","classprefix","nobackground",
"stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),A.$name()["$=="]("PHP")&&(M=["startinline",this["$option?"]("mixed")["$!"]()],u(T,"[]=",a.to_a(M)),M[p(M.length,1)]),(t(k=this.document.$attributes()["$[]"]("pygments-css"))?k:"class")["$=="]("class")||(M=["noclasses",!0],u(T,"[]=",a.to_a(M)),M[p(M.length,1)],M=["style",t(k=this.document.$attributes()["$[]"]("pygments-style"))?k:a.const_get_qualified(a.const_get_relative(y,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],u(T,"[]=",
a.to_a(M)),M[p(M.length,1)]),t(this["$attr?"]("highlight",c,!1))&&!t((S=this.$resolve_highlight_lines(this.$attr("highlight",c,!1)))["$empty?"]())&&(M=["hl_lines",m(S," ")],u(T,"[]=",a.to_a(M)),M[p(M.length,1)]),t(t(k=this["$attr?"]("linenums",c,!1))?(M=["linenos",t(q=this.document.$attributes()["$[]"]("pygments-linenums-mode"))?q:"table"],u(T,"[]=",a.to_a(M)),M[p(M.length,1)])["$=="]("table"):k)?(J="table",ya=A.$highlight(e,d(["options"],{options:T})).$sub(a.const_get_relative(y,"PygmentsWrapperDivRx"),
"\\1").$gsub(a.const_get_relative(y,"PygmentsWrapperPreRx"),"\\1")):t(a.const_get_relative(y,"PygmentsWrapperPreRx")["$=~"](ya=A.$highlight(e,d(["options"],{options:T}))))&&(ya=(k=l["~"])===c?c:k["$[]"](1)));t(this.passthroughs["$empty?"]())||(ya=ya.$gsub(a.const_get_relative(y,"HighlightedPassSlotRx"),""+a.const_get_relative(y,"PASS_START")+"\\1"+a.const_get_relative(y,"PASS_END")));return t(t(k=h)?H:k)?(x=0,Ma=J["$!="]("table"),m(u(ya.$split(a.const_get_relative(y,"LF"),-1),"map",[],(r=function(e){var h=
r.$$s||this,k,l,p,n=c,q=c,M=c,n=c;null==h.document&&(h.document=c);null==e&&(e=c);if(!t(Ma)){if(!t(e["$include?"]('<td class="code">')))return e;Ma=!0}x=b(x,1);if(t(n=H.$delete(x))){q=c;t(t(k=t(l=v)?H["$empty?"]():l)?J["$=="]("table"):k)&&(t((k=f["$=="]("coderay"))?M=e.$index("</pre>"):f["$=="]("coderay"))?(k=[e.$slice(0,M),e.$slice(M,e.$length())],e=k[0],q=k[1],k):t((k=f["$=="]("pygments"))?M=e["$start_with?"]("</td>"):f["$=="]("pygments"))&&(k=["",e],e=k[0],q=k[1],k));if(n.$size()["$=="](1))return""+
e+a.const_get_relative(y,"Inline").$new(h,"callout",n["$[]"](0),d(["id"],{id:h.document.$callouts().$read_next_id()})).$convert()+q;n=m(u(n,"map",[],(p=function(b){var e=p.$$s||this;null==e.document&&(e.document=c);null==b&&(b=c);return a.const_get_relative(y,"Inline").$new(e,"callout",b,d(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()},p.$$s=h,p.$$arity=1,p))," ");return""+e+n+q}return e},r.$$s=this,r.$$arity=1,r)),a.const_get_relative(y,"LF"))):ya},na.$$arity=-3);a.def(x,"$resolve_highlight_lines",
ra=function(b){var d,e=c,e=[];u((t(b["$include?"](" "))?b.$delete(" "):b).$split(a.const_get_relative(y,"DataDelimiterRx")),"map",[],(d=function(b){var d,g=c,h=c,h=d=c;null==b&&(b=c);g=!1;t(b["$start_with?"]("!"))&&(b=b["$[]"](v(1,-1,!1)),g=!0);return t(b["$include?"]("-"))?(b=b.$split("-",2),d=a.to_ary(b),h=null==d[0]?c:d[0],d=null==d[1]?c:d[1],b,h=a.Range.$new(h.$to_i(),d.$to_i(),!1).$to_a(),t(g)?e=p(e,h):e.$concat(h)):t(g)?e.$delete(b.$to_i()):e["$<<"](b.$to_i())},d.$$s=this,d.$$arity=1,d));return e.$sort().$uniq()},
ra.$$arity=1);a.def(x,"$sub_source",ta=function(a,b){return t(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},ta.$$arity=2);a.def(x,"$lock_in_subs",ua=function(){var b,d,e,g,h=c,f=h=c,k=c,h=c;null==this.default_subs&&(this.default_subs=c);null==this.content_model&&(this.content_model=c);null==this.context&&(this.context=c);null==this.subs&&(this.subs=c);null==this.attributes&&(this.attributes=c);null==this.style&&(this.style=c);null==this.document&&(this.document=c);if(!t(h=
this.default_subs))if(h=this.content_model,"simple"["$==="](h))h=a.const_get_relative(y,"NORMAL_SUBS");else if("verbatim"["$==="](h))h=t(t(b=this.context["$=="]("listing"))?b:(d=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))?a.const_get_relative(y,"VERBATIM_SUBS"):this.context["$=="]("verse")?a.const_get_relative(y,"NORMAL_SUBS"):a.const_get_relative(y,"BASIC_SUBS");else if("raw"["$==="](h))h=this.context["$=="]("stem")?a.const_get_relative(y,
"BASIC_SUBS"):a.const_get_relative(y,"NONE_SUBS");else return this.subs;this.subs=t(f=this.attributes["$[]"]("subs"))?this.$resolve_block_subs(f,h,this.context):h.$dup();t(t(b=t(d=t(e=t(g=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?this.attributes["$key?"]("language"):g)?this.document["$basebackend?"]("html"):e)?a.const_get_relative(y,"SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):d)?k=this.subs.$index("specialcharacters"):
b)&&(h=[k,"highlight"],u(this.subs,"[]=",a.to_a(h)),h[p(h.length,1)]);return this.subs},ua.$$arity=0)})(w[0],w)}(f[0],f)};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var p=[],q=a.nil,f=a.module,c=a.klass,k=a.truthy,e=a.hash2,d=a.send,h=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $converter $raise $attributes $nil? $[]= $- $delete $update $nil_or_empty? $split $include? $empty? $* $apply_reftext_subs $attr? $extname $image_uri $attr $< $safe $uriish? $uri_encode_spaces $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $encode64 $binread $require_library $! $open $content_type $read $base_dir $new $root? $join $system_path $web_path $=== $!= $normalize_lines_from_string $open_uri $fetch $read_asset $gsub".split(" "));
return function(p,u){var l=[f(p,"Asciidoctor")].concat(u);(function(f,$super,l){function p(){}f=p=c(f,$super,"AbstractNode",p);var t=f.$$proto,u=[f].concat(l),x,y,A,v,w,B,L,z,J,Q,R,V,C,N,O,Y,da,I,pa,ea,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta;t.document=t.attributes=t.parent=t.path_resolver=q;f.$include(a.const_get_relative(u,"Substitutors"));f.$attr_reader("parent");f.$attr_reader("document");f.$attr_reader("context");f.$attr_reader("node_name");f.$attr_accessor("id");f.$attr_reader("attributes");a.def(f,
"$initialize",x=function(a,b,c){null==c&&(c=e([],{}));b["$=="]("document")?(a=[this,q],this.document=a[0],this.parent=a[1],a):k(a)?(a=[a.$document(),a],this.document=a[0],this.parent=a[1],a):this.document=this.parent=q;this.node_name=(this.context=b).$to_s();this.attributes=k(c["$key?"]("attributes"))?c["$[]"]("attributes").$dup():e([],{});return this.passthroughs=e([],{})},x.$$arity=-3);a.def(f,"$parent=",y=function(a){a=[a,a.$document()];this.parent=a[0];this.document=a[1];a;return q},y.$$arity=
1);a.def(f,"$converter",A=function(){return this.document.$converter()},A.$$arity=0);a.def(f,"$block?",v=function(){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},v.$$arity=0);a.def(f,"$inline?",w=function(){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},w.$$arity=0);a.def(f,"$attr",B=function(a,b,c){var d,e;null==b&&(b=q);null==c&&(c=!0);a=a.$to_s();return k(d=this.attributes["$[]"](a))?d:k(k(e=c)?this.parent:e)?k(e=this.document.$attributes()["$[]"](a))?
e:b:b},B.$$arity=-2);a.def(f,"$attr?",L=function(a,b,c){var d,e,g;null==b&&(b=q);null==c&&(c=!0);a=a.$to_s();return k(b["$nil?"]())?k(d=this.attributes["$key?"](a))?d:k(e=k(g=c)?this.parent:g)?this.document.$attributes()["$key?"](a):e:b["$=="](k(d=this.attributes["$[]"](a))?d:k(k(e=c)?this.parent:e)?this.document.$attributes()["$[]"](a):q)},L.$$arity=-2);a.def(f,"$set_attr",z=function(c,e,h){var f=q;null==e&&(e="");null==h&&(h=!0);if(k(h["$=="](!1)?this.attributes["$key?"](c):h["$=="](!1)))return!1;
f=[c,e];d(this.attributes,"[]=",a.to_a(f));f[b(f.length,1)];return!0},z.$$arity=-2);a.def(f,"$remove_attr",J=function(a){return this.attributes.$delete(a)},J.$$arity=1);a.def(f,"$option?",Q=function(a){return this.attributes["$key?"](""+a+"-option")},Q.$$arity=1);a.def(f,"$set_option",R=function(c){var e=q,e=k(this.attributes["$key?"]("options"))?["options",""+this.attributes["$[]"]("options")+","+c]:["options",c];d(this.attributes,"[]=",a.to_a(e));e[b(e.length,1)];e=[""+c+"-option",""];d(this.attributes,
"[]=",a.to_a(e));return e[b(e.length,1)]},R.$$arity=1);a.def(f,"$update_attributes",V=function(a){this.attributes.$update(a);return q},V.$$arity=1);a.def(f,"$role",C=function(){var a;return k(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role")},C.$$arity=0);a.def(f,"$roles",N=function(){var a,b=q;return k((b=k(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:b.$split()},N.$$arity=0);a.def(f,"$role?",O=function(a){var b;
null==a&&(a=q);return k(a)?a["$=="](k(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role")):k(b=this.attributes["$key?"]("role"))?b:this.document.$attributes()["$key?"]("role")},O.$$arity=-1);a.def(f,"$has_role?",Y=function(a){var b,c=q;return k((c=k(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?!1:(" "+c+" ")["$include?"](" "+a+" ")},Y.$$arity=1);a.def(f,"$add_role",da=function(c){var e=q,e=q;if(k((e=this.attributes["$[]"]("role"))["$nil_or_empty?"]()))return e=
["role",c],d(this.attributes,"[]=",a.to_a(e)),e[b(e.length,1)],!0;if(k((" "+e+" ")["$include?"](" "+c+" ")))return!1;e=["role",""+e+" "+c];d(this.attributes,"[]=",a.to_a(e));e[b(e.length,1)];return!0},da.$$arity=1);a.def(f,"$remove_role",I=function(c){var e=q,e=q;return k((e=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?!1:k((e=e.$split()).$delete(c))?(k(e["$empty?"]())?this.attributes.$delete("role"):(e=["role",m(e," ")],d(this.attributes,"[]=",a.to_a(e)),e[b(e.length,1)]),!0):!1},I.$$arity=
1);a.def(f,"$reftext",pa=function(){var a=q;return k(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):q},pa.$$arity=0);a.def(f,"$reftext?",ea=function(){return this.attributes["$key?"]("reftext")},ea.$$arity=0);a.def(f,"$icon_uri",Z=function(b){var c=q;return k(this["$attr?"]("icon"))?k(a.const_get_qualified("::","File").$extname(c=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())?""+c+"."+this.document.$attr("icontype","png"):c:this.$image_uri(""+b+"."+this.document.$attr("icontype",
"png"),"iconsdir")},Z.$$arity=1);a.def(f,"$image_uri",fa=function(b,c){var d,e,g,h,f=q,l=q;null==c&&(c="imagesdir");return k(k(d=r((f=this.document).$safe(),a.const_get_qualified(a.const_get_relative(u,"SafeMode"),"SECURE")))?f["$attr?"]("data-uri"):d)?k(k(d=k(e=a.const_get_relative(u,"Helpers")["$uriish?"](b))?b=this.$uri_encode_spaces(b):e)?d:k(e=k(g=k(h=c)?l=f.$attr(c):h)?a.const_get_relative(u,"Helpers")["$uriish?"](l):g)?b=this.$normalize_web_path(b,l,!1):e)?k(f["$attr?"]("allow-uri-read"))?
this.$generate_data_uri_from_uri(b,f["$attr?"]("cache-uri")):b:this.$generate_data_uri(b,c):this.$normalize_web_path(b,k(c)?f.$attr(c):q)},fa.$$arity=-2);a.def(f,"$media_uri",K=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,k(b)?this.document.$attr(b):q)},K.$$arity=-2);a.def(f,"$generate_data_uri",ka=function(b,c){var d=q,g=d=q;null==c&&(c=q);d=a.const_get_qualified("::","File").$extname(b);d=d["$=="](".svg")?"image/svg+xml":"image/"+d["$[]"](h(1,-1,!1));g=k(c)?this.$normalize_system_path(b,
this.document.$attr(c),q,e(["target_name"],{target_name:"image"})):this.$normalize_system_path(b);return k(a.const_get_qualified("::","File")["$readable?"](g))?"data:"+d+";base64,"+a.const_get_qualified("::","Base64").$encode64(a.const_get_qualified("::","IO").$binread(g)).$delete(a.const_get_relative(u,"LF")):(this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+g),"data:"+d+";base64,")},ka.$$arity=-2);a.def(f,"$generate_data_uri_from_uri",oa=function(b,c){var e,g=q,h=q;
null==c&&(c=!1);k(c)?a.const_get_relative(u,"Helpers").$require_library("open-uri/cached","open-uri-cached"):k(a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&a.const_get_qualified("::","OpenURI");try{return g=q,h=d(this,"open",[b,"rb"],(e=function(a){null==a&&(a=q);g=a.$content_type();return a.$read()},e.$$s=this,e.$$arity=1,e)),"data:"+g+";base64,"+a.const_get_qualified("::","Base64").$encode64(h).$delete(a.const_get_relative(u,"LF"))}catch(f){if(a.rescue(f,[a.const_get_relative(u,"StandardError")]))try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+
b),b}finally{a.pop_exception()}else throw f;}},oa.$$arity=-2);a.def(f,"$normalize_asset_path",aa=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),q,e(["target_name","recover"],{target_name:b,recover:c}))},aa.$$arity=-2);a.def(f,"$normalize_system_path",ia=function(b,c,d,g){var h,f=q,l=q;null==c&&(c=q);null==d&&(d=q);null==g&&(g=e([],{}));f=this.path_resolver=k(h=this.path_resolver)?h:a.const_get_relative(u,"PathResolver").$new();k(r((l=
this.document).$safe(),a.const_get_qualified(a.const_get_relative(u,"SafeMode"),"SAFE")))?k(c)?k(f["$root?"](c))||(c=a.const_get_qualified("::","File").$join(l.$base_dir(),c)):c=l.$base_dir():(k(c)||(c=l.$base_dir()),k(d)||(d=l.$base_dir()));return f.$system_path(b,c,d,g)},ia.$$arity=-2);a.def(f,"$normalize_web_path",za=function(b,c,d){var e;null==c&&(c=q);null==d&&(d=!0);return k(k(e=d)?a.const_get_relative(u,"Helpers")["$uriish?"](b):e)?this.$uri_encode_spaces(b):(this.path_resolver=k(e=this.path_resolver)?
e:a.const_get_relative(u,"PathResolver").$new()).$web_path(b,c)},za.$$arity=-2);a.def(f,"$read_asset",qa=function(b,c){var d;null==c&&(c=e([],{}));k(a.const_get_qualified("::","Hash")["$==="](c))||(c=e(["warn_on_failure"],{warn_on_failure:c["$!="](!1)}));return k(a.const_get_qualified("::","File")["$readable?"](b))?k(c["$[]"]("normalize"))?m(a.const_get_relative(u,"Helpers").$normalize_lines_from_string(a.const_get_qualified("::","IO").$read(b)),a.const_get_relative(u,"LF")):a.const_get_qualified("::",
"IO").$read(b):k(c["$[]"]("warn_on_failure"))?this.$warn("asciidoctor: WARNING: "+(k(d=this.$attr("docfile"))?d:"<stdin>")+": "+(k(d=c["$[]"]("label"))?d:"file")+" does not exist or cannot be read: "+b):q},qa.$$arity=-2);a.def(f,"$read_contents",na=function(b,c){var g,h,f,l,p=q,t=q,r=q;null==c&&(c=e([],{}));p=this.document;if(k(k(g=a.const_get_relative(u,"Helpers")["$uriish?"](b))?g:k(h=k(f=t=c["$[]"]("start"))?a.const_get_relative(u,"Helpers")["$uriish?"](t):f)?b=(this.path_resolver=k(f=this.path_resolver)?
f:a.const_get_relative(u,"PathResolver").$new()).$web_path(b,t):h))if(k(p["$attr?"]("allow-uri-read"))){k(p["$attr?"]("cache-uri"))&&a.const_get_relative(u,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{r=d(a.const_get_qualified("::","OpenURI"),"open_uri",[b],(l=function(a){null==a&&(a=q);return a.$read()},l.$$s=this,l.$$arity=1,l)),k(c["$[]"]("normalize"))&&(r=m(a.const_get_relative(u,"Helpers").$normalize_lines_from_string(r),a.const_get_relative(u,"LF")))}catch(y){if(a.rescue(y,
[a.const_get_relative(u,"StandardError")]))try{k(c.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(k(g=c["$[]"]("label"))?g:"asset")+" at URI: "+b),r=q}finally{a.pop_exception()}else throw y;}}else k(c.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(k(g=c["$[]"]("label"))?g:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),r=q;else b=this.$normalize_system_path(b,c["$[]"]("start"),q,
e(["target_name"],{target_name:k(g=c["$[]"]("label"))?g:"asset"})),r=this.$read_asset(b,e(["normalize","warn_on_failure","label"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0),label:c["$[]"]("label")}));return r},na.$$arity=-2);a.def(f,"$uri_encode_spaces",ra=function(a){return k(a["$include?"](" "))?a.$gsub(" ","%20"):a},ra.$$arity=1);return(a.def(f,"$is_uri?",ta=function(b){return a.const_get_relative(u,"Helpers")["$uriish?"](b)},ta.$$arity=1),q)&&"is_uri?"})(l[0],
null,l)}(p[0],p)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var p=[],q=a.nil,f=a.module,c=a.klass,k=a.send,e=a.truthy,d=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $apply_title_subs $[] $title $sub_specialchars $match? $sub_replacements $reftext $! $empty? $=== $sprintf $sub_quotes $compat_mode $attributes $chomp $<< $select $context $> $has_role? $header? $concat $find_by $to_proc $each $flatten $blocks $parent $+ $find_index $next_adjacent_block $delete $increment_and_store_counter $index= $- $numbered $sectname $counter $number= $number $caption= $enumerate_section $reindex_sections".split(" "));
return function(h,p){var u=[f(h,"Asciidoctor")].concat(p);(function(h,$super,f){function p(){}h=p=c(h,$super,"AbstractBlock",p);var t=h.$$proto,u=[h].concat(f),x,v,y,A,w,B,z,L,C,J,Q,R,V,ba,N,O,Y,da,I,pa,ea,Z,fa,K,ka,oa,aa;t.document=t.attributes=t.blocks=t.source_location=t.subs=t.title=t.title_converted=t.converted_title=t.context=t.caption=t.number=t.next_section_index=t.style=t.id=t.header=t.next_section_number=q;h.$attr_accessor("content_model");h.$attr_reader("subs");h.$attr_reader("blocks");
h.$attr_accessor("level");h.$attr_accessor("style");h.$attr_writer("caption");h.$attr_accessor("number");h.$attr_accessor("source_location");a.def(h,"$initialize",x=function(b,c,g){var h=x.$$p,f=q,l=q,p=q;null==g&&(g=d([],{}));h&&(x.$$p=null);l=0;p=arguments.length;for(f=Array(p);l<p;l++)f[l]=arguments[l];k(this,a.find_super_dispatcher(this,"initialize",x,!1),f,h);this.content_model="compound";this.blocks=[];this.subs=[];this.id=this.title=this.title_converted=this.caption=this.number=this.style=
this.default_subs=this.source_location=q;c["$=="]("document")?this.level=0:e(e(b)?c["$!="]("section"):b)?this.level=b.$level():this.level=q;this.next_section_index=0;return this.next_section_number=1},x.$$arity=-3);a.def(h,"$block?",v=function(){return!0},v.$$arity=0);a.def(h,"$inline?",y=function(){return!1},y.$$arity=0);a.def(h,"$context=",A=function(a){this.context=a;return this.node_name=a.$to_s()},A.$$arity=1);a.def(h,"$convert",w=function(){this.document.$playback_attributes(this.attributes);
return this.$converter().$convert(this)},w.$$arity=0);a.alias(h,"render","convert");a.def(h,"$content",B=function(){var c;return b(k(this.blocks,"map",[],(c=function(a){null==a&&(a=q);return a.$convert()},c.$$s=this,c.$$arity=1,c)),a.const_get_relative(u,"LF"))},B.$$arity=0);a.def(h,"$file",z=function(){return e(this.source_location)?this.source_location.$file():q},z.$$arity=0);a.def(h,"$lineno",L=function(){return e(this.source_location)?this.source_location.$lineno():q},L.$$arity=0);a.def(h,"$sub?",
C=function(a){return this.subs["$include?"](a)},C.$$arity=1);a.def(h,"$title?",J=function(){return e(this.title)?!0:!1},J.$$arity=0);a.def(h,"$title",Q=function(){var a,b;return e(this.title_converted)?this.converted_title:this.converted_title=e(a=e(b=this.title_converted=!0)?this.title:b)?this.$apply_title_subs(this.title):a},Q.$$arity=0);a.def(h,"$title=",R=function(a){var b;return b=[a,q],this.title=b[0],this.title_converted=b[1],b},R.$$arity=1);a.def(h,"$caption",V=function(){return this.context["$=="]("admonition")?
this.attributes["$[]"]("textlabel"):this.caption},V.$$arity=0);a.def(h,"$captioned_title",ba=function(){return""+this.caption+this.$title()},ba.$$arity=0);a.def(h,"$alt",N=function(){var b=q;if(e(b=this.attributes["$[]"]("alt"))){if(b["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(b);b=this.$sub_specialchars(b);return e(a.const_get_relative(u,"ReplaceableTextRx")["$match?"](b))?this.$sub_replacements(b):b}return q},N.$$arity=0);a.def(h,"$xreftext",O=function(a){var b,
c,d=q,g=q,h=g=q;null==a&&(a=q);e(e(b=d=this.$reftext())?d["$empty?"]()["$!"]():b)?b=d:(e(e(b=e(c=a)?this.title:c)?this.caption:b)?(g=a,"full"["$==="](g)?(g=this.$sprintf(this.$sub_quotes(e(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=e(e(b=this.number)?h=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):b)?""+h+" "+this.number+", "+g:""+this.caption.$chomp(". ")+", "+g):a="short"["$==="](g)?e(e(b=this.number)?h=this.document.$attributes()["$[]"](this.context["$=="]("image")?
"figure-caption":""+this.context+"-caption"):b)?""+h+" "+this.number:this.caption.$chomp(". "):this.$title()):a=this.$title(),b=a);return b},O.$$arity=-1);a.def(h,"$blocks?",Y=function(){return this.blocks["$empty?"]()["$!"]()},Y.$$arity=0);a.def(h,"$<<",da=function(a){this.blocks["$<<"](a);return this},da.$$arity=1);a.alias(h,"append","<<");a.def(h,"$sections",I=function(){var a;return k(this.blocks,"select",[],(a=function(a){null==a&&(a=q);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=
1,a))},I.$$arity=0);a.def(h,"$sections?",pa=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},pa.$$arity=0);a.def(h,"$find_by",ea=function(b){var c,g,h,f,l,p,m=ea.$$p,t=m||q,n=q,r=q,y=q,u=q,A=q,x=q;null==b&&(b=d([],{}));m&&(ea.$$p=null);n=[];if(e(e(c=e(g=e(h=e(f=r=(y=b["$[]"]("context"))["$!"]())?f:y["$=="](this.context))?e(f=(u=b["$[]"]("style"))["$!"]())?f:u["$=="](this.style):h)?e(h=(A=b["$[]"]("role"))["$!"]())?h:this["$has_role?"](A):g)?e(g=(x=b["$[]"]("id"))["$!"]())?
g:x["$=="](this.id):c)){if(e(x))return t!==q?e(a.yield1(t,this))?[this]:n:[this];if(t!==q){if(e(a.yield1(t,this)))n["$<<"](this)}else n["$<<"](this)}e(e(c=(g=this.context["$=="]("document"))?e(h=r)?h:y["$=="]("section"):this.context["$=="]("document"))?this["$header?"]():c)&&n.$concat(k(this.header,"find_by",[b],t.$to_proc()));y["$=="]("document")||(this.context["$=="]("dlist")?e(e(c=r)?c:y["$!="]("section"))&&k(this.blocks.$flatten(),"each",[],(l=function(a){null==a&&(a=q);return e(a)?n.$concat(k(a,
"find_by",[b],t.$to_proc())):q},l.$$s=this,l.$$arity=1,l)):e(k(this.blocks,"each",[],(p=function(a){null==a&&(a=q);return e(y["$=="]("section")?a.$context()["$!="]("section"):y["$=="]("section"))?q:n.$concat(k(a,"find_by",[b],t.$to_proc()))},p.$$s=this,p.$$arity=1,p))));return n},ea.$$arity=-1);a.alias(h,"query","find_by");a.def(h,"$next_adjacent_block",Z=function(){var a=q,b=q;return this.context["$=="]("document")?q:e(a=(b=this.$parent()).$blocks()["$[]"](m(b.$blocks().$find_index(this),1)))?a:
b.$next_adjacent_block()},Z.$$arity=0);a.def(h,"$remove_sub",fa=function(a){this.subs.$delete(a);return q},fa.$$arity=1);a.def(h,"$assign_caption",K=function(a,b){var c,d,g=q;null==a&&(a=q);null==b&&(b=q);!e(e(c=e(d=this.caption)?d:this.title["$!"]())?c:this.caption=e(d=a)?d:this.document.$attributes()["$[]"]("caption"))&&e(g=this.document.$attributes()["$[]"](""+(b=e(c=b)?c:this.context)+"-caption"))&&(this.caption=""+g+" "+(this.number=this.document.$increment_and_store_counter(""+b+"-number",this))+
". ");return q},K.$$arity=-1);a.def(h,"$enumerate_section",ka=function(b){var c=q,d=q,g=q;this.next_section_index=m((c=[this.next_section_index],k(b,"index=",a.to_a(c)),c[r(c.length,1)]),1);e(b.$numbered())&&((d=b.$sectname())["$=="]("appendix")?(c=[this.document.$counter("appendix-number","A")],k(b,"number=",a.to_a(c)),c[r(c.length,1)],c=e(g=this.document.$attributes()["$[]"]("appendix-caption"))?[""+g+" "+b.$number()+": "]:[""+b.$number()+". "],k(b,"caption=",a.to_a(c)),c[r(c.length,1)]):d["$=="]("chapter")?
(c=[this.document.$counter("chapter-number",1)],k(b,"number=",a.to_a(c)),c[r(c.length,1)]):this.next_section_number=m((c=[this.next_section_number],k(b,"number=",a.to_a(c)),c[r(c.length,1)]),1));return q},ka.$$arity=1);a.def(h,"$list_marker_keyword",oa=function(b){var c;null==b&&(b=q);return a.const_get_relative(u,"ORDERED_LIST_KEYWORDS")["$[]"](e(c=b)?c:this.style)},oa.$$arity=-1);return(a.def(h,"$reindex_sections",aa=function(){var a;this.next_section_index=0;this.next_section_number=1;return k(this.blocks,
"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=q);return b.$context()["$=="]("section")?(c.$enumerate_section(b),b.$reindex_sections()):q},a.$$s=this,a.$$arity=1,a))},aa.$$arity=0),q)&&"reindex_sections"})(u[0],a.const_get_relative(u,"AbstractNode"),u)}(p[0],p)};Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var r=[],p=a.nil,q=
a.module,f=a.klass,c=a.hash2,k=a.truthy,e=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $== $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $each $split $empty? $strip $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(d,h){var t=[q(d,"Asciidoctor")].concat(h);(function(d,$super,h){function t(){}d=t=f(d,$super,"AttributeList",t);var q=d.$$proto,
r=[d].concat(h),u,x,v,y,A,H,w,B,L,z,J,Q;q.attributes=q.scanner=q.delimiter=q.block=q.delimiter_skip_pattern=q.delimiter_boundary_pattern=p;a.const_set(r[0],"BACKSLASH","\\");a.const_set(r[0],"BoundaryRxs",c(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/}));a.const_set(r[0],"EscapedQuotes",c(['"',"'"],{'"':'\\"',"'":"\\'"}));a.const_set(r[0],"NameRx",new RegExp(""+a.const_get_relative(r,"CG_WORD")+"["+a.const_get_relative(r,"CC_WORD")+"\\-.]*"));a.const_set(r[0],"BlankRx",
/[ \t]+/);a.const_set(r[0],"SkipRxs",c(["blank",","],{blank:a.const_get_relative(r,"BlankRx"),",":/[ \t]*(,|$)/}));a.def(d,"$initialize",u=function(b,c,d){null==c&&(c=p);null==d&&(d=",");this.scanner=a.const_get_qualified("::","StringScanner").$new(b);this.block=c;this.delimiter=d;this.delimiter_skip_pattern=a.const_get_relative(r,"SkipRxs")["$[]"](d);this.delimiter_boundary_pattern=a.const_get_relative(r,"BoundaryRxs")["$[]"](d);return this.attributes=p},u.$$arity=-2);a.def(d,"$parse_into",x=function(a,
b){null==b&&(b=[]);return a.$update(this.$parse(b))},x.$$arity=-2);a.def(d,"$parse",v=function(a){var d=p;null==a&&(a=[]);if(k(this.attributes))return this.attributes;this.attributes=c([],{});for(d=0;k(this.$parse_attribute(d,a))&&!k(this.scanner["$eos?"]());)this.$skip_delimiter(),d=b(d,1);return this.attributes},v.$$arity=-1);a.def(d,"$rekey",y=function(b){return a.const_get_relative(r,"AttributeList").$rekey(this.attributes,b)},y.$$arity=1);a.defs(d,"$rekey",A=function(c,d){var h;e(d,"each_with_index",
[],(h=function(d,h){var f=p,f=f=p;null==d&&(d=p);null==h&&(h=p);if(!k(d))return p;f=b(h,1);return k(f=c["$[]"](f))?(f=[d,f],e(c,"[]=",a.to_a(f)),f[m(f.length,1)]):p},h.$$s=this,h.$$arity=2,h));return c},A.$$arity=2);a.def(d,"$parse_attribute",H=function(c,d){var h,f,t=p,n=p,q=n=p,r=p,y=p,n=t=n=r=p;null==c&&(c=0);null==d&&(d=[]);t=!1;this.$skip_blank();if((n=this.scanner.$peek(1))["$=="]('"'))n=this.$parse_attribute_value(this.scanner.$get_byte()),q=p;else if(n["$=="]("'"))n=this.$parse_attribute_value(this.scanner.$get_byte()),
q=p,t=!0;else{n=this.$scan_name();r=0;y=p;if(k(this.scanner["$eos?"]())){if(!k(n))return!1}else r=k(h=this.$skip_blank())?h:0,y=this.scanner.$get_byte();if(k(k(h=y["$!"]())?h:y["$=="](this.delimiter)))q=p;else if(k(k(h=y["$!="]("="))?h:n["$!"]()))n=""+n+" "["$*"](r)+y+this.$scan_to_delimiter(),q=p;else if(this.$skip_blank(),k(this.scanner.$peek(1)))if((y=this.scanner.$get_byte())["$=="]('"'))q=this.$parse_attribute_value(y);else if(y["$=="]("'"))q=this.$parse_attribute_value(y),t=!0;else if(y["$=="](this.delimiter))q=
p;else if(q=""+y+this.$scan_to_delimiter(),q["$=="]("None"))return!0}k(q)?(r=n,"options"["$==="](r)||"opts"["$==="](r)?(k(q["$include?"](","))?(k(q["$include?"](" "))&&(q=q.$delete(" ")),e(q.$split(","),"each",[],(f=function(b){var c=f.$$s||this,d=p;null==c.attributes&&(c.attributes=p);null==b&&(b=p);if(k(b["$empty?"]()))return p;d=[""+b+"-option",""];e(c.attributes,"[]=",a.to_a(d));return d[m(d.length,1)]},f.$$s=this,f.$$arity=1,f))):(n=[""+(q=q.$strip())+"-option",""],e(this.attributes,"[]=",a.to_a(n)),
n[m(n.length,1)]),n=["options",q]):k(k(h=t)?this.block:h)?(r=n,n="title"["$==="](r)||"reftext"["$==="](r)?[n,q]:[n,this.block.$apply_subs(q)]):n=[n,q]):(t=k(k(h=t)?this.block:h)?this.block.$apply_subs(n):n,k(n=d["$[]"](c))&&(n=[n,t],e(this.attributes,"[]=",a.to_a(n)),n[m(n.length,1)]),n=[b(c,1),t]);e(this.attributes,"[]=",a.to_a(n));n[m(n.length,1)];return!0},H.$$arity=-1);a.def(d,"$parse_attribute_value",w=function(b){var c=p;return this.scanner.$peek(1)["$=="](b)?(this.scanner.$get_byte(),""):k(c=
this.$scan_to_quote(b))?(this.scanner.$get_byte(),k(c["$include?"](a.const_get_relative(r,"BACKSLASH")))?c.$gsub(a.const_get_relative(r,"EscapedQuotes")["$[]"](b),b):c):""+b+this.$scan_to_delimiter()},w.$$arity=1);a.def(d,"$skip_blank",B=function(){return this.scanner.$skip(a.const_get_relative(r,"BlankRx"))},B.$$arity=0);a.def(d,"$skip_delimiter",L=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},L.$$arity=0);a.def(d,"$scan_name",z=function(){return this.scanner.$scan(a.const_get_relative(r,
"NameRx"))},z.$$arity=0);a.def(d,"$scan_to_delimiter",J=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},J.$$arity=0);return(a.def(d,"$scan_to_quote",Q=function(b){return this.scanner.$scan(a.const_get_relative(r,"BoundaryRxs")["$[]"](b))},Q.$$arity=1),p)&&"scan_to_quote"})(t[0],null,t)}(r[0],r)};Opal.modules["asciidoctor/block"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?
a*b:a["$*"](b)}var r=[],p=a.nil,q=a.module,f=a.klass,c=a.send,k=a.hash2,e=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(d,h){var t=[q(d,"Asciidoctor")].concat(h);(function(d,$super,h){function t(){}d=t=f(d,$super,"Block",t);var q=d.$$proto,r=[d].concat(h),u,x,v,y;h=p;q.attributes=q.content_model=
q.lines=q.subs=q.blocks=q.context=q.style=p;h=["simple"];c(a.const_set(r[0],"DEFAULT_CONTENT_MODEL",k("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(h));h[b(h.length,1)];a.alias(d,"blockname","context");d.$attr_accessor("lines");a.def(d,"$initialize",u=function(d,h,f){var t,m=u.$$p,
n=p,q=n=p,y=n=p,x=p;null==f&&(f=k([],{}));m&&(u.$$p=null);y=0;x=arguments.length;for(n=Array(x);y<x;y++)n[y]=arguments[y];c(this,a.find_super_dispatcher(this,"initialize",u,!1),n,m);this.content_model=e(t=f["$[]"]("content_model"))?t:a.const_get_relative(r,"DEFAULT_CONTENT_MODEL")["$[]"](h);e(f["$key?"]("subs"))?e(n=f["$[]"]("subs"))?(n["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):e(a.const_get_qualified("::","Array")["$==="](n))?(this.default_subs=n.$dup(),this.attributes.$delete("subs")):
(this.default_subs=p,n=["subs",""+n],c(this.attributes,"[]=",a.to_a(n)),n[b(n.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=p;return e((q=f["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:e(a.const_get_qualified("::","String")["$==="](q))?this.lines=a.const_get_relative(r,"Helpers").$normalize_lines_from_string(q):this.lines=q.$dup()},u.$$arity=-3);a.def(d,"$content",x=function(){var b,d=this,g=x.$$p,h=p,f=p,k=p,t=p,n=p,q=p,y=p;g&&
(x.$$p=null);q=0;y=arguments.length;for(n=Array(y);q<y;q++)n[q]=arguments[q];return function(){h=d.content_model;if("compound"["$==="](h))return c(d,a.find_super_dispatcher(d,"content",x,!1),n,g);if("simple"["$==="](h))return d.$apply_subs(m(d.lines,a.const_get_relative(r,"LF")),d.subs);if("verbatim"["$==="](h)||"raw"["$==="](h)){f=d.$apply_subs(d.lines,d.subs);var q;q=f.$size();q="number"===typeof q?2>q:q["$<"](2);if(e(q))return f["$[]"](0);for(;e(e(b=k=f["$[]"](0))?k.$rstrip()["$empty?"]():b);)f.$shift();
for(;e(e(b=t=f["$[]"](-1))?t.$rstrip()["$empty?"]():b);)f.$pop();return m(f,a.const_get_relative(r,"LF"))}d.content_model["$=="]("empty")||d.$warn("Unknown content model '"+d.content_model+"' for block: "+d.$to_s());return p}()},x.$$arity=0);a.def(d,"$source",v=function(){return m(this.lines,a.const_get_relative(r,"LF"))},v.$$arity=0);return(a.def(d,"$to_s",y=function(){var a=p,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+
"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},y.$$arity=0),p)&&"to_s"})(t[0],a.const_get_relative(t,"AbstractBlock"),t)}(r[0],r)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var r=[],p=a.nil,q=a.module,f=a.klass,c=a.hash2,k=a.truthy,
e=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(d,h){var t=[q(d,"Asciidoctor")].concat(h);(function(d,$super,h){function t(){}d=t=f(d,$super,"Callouts",t);var q=d.$$proto;[d].concat(h);var r,u,x,v,y,A,H,w,B;q.co_index=q.lists=q.list_index=p;a.def(d,"$initialize",r=function(){this.lists=[];this.list_index=0;return this.$next_list()},r.$$arity=0);a.def(d,"$register",u=function(a){var d=
p;this.$current_list()["$<<"](c(["ordinal","id"],{ordinal:a.$to_i(),id:d=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return d},u.$$arity=1);a.def(d,"$read_next_id",x=function(){var a=p,c=p,a=p,c=this.$current_list(),d;d=this.co_index;var e=c.$size();d="number"===typeof d&&"number"===typeof e?d<=e:d["$<="](e);k(d)&&(a=c["$[]"](m(this.co_index,1))["$[]"]("id"));this.co_index=b(this.co_index,1);return a},x.$$arity=0);a.def(d,"$callout_ids",v=function(a){var b;return e(this.$current_list(),
"map",[],(b=function(b){null==b&&(b=p);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":p},b.$$s=this,b.$$arity=1,b)).$join().$chop()},v.$$arity=1);a.def(d,"$current_list",y=function(){return this.lists["$[]"](m(this.list_index,1))},y.$$arity=0);a.def(d,"$next_list",A=function(){this.list_index=b(this.list_index,1);var a;a=this.lists.$size();var c=this.list_index;a="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(k(a))this.lists["$<<"]([]);this.co_index=1;return p},A.$$arity=0);
a.def(d,"$rewind",H=function(){this.co_index=this.list_index=1;return p},H.$$arity=0);a.def(d,"$generate_next_callout_id",w=function(){return this.$generate_callout_id(this.list_index,this.co_index)},w.$$arity=0);return(a.def(d,"$generate_callout_id",B=function(a,b){return"CO"+a+"-"+b},B.$$arity=2),p)&&"generate_callout_id"})(t[0],null,t)}(r[0],r)};Opal.modules["asciidoctor/converter/base"]=function(a){var b=[],m=a.nil,r=a.module,p=a.klass,q=a.hash2,f=a.truthy;a.add_stubs(["$include","$node_name",
"$empty?","$send","$content"]);return function(b,g){var e=[r(b,"Asciidoctor")].concat(g);(function(a,b){[r(a,"Converter")].concat(b);m})(e[0],e);(function(b,$super,c){function e(){}b=e=p(b,$super,"Base",e);c=[b].concat(c);return b.$include(a.const_get_relative(c,"Converter"))})(a.const_get_relative(e,"Converter"),null,e);(function(b,$super,c){function e(){}b=e=p(b,$super,"BuiltIn",e);[b].concat(c);var g,k,n,r;a.def(b,"$initialize",g=function(a,b){null==b&&q([],{});return m},g.$$arity=-2);a.def(b,
"$convert",k=function(a,b,c){var d;null==b&&(b=m);null==c&&(c=q([],{}));b=f(d=b)?d:a.$node_name();return f(c["$empty?"]())?this.$send(b,a):this.$send(b,a,c)},k.$$arity=-2);a.alias(b,"handles?","respond_to?");a.def(b,"$content",n=function(a){return a.$content()},n.$$arity=1);a.alias(b,"pass","content");return(a.def(b,"$skip",r=function(a){return m},r.$$arity=1),m)&&"skip"})(a.const_get_relative(e,"Converter"),null,e)}(b[0],b)};Opal.modules["asciidoctor/converter/factory"]=function(a){var b=[],m=a.nil,
r=a.module,p=a.klass,q=a.truthy,f=a.hash2,c=a.send;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $key?".split(" "));return function(b,e){var d=[r(b,"Asciidoctor")].concat(e);(function(b,d){var e=[r(b,"Converter")].concat(d);(function(b,$super,d){function e(){}b=e=p(b,$super,"Factory",e);var g=b.$$proto,h=[b].concat(d),k,t,r,u,x;g.converters=g.star_converter=m;b.__default__=m;(function(b,c){[b].concat(c);
var d,e,g,h,k,l;a.def(b,"$default",d=function(b){var c;null==this.__default__&&(this.__default__=m);null==b&&(b=!0);if(!q(b))return q(c=this.__default__)?c:this.$new();var d;if(q(c=this.__default__))d=c;else a:{try{q(a.const_get_qualified("::","ThreadSafe","skip_raise")?"constant":m)||this.$require("thread_safe".$to_s());d=this.$new(a.const_get_qualified(a.const_get_qualified("::","ThreadSafe"),"Cache").$new());break a}catch(e){if(a.rescue(e,[a.const_get_qualified("::","LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
d=this.$new();break a}finally{a.pop_exception()}else throw e;}d=void 0}return this.__default__=d},d.$$arity=-1);a.def(b,"$register",e=function(a,b){null==b&&(b=["*"]);return this.$default().$register(a,b)},e.$$arity=-2);a.def(b,"$resolve",g=function(a){return this.$default().$resolve(a)},g.$$arity=1);a.def(b,"$create",h=function(a,b){null==b&&(b=f([],{}));return this.$default().$create(a,b)},h.$$arity=-2);a.def(b,"$converters",k=function(){return this.$default().$converters()},k.$$arity=0);return(a.def(b,
"$unregister_all",l=function(){return this.$default().$unregister_all()},l.$$arity=0),m)&&"unregister_all"})(a.get_singleton_class(b),h);b.$attr_reader("converters");a.def(b,"$initialize",k=function(a){var b;null==a&&(a=m);this.converters=q(b=a)?b:f([],{});return this.star_converter=m},k.$$arity=-1);a.def(b,"$register",t=function(b,d){var e;null==d&&(d=["*"]);c(d,"each",[],(e=function(d){var g=e.$$s||this,h=m;null==g.converters&&(g.converters=m);null==d&&(d=m);h=[d,b];c(g.converters,"[]=",a.to_a(h));
var f=h,h=h.length,h="number"===typeof h?h-1:h["$-"](1);f[h];return d["$=="]("*")?g.star_converter=b:m},e.$$s=this,e.$$arity=1,e));return m},t.$$arity=-2);a.def(b,"$resolve",r=function(a){var b,c;return q(b=this.converters)?q(c=this.converters["$[]"](a))?c:this.star_converter:b},r.$$arity=1);a.def(b,"$unregister_all",u=function(){this.converters.$clear();return this.star_converter=m},u.$$arity=0);return(a.def(b,"$create",x=function(b,c){var d,e,g,k,l,p,t,n,r,y,u,x,A=this,v=m,H=v=m,w=m;null==c&&(c=
f([],{}));if(q(v=A.$resolve(b)))return q(a.const_get_qualified("::","Class")["$==="](v))?v.$new(b,c):v;v=function(){H=b;return"html5"["$==="](H)?(q((e=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(d=a.const_get_qualified(e,"Converter","skip_raise"))&&a.const_get_qualified(d,"Html5Converter","skip_raise")?"constant":m)||A.$require("asciidoctor/converter/html5".$to_s()),a.const_get_relative(h,"Html5Converter").$new(b,c)):"docbook5"["$==="](H)?(q((k=a.const_get_qualified("::","Asciidoctor",
"skip_raise"))&&(g=a.const_get_qualified(k,"Converter","skip_raise"))&&a.const_get_qualified(g,"DocBook5Converter","skip_raise")?"constant":m)||A.$require("asciidoctor/converter/docbook5".$to_s()),a.const_get_relative(h,"DocBook5Converter").$new(b,c)):"docbook45"["$==="](H)?(q((p=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(l=a.const_get_qualified(p,"Converter","skip_raise"))&&a.const_get_qualified(l,"DocBook45Converter","skip_raise")?"constant":m)||A.$require("asciidoctor/converter/docbook45".$to_s()),
a.const_get_relative(h,"DocBook45Converter").$new(b,c)):"manpage"["$==="](H)?(q((n=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(t=a.const_get_qualified(n,"Converter","skip_raise"))&&a.const_get_qualified(t,"ManPageConverter","skip_raise")?"constant":m)||A.$require("asciidoctor/converter/manpage".$to_s()),a.const_get_relative(h,"ManPageConverter").$new(b,c)):m}();if(!q(c["$key?"]("template_dirs")))return v;q((y=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(r=a.const_get_qualified(y,
"Converter","skip_raise"))&&a.const_get_qualified(r,"TemplateConverter","skip_raise")?"constant":m)||A.$require("asciidoctor/converter/template".$to_s());q((x=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(u=a.const_get_qualified(x,"Converter","skip_raise"))&&a.const_get_qualified(u,"CompositeConverter","skip_raise")?"constant":m)||A.$require("asciidoctor/converter/composite".$to_s());w=a.const_get_relative(h,"TemplateConverter").$new(b,c["$[]"]("template_dirs"),c);return a.const_get_relative(h,
"CompositeConverter").$new(b,w,v)},x.$$arity=-2),m)&&"create"})(e[0],null,e)})(d[0],d)}(b[0],b)};Opal.modules["asciidoctor/converter"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var m=a.top,r=[],p=a.nil,q=a.module,f=a.send,c=a.truthy,k=a.range,e=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $- $extend $include $respond_to? $write $chomp $require".split(" "));(function(d,h){var m=[q(d,
"Asciidoctor")].concat(h);(function(d,h){var m=q(d,"Converter"),t=[m].concat(h),r,u;(function(b,c){var d=q(b,"Config"),e=[d].concat(c),g;a.def(d,"$register_for",g=function(b){var c,d,g,h=p,h=arguments.length,k=h-0;0>k&&(k=0);g=Array(k);for(k=0;k<h;k++)g[k-0]=arguments[k];a.const_get_relative(e,"Factory").$register(this,g);h=function(a,b){[a].concat(b);return a}(a.get_singleton_class(this),e);g["$=="](["*"])?f(h,"send",["define_method","converts?"],(c=function(a){return!0},c.$$s=this,c.$$arity=1,c)):
f(h,"send",["define_method","converts?"],(d=function(a){null==a&&(a=p);return g["$include?"](a)},d.$$s=this,d.$$arity=1,d));return p},g.$$arity=-1)})(t[0],t);(function(d,h){var l=q(d,"BackendInfo"),m=[l].concat(h),t,n,r,u,x,v;a.def(l,"$backend_info",t=function(){var a;null==this.backend_info&&(this.backend_info=p);return this.backend_info=c(a=this.backend_info)?a:this.$setup_backend_info()},t.$$arity=0);a.def(l,"$setup_backend_info",n=function(){var b=p,d=p,g=p,h=p;null==this.backend&&(this.backend=
p);c(this.backend)||this.$raise(a.const_get_qualified("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class());b=this.backend.$sub(a.const_get_relative(m,"TrailingDigitsRx"),"");c(d=a.const_get_relative(m,"DEFAULT_EXTENSIONS")["$[]"](b))?g=d["$[]"](k(1,-1,!1)):(b="html",d=".html",h=g="html");return e(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:b,outfilesuffix:d,filetype:g,htmlsyntax:h})},n.$$arity=0);a.def(l,"$filetype",r=function(d){var e=p;null==d&&
(d=p);return c(d)?(e=["filetype",d],f(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("filetype")},r.$$arity=-1);a.def(l,"$basebackend",u=function(d){var e=p;null==d&&(d=p);return c(d)?(e=["basebackend",d],f(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},u.$$arity=-1);a.def(l,"$outfilesuffix",x=function(d){var e=p;null==d&&(d=p);return c(d)?(e=["outfilesuffix",d],f(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,
1)]):this.$backend_info()["$[]"]("outfilesuffix")},x.$$arity=-1);a.def(l,"$htmlsyntax",v=function(d){var e=p;null==d&&(d=p);return c(d)?(e=["htmlsyntax",d],f(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},v.$$arity=-1)})(t[0],t);(function(b,c){var d=[b].concat(c),e;return(a.def(b,"$included",e=function(b){return b.$extend(a.const_get_relative(d,"Config"))},e.$$arity=1),p)&&"included"})(a.get_singleton_class(m),t);m.$include(a.const_get_relative(t,
"Config"));m.$include(a.const_get_relative(t,"BackendInfo"));a.def(m,"$initialize",r=function(a,b){null==b&&e([],{});this.backend=a;return this.$setup_backend_info()},r.$$arity=-2);a.def(m,"$convert",u=function(b,c,d){null==d&&e([],{});return this.$raise(a.const_get_qualified("::","NotImplementedError"))},u.$$arity=-2);a.alias(m,"convert_with_options","convert")})(m[0],m);(function(b,d){var e=q(b,"Writer"),g=[e].concat(d),h;a.def(e,"$write",h=function(b,d){c(d["$respond_to?"]("write"))?(d.$write(b.$chomp()),
d.$write(a.const_get_relative(g,"LF"))):a.const_get_qualified("::","IO").$write(d,b);return p},h.$$arity=2)})(m[0],m);(function(b,c){var d=q(b,"VoidWriter"),e=[d].concat(c),g;d.$include(a.const_get_relative(e,"Writer"));a.def(d,"$write",g=function(a,b){return p},g.$$arity=2)})(m[0],m)})(r[0],r);m.$require("asciidoctor/converter/base");return m.$require("asciidoctor/converter/factory")};Opal.modules["asciidoctor/document"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?
a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var q=[],f=a.nil,c=a.module,k=a.klass,e=a.truthy,d=a.send,h=a.hash2,t=a.range,u=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $inject $catalog $== $callouts $dup $attributes $safe $compat_mode $sourcemap $converter $extensions $each $start_with? $end_with? $chop $downcase $=== $value_for_name $to_s $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $length $fetch $abs $to_i $delete_if $update_doctype_attributes $parse $restore_attributes $update_backend_attributes $utc $at $Integer $now $index $slice $strftime $year $join $create $to_proc $activate $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $value $save_to $chr $ord $source $source_lines $sectname= $title= $title $first_section $merge $find $context $enumerate_section $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $rewind $name $negate $limit_bytesize $apply_attribute_value_subs $delete? $=~ $apply_subs $resolve_pass_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $raise $backend $default $doctype $content_model $warn $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $map $split $resolve_docinfo_subs $& $normalize_system_path $read_asset $docinfo_processors? $compact $* $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(l,q){var n=[c(l,"Asciidoctor")].concat(q);(function(c,$super,l){function n(){}c=n=k(c,$super,"Document",n);var q=c.$$proto,y=[c].concat(l),x,v,w,B,z,C,J,Q,R,V,ba,N,O,ma,da,I,pa,ea,Z,fa,K,ka,oa,aa,ia,Ea,qa,na,ra,ta,ua,Ca,va,Ba,Fa,Ga,Ia,Aa,Ka,Ja,La,la,Ha,F;q.attributes=q.safe=q.reader=q.base_dir=q.parsed=q.parent_document=q.extensions=q.options=q.counters=q.catalog=q.header=q.blocks=q.attributes_modified=q.id=q.callouts=q.header_attributes=q.max_attribute_value_size=q.attribute_overrides=
q.backend=q.doctype=q.converter=q.outfilesuffix=q.docinfo_processor_extensions=q.document=f;a.const_set(y[0],"Footnote",a.const_get_qualified("::","Struct").$new("index","id","text"));(function(c,$super,h){function l(){}c=l=k(c,$super,"AttributeEntry",l);[c].concat(h);var m,t;c.$attr_reader("name","value","negate");a.def(c,"$initialize",m=function(a,b,c){null==c&&(c=f);this.name=a;this.value=b;return this.negate=e(c["$nil?"]())?b["$nil?"]():c},m.$$arity=-3);return(a.def(c,"$save_to",t=function(c){var h,
k=f;(e(h=c["$[]"]("attribute_entries"))?h:(k=["attribute_entries",[]],d(c,"[]=",a.to_a(k)),k[b(k.length,1)]))["$<<"](this);return this},t.$$arity=1),f)&&"save_to"})(y[0],null,y);(function(b,$super,c){function d(){}b=d=k(b,$super,"Title",d);var g=b.$$proto,l=[b].concat(c),m,t,p,n;g.sanitized=g.subtitle=g.combined=f;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",m=function(b,c){var d,g,k=f;null==c&&(c=h([],{}));e(e(d=this.sanitized=
c["$[]"]("sanitize"))?b["$include?"]("<"):d)&&(b=b.$gsub(a.const_get_relative(l,"XmlSanitizeRx"),"").$squeeze(" ").$strip());e(e(d=(k=e(g=c["$[]"]("separator"))?g:":")["$empty?"]())?d:b["$include?"](k=""+k+" ")["$!"]())?(this.main=b,this.subtitle=f):(g=b.$rpartition(k),d=a.to_ary(g),this.main=null==d[0]?f:d[0],this.subtitle=null==d[2]?f:d[2],g);return this.combined=b},m.$$arity=-2);a.def(b,"$sanitized?",t=function(){return this.sanitized},t.$$arity=0);a.def(b,"$subtitle?",p=function(){return e(this.subtitle)?
!0:!1},p.$$arity=0);return(a.def(b,"$to_s",n=function(){return this.combined},n.$$arity=0),f)&&"to_s"})(y[0],null,y);c.$attr_reader("safe");c.$attr_reader("compat_mode");c.$attr_reader("backend");c.$attr_reader("doctype");c.$attr_accessor("sourcemap");c.$attr_reader("catalog");a.alias(c,"references","catalog");c.$attr_reader("counters");c.$attr_reader("callouts");c.$attr_reader("header");c.$attr_reader("base_dir");c.$attr_reader("options");c.$attr_reader("outfilesuffix");c.$attr_reader("parent_document");
c.$attr_reader("reader");c.$attr_reader("converter");c.$attr_reader("extensions");a.def(c,"$initialize",x=function(c,k){var l,p,n,q,F,u,v,E=x.$$p,Da=f,G=f,w=f,J=f,B=f,z=B=f,K=f,C=z=f,L=z=z=f,ca=f,ha=ca=z=Da=f,R=f;null==c&&(c=f);null==k&&(k=h([],{}));E&&(x.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",x,!1),[this,"document"],null);if(e(Da=k.$delete("parent")))this.parent_document=Da,e(l=k["$[]"]("base_dir"))?l:(G=["base_dir",Da.$base_dir()],d(k,"[]=",a.to_a(G)),G[b(G.length,1)]),this.catalog=
d(Da.$catalog(),"inject",[h([],{})],(p=function(c,e){var h,k;null==e&&(e=f);e=a.to_ary(e);h=a.slice.call(e,0,e.length);k=h.splice(0,1)[0];null==k&&(k=f);h=h.splice(0,1)[0];null==h&&(h=f);null==c&&(c=f);G=[k,k["$=="]("footnotes")?[]:h];d(c,"[]=",a.to_a(G));G[b(G.length,1)];return c},p.$$s=this,p.$$arity=2,p.$$has_top_level_mlhs_arg=!0,p)),this.callouts=Da.$callouts(),this.attribute_overrides=w=Da.$attributes().$dup(),J=w.$delete("doctype"),w.$delete("compat-mode"),w.$delete("toc"),w.$delete("toc-placement"),
w.$delete("toc-position"),this.safe=Da.$safe(),e(this.compat_mode=Da.$compat_mode())&&(G=["compat-mode",""],d(this.attributes,"[]=",a.to_a(G)),G[b(G.length,1)]),this.sourcemap=Da.$sourcemap(),this.converter=Da.$converter(),B=!1,this.extensions=Da.$extensions();else{this.parent_document=f;this.catalog=h("ids refs footnotes links images indexterms includes".split(" "),{ids:h([],{}),refs:h([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.const_get_qualified("::","Set").$new()});this.callouts=
a.const_get_relative(y,"Callouts").$new();w=h([],{});d(e(l=k["$[]"]("attributes"))?l:h([],{}),"each",[],(n=function(c,h){null==c&&(c=f);null==h&&(h=f);e(c["$start_with?"]("!"))?(c=c["$[]"](t(1,-1,!1)),h=f):e(c["$end_with?"]("!"))&&(c=c.$chop(),h=f);G=[c.$downcase(),h];d(w,"[]=",a.to_a(G));return G[b(G.length,1)]},n.$$s=this,n.$$arity=2,n));this.attribute_overrides=w;if(e((B=k["$[]"]("safe"))["$!"]()))this.safe=a.const_get_qualified(a.const_get_relative(y,"SafeMode"),"SECURE");else if(e(a.const_get_qualified("::",
"Integer")["$==="](B)))this.safe=B;else try{this.safe=a.const_get_relative(y,"SafeMode").$value_for_name(B.$to_s())}catch(V){if(a.rescue(V,[a.const_get_relative(y,"StandardError")]))try{this.safe=a.const_get_qualified(a.const_get_relative(y,"SafeMode"),"SECURE")}finally{a.pop_exception()}else throw V;}this.compat_mode=w["$key?"]("compat-mode");this.sourcemap=k["$[]"]("sourcemap");this.converter=f;B=(q=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(l=a.const_get_qualified(q,"Extensions",
"skip_raise"))?"constant":f;this.extensions=f}this.parsed=!1;this.header=f;this.counters=h([],{});this.attributes_modified=a.const_get_qualified("::","Set").$new();this.docinfo_processor_extensions=h([],{});z=e(F=k["$[]"]("header_footer"))?F:(G=["header_footer",!1],d(k,"[]=",a.to_a(G)),G[b(G.length,1)]);(this.options=k).$freeze();K=this.attributes;G=["sectids",""];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["toc-placement","auto"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];e(z)?(G=["copycss",""],d(K,"[]=",
a.to_a(G)),G[b(G.length,1)],G=["embedded",f]):(G=["notitle",""],d(K,"[]=",a.to_a(G)),G[b(G.length,1)],G=["embedded",""]);d(w,"[]=",a.to_a(G));G[b(G.length,1)];G=["stylesheet",""];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["webfonts",""];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["prewrap",""];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["attribute-undefined",a.const_get_relative(y,"Compliance").$attribute_undefined()];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["attribute-missing",a.const_get_relative(y,"Compliance").$attribute_missing()];
d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["iconfont-remote",""];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["caution-caption","Caution"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["important-caption","Important"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["note-caption","Note"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["tip-caption","Tip"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["warning-caption","Warning"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["example-caption","Example"];d(K,"[]=",a.to_a(G));G[b(G.length,
1)];G=["figure-caption","Figure"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["table-caption","Table"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["toc-title","Table of Contents"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["manname-title","NAME"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["section-refsig","Section"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["chapter-refsig","Chapter"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["appendix-caption",(G=["appendix-refsig","Appendix"],d(K,"[]=",a.to_a(G)),G[b(G.length,
1)])];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["untitled-label","Untitled"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["version-label","Version"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["last-update-label","Last updated"];d(K,"[]=",a.to_a(G));G[b(G.length,1)];G=["asciidoctor",""];d(w,"[]=",a.to_a(G));G[b(G.length,1)];G=["asciidoctor-version",a.const_get_relative(y,"VERSION")];d(w,"[]=",a.to_a(G));G[b(G.length,1)];G=["safe-mode-name",z=a.const_get_relative(y,"SafeMode").$name_for_value(this.safe)];
d(w,"[]=",a.to_a(G));G[b(G.length,1)];G=["safe-mode-"+z,""];d(w,"[]=",a.to_a(G));G[b(G.length,1)];G=["safe-mode-level",this.safe];d(w,"[]=",a.to_a(G));G[b(G.length,1)];e(F=w["$[]"]("max-include-depth"))?F:(G=["max-include-depth",64],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]);e(F=w["$[]"]("allow-uri-read"))?F:(G=["allow-uri-read",f],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]);G=["user-home",a.const_get_relative(y,"USER_HOME")];d(w,"[]=",a.to_a(G));G[b(G.length,1)];e(w["$key?"]("numbered"))&&(G=["sectnums",
w.$delete("numbered")],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]);e(C=k["$[]"]("base_dir"))?this.base_dir=(G=["docdir",a.const_get_qualified("::","File").$expand_path(C)],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]):e(w["$[]"]("docdir"))?this.base_dir=w["$[]"]("docdir"):this.base_dir=(G=["docdir",a.const_get_qualified("::","Dir").$pwd()],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]);e(z=k["$[]"]("backend"))&&(G=["backend",""+z],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]);e(z=k["$[]"]("doctype"))&&(G=["doctype",""+z],d(w,
"[]=",a.to_a(G)),G[b(G.length,1)]);e(m(this.safe,a.const_get_qualified(a.const_get_relative(y,"SafeMode"),"SERVER")))&&(e(F=w["$[]"]("copycss"))?F:(G=["copycss",f],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]),e(F=w["$[]"]("source-highlighter"))?F:(G=["source-highlighter",f],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]),e(F=w["$[]"]("backend"))?F:(G=["backend",a.const_get_relative(y,"DEFAULT_BACKEND")],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]),e(e(F=Da["$!"]())?w["$key?"]("docfile"):F)&&(G=["docfile",w["$[]"]("docfile")["$[]"](a.Range.$new(r(w["$[]"]("docdir").$length(),
1),-1,!1))],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]),G=["docdir",""],d(w,"[]=",a.to_a(G)),G[b(G.length,1)],G=["user-home","."],d(w,"[]=",a.to_a(G)),G[b(G.length,1)],e(m(this.safe,a.const_get_qualified(a.const_get_relative(y,"SafeMode"),"SECURE")))&&(e(w["$key?"]("max-attribute-value-size"))||(G=["max-attribute-value-size",4096],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]),e(w.$fetch("linkcss","")["$nil?"]())||(G=["linkcss",""],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]),e(F=w["$[]"]("icons"))?F:(G=["icons",f],
d(w,"[]=",a.to_a(G)),G[b(G.length,1)])));this.max_attribute_value_size=e(L=e(F=w["$[]"]("max-attribute-value-size"))?F:(G=["max-attribute-value-size",f],d(w,"[]=",a.to_a(G)),G[b(G.length,1)]))?L.$to_i().$abs():f;d(w,"delete_if",[],(u=function(c,h){var k,l=f;null==c&&(c=f);null==h&&(h=f);l=!1;e(h["$nil?"]())?K.$delete(c):(e(e(k=a.const_get_qualified("::","String")["$==="](h))?h["$end_with?"]("@"):k)&&(h=h.$chop(),l=!0),G=[c,h],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]);return l},u.$$s=this,u.$$arity=2,
u));if(e(Da))return this.backend=K["$[]"]("backend"),(this.doctype=(G=["doctype",J],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]))["$=="](a.const_get_relative(y,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(a.const_get_relative(y,"DEFAULT_DOCTYPE")),this.reader=a.const_get_relative(y,"Reader").$new(c,k["$[]"]("cursor")),a.const_get_relative(y,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=f;(e(F=K["$[]"]("backend"))?F:(G=["backend",a.const_get_relative(y,
"DEFAULT_BACKEND")],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]))["$=="]("manpage")?this.doctype=(G=["doctype",(G=["doctype","manpage"],d(w,"[]=",a.to_a(G)),G[b(G.length,1)])],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]):this.doctype=e(F=K["$[]"]("doctype"))?F:(G=["doctype",a.const_get_relative(y,"DEFAULT_DOCTYPE")],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]);this.$update_backend_attributes(K["$[]"]("backend"),!0);ca=e(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?a.const_get_qualified("::","Time").$at(this.$Integer(a.const_get_qualified("::",
"ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():a.const_get_qualified("::","Time").$now();e(Da=K["$[]"]("localdate"))?z=e(F=K["$[]"]("localyear"))?F:(G=["localyear",Da.$index("-")["$=="](4)?Da.$slice(0,4):f],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]):(Da=(G=["localdate",ca.$strftime("%Y-%m-%d")],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]),z=e(F=K["$[]"]("localyear"))?F:(G=["localyear",ca.$year().$to_s()],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]));if(e(F=K["$[]"]("localtime")))l=F;else{var Q;a:{try{Q=ca.$strftime("%H:%M:%S %Z");
break a}catch(V){if(a.rescue(V,[a.const_get_relative(y,"StandardError")]))try{Q=ca.$strftime("%H:%M:%S %z");break a}finally{a.pop_exception()}else throw V;}Q=void 0}l=(G=["localtime",Q],d(K,"[]=",a.to_a(G)),G[b(G.length,1)])}ca=l;e(F=K["$[]"]("localdatetime"))?F:(G=["localdatetime",""+Da+" "+ca],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]);e(F=K["$[]"]("docdate"))?F:(G=["docdate",Da],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]);e(F=K["$[]"]("docyear"))?F:(G=["docyear",z],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]);
e(F=K["$[]"]("doctime"))?F:(G=["doctime",ca],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]);e(F=K["$[]"]("docdatetime"))?F:(G=["docdatetime",""+Da+" "+ca],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]);e(F=K["$[]"]("stylesdir"))?F:(G=["stylesdir","."],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]);e(F=K["$[]"]("iconsdir"))?F:(G=["iconsdir",a.const_get_qualified("::","File").$join(K.$fetch("imagesdir","./images"),"icons")],d(K,"[]=",a.to_a(G)),G[b(G.length,1)]);e(B)&&(e(ha=k["$[]"]("extension_registry"))?e(e(F=a.const_get_qualified(a.const_get_relative(y,
"Extensions"),"Registry")["$==="](ha))?F:e(v=a.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?a.const_get_qualified(a.const_get_qualified(a.const_get_qualified("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](ha):v)||(ha=a.const_get_qualified(a.const_get_relative(y,"Extensions"),"Registry").$new()):ha=e(a.const_get_qualified("::","Proc")["$==="](R=k["$[]"]("extensions")))?d(a.const_get_relative(y,"Extensions"),"create",[],R.$to_proc()):a.const_get_qualified(a.const_get_relative(y,"Extensions"),
"Registry").$new(),this.extensions=ha.$activate(this));return this.reader=a.const_get_relative(y,"PreprocessorReader").$new(this,c,a.const_get_qualified(a.const_get_relative(y,"Reader"),"Cursor").$new(K["$[]"]("docfile"),this.base_dir),h(["normalize"],{normalize:!0}))},x.$$arity=-1);a.def(c,"$parse",v=function(b){var c,g,k,l=f,m=f;null==b&&(b=f);if(e(this.parsed))return this;l=this;e(b)&&(this.reader=a.const_get_relative(y,"PreprocessorReader").$new(l,b,a.const_get_qualified(a.const_get_relative(y,
"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),h(["normalize"],{normalize:!0})));e(e(c=m=e(this.parent_document)?f:this.extensions)?m["$preprocessors?"]():c)&&d(m.$preprocessors(),"each",[],(g=function(a){var b=g.$$s||this,c;null==b.reader&&(b.reader=f);null==a&&(a=f);return b.reader=e(c=a.$process_method()["$[]"](l,b.reader))?c:b.reader},g.$$s=this,g.$$arity=1,g));a.const_get_relative(y,"Parser").$parse(this.reader,l,h(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));
this.$restore_attributes();e(e(c=m)?m["$tree_processors?"]():c)&&d(m.$tree_processors(),"each",[],(k=function(b){var c,d,g=f;null==b&&(b=f);return e(e(c=e(d=g=b.$process_method()["$[]"](l))?a.const_get_relative(y,"Document")["$==="](g):d)?g["$!="](l):c)?l=g:f},k.$$s=this,k.$$arity=1,k));this.parsed=!0;return l},v.$$arity=-1);a.def(c,"$counter",w=function(c,h){var k,l=f,m=f,p=f;null==h&&(h=f);if(e(this.parent_document))return this.parent_document.$counter(c,h);p=e(e(k=l=(m=this.attributes["$[]"](c))["$nil_or_empty?"]()["$!"]())?
this.counters["$key?"](c):k)?[c,(p=[c,this.$nextval(m)],d(this.counters,"[]=",a.to_a(p)),p[b(p.length,1)])]:e(h)?[c,(p=[c,h["$=="](h.$to_i().$to_s())?h.$to_i():h],d(this.counters,"[]=",a.to_a(p)),p[b(p.length,1)])]:[c,(p=[c,this.$nextval(e(l)?m:0)],d(this.counters,"[]=",a.to_a(p)),p[b(p.length,1)])];d(this.attributes,"[]=",a.to_a(p));return p[b(p.length,1)]},w.$$arity=-2);a.def(c,"$increment_and_store_counter",B=function(b,c){return a.const_get_relative(y,"AttributeEntry").$new(b,this.$counter(b)).$save_to(c.$attributes()).$value()},
B.$$arity=2);a.alias(c,"counter_increment","increment_and_store_counter");a.def(c,"$nextval",z=function(b){var c=f;if(e(a.const_get_qualified("::","Integer")["$==="](b)))return r(b,1);c=b.$to_i();return e(c.$to_s()["$!="](b.$to_s()))?r(b["$[]"](0).$ord(),1).$chr():r(c,1)},z.$$arity=1);a.def(c,"$register",C=function(c,h){var k,l,m=this,p=f,t=f,n=f,q=f,F=f,u=f,y=f;return function(){p=c;if("ids"["$==="](p))return l=h,k=a.to_ary(l),t=null==k[0]?f:k[0],n=null==k[1]?f:k[1],l,q=m.catalog["$[]"]("ids"),e(k=
q["$[]"](t))?k:(F=[t,e(l=n)?l:r(r("[",t),"]")],d(q,"[]=",a.to_a(F)),F[b(F.length,1)]);if("refs"["$==="](p)){l=h;k=a.to_ary(l);t=null==k[0]?f:k[0];u=null==k[1]?f:k[1];n=null==k[2]?f:k[2];l;if(e((y=m.catalog["$[]"]("refs"))["$key?"](t)))return f;F=[t,e(k=n)?k:r(r("[",t),"]")];d(m.catalog["$[]"]("ids"),"[]=",a.to_a(F));F[b(F.length,1)];F=[t,u];d(y,"[]=",a.to_a(F));return F[b(F.length,1)]}return"footnotes"["$==="](p)||"indexterms"["$==="](p)?m.catalog["$[]"](c)["$<<"](h):e(m.options["$[]"]("catalog_assets"))?
m.catalog["$[]"](c)["$<<"](h):f}()},C.$$arity=2);a.def(c,"$footnotes?",J=function(){return e(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},J.$$arity=0);a.def(c,"$footnotes",Q=function(){return this.catalog["$[]"]("footnotes")},Q.$$arity=0);a.def(c,"$nested?",R=function(){return e(this.parent_document)?!0:!1},R.$$arity=0);a.def(c,"$embedded?",V=function(){return this.attributes["$key?"]("embedded")},V.$$arity=0);a.def(c,"$extensions?",ba=function(){return e(this.extensions)?!0:!1},ba.$$arity=
0);a.def(c,"$source",N=function(){return e(this.reader)?this.reader.$source():f},N.$$arity=0);a.def(c,"$source_lines",O=function(){return e(this.reader)?this.reader.$source_lines():f},O.$$arity=0);a.def(c,"$basebackend?",ma=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},ma.$$arity=1);a.def(c,"$title",da=function(){return this.attributes["$[]"]("title")},da.$$arity=0);a.def(c,"$title=",I=function(c){var h=f,k=f;e(h=this.header)||(k=["header"],d(h=this.header=a.const_get_relative(y,
"Section").$new(this,0,!1),"sectname=",a.to_a(k)),k[b(k.length,1)]);k=[c];d(h,"title=",a.to_a(k));return k[b(k.length,1)]},I.$$arity=1);a.def(c,"$doctitle",pa=function(b){var c,d=f,g=f,k=f;null==b&&(b=h([],{}));if(e((d=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))d=this.$title();else if(e(g=this.$first_section()))d=g.$title();else if(!e(e(c=b["$[]"]("use_fallback"))?d=this.attributes["$[]"]("untitled-label"):c))return f;return e(k=b["$[]"]("partition"))?a.const_get_relative(y,"Title").$new(d,
b.$merge(h(["separator"],{separator:k["$=="](!0)?this.attributes["$[]"]("title-separator"):k}))):e(e(c=b["$[]"]("sanitize"))?d["$include?"]("<"):c)?d.$gsub(a.const_get_relative(y,"XmlSanitizeRx"),"").$squeeze(" ").$strip():d},pa.$$arity=-1);a.alias(c,"name","doctitle");a.def(c,"$author",ea=function(){return this.attributes["$[]"]("author")},ea.$$arity=0);a.def(c,"$revdate",Z=function(){return this.attributes["$[]"]("revdate")},Z.$$arity=0);a.def(c,"$notitle",fa=function(){var a;return e(a=this.attributes["$key?"]("showtitle")["$!"]())?
this.attributes["$key?"]("notitle"):a},fa.$$arity=0);a.def(c,"$noheader",K=function(){return this.attributes["$key?"]("noheader")},K.$$arity=0);a.def(c,"$nofooter",ka=function(){return this.attributes["$key?"]("nofooter")},ka.$$arity=0);a.def(c,"$first_section",oa=function(){var a,b;return e(a=this.header)?a:d(this.blocks,"find",[],(b=function(a){null==a&&(a=f);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},oa.$$arity=0);a.def(c,"$has_header?",aa=function(){return e(this.header)?
!0:!1},aa.$$arity=0);a.alias(c,"header?","has_header?");a.def(c,"$<<",ia=function(b){var c=ia.$$p,e=f,g=f,h=f;c&&(ia.$$p=null);g=0;h=arguments.length;for(e=Array(h);g<h;g++)e[g]=arguments[g];b.$context()["$=="]("section")&&this.$enumerate_section(b);return d(this,a.find_super_dispatcher(this,"<<",ia,!1),e,c)},ia.$$arity=1);a.def(c,"$finalize_header",Ea=function(c,h){var k=f;null==h&&(h=!0);this.$clear_playback_attributes(c);this.$save_attributes();e(h)||(k=["invalid-header",!0],d(c,"[]=",a.to_a(k)),
k[b(k.length,1)]);return c},Ea.$$arity=-2);a.def(c,"$save_attributes",qa=function(){var c,h,k,l=f,m=f,p=f,t=m=f,n=f,q=f,r=f,q=t=f;(l=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(e(e(c=this["$attribute_locked?"]("toc"))?c:this.attributes_modified["$include?"]("toc"))||(m=["toc",""],d(l,"[]=",a.to_a(m)),m[b(m.length,1)]),e(e(c=this["$attribute_locked?"]("sectnums"))?c:this.attributes_modified["$include?"]("sectnums"))||(m=["sectnums",""],d(l,"[]=",a.to_a(m)),m[b(m.length,1)]));e(e(c=l["$key?"]("doctitle"))?
c:(p=this.$doctitle())["$!"]())||(m=["doctitle",p],d(l,"[]=",a.to_a(m)),m[b(m.length,1)]);e(this.id)||(this.id=l["$[]"]("css-signature"));m=e(t=e(l.$delete("toc2"))?"left":l["$[]"]("toc"))?e(e(c=n=l.$fetch("toc-placement","macro"))?n["$!="]("auto"):c)?n:l["$[]"]("toc-position"):f;e(e(c=t)?e(h=t["$empty?"]()["$!"]())?h:m["$nil_or_empty?"]()["$!"]():c)&&(q="left",r="toc2",t=e(m["$nil_or_empty?"]()["$!"]())?m:e(t["$empty?"]()["$!"]())?t:q,m=["toc",""],d(l,"[]=",a.to_a(m)),m[b(m.length,1)],m=["toc-placement",
"auto"],d(l,"[]=",a.to_a(m)),m[b(m.length,1)],q=t,"left"["$==="](q)||"<"["$==="](q)||"&lt;"["$==="](q)?(m=["toc-position","left"],d(l,"[]=",a.to_a(m)),m[b(m.length,1)]):"right"["$==="](q)||">"["$==="](q)||"&gt;"["$==="](q)?(m=["toc-position","right"],d(l,"[]=",a.to_a(m)),m[b(m.length,1)]):"top"["$==="](q)||"^"["$==="](q)?(m=["toc-position","top"],d(l,"[]=",a.to_a(m)),m[b(m.length,1)]):"bottom"["$==="](q)||"v"["$==="](q)?(m=["toc-position","bottom"],d(l,"[]=",a.to_a(m)),m[b(m.length,1)]):("preamble"["$==="](q)||
"macro"["$==="](q)?(m=["toc-position","content"],d(l,"[]=",a.to_a(m)),m[b(m.length,1)],m=["toc-placement",t],d(l,"[]=",a.to_a(m)),m[b(m.length,1)]):l.$delete("toc-position"),r=f),e(r)&&(e(c=l["$[]"]("toc-class"))?c:(m=["toc-class",r],d(l,"[]=",a.to_a(m)),m[b(m.length,1)])));e(this.compat_mode=l["$key?"]("compat-mode"))&&e(l["$key?"]("language"))&&(m=["source-language",l["$[]"]("language")],d(l,"[]=",a.to_a(m)),m[b(m.length,1)]);this.outfilesuffix=l["$[]"]("outfilesuffix");this.header_attributes=l.$dup();
return e(this.parent_document)?f:d(a.const_get_relative(y,"FLEXIBLE_ATTRIBUTES"),"each",[],(k=function(a){var b=k.$$s||this,c;null==b.attribute_overrides&&(b.attribute_overrides=f);null==a&&(a=f);return e(e(c=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):c)?b.attribute_overrides.$delete(a):f},k.$$s=this,k.$$arity=1,k))},qa.$$arity=0);a.def(c,"$restore_attributes",na=function(){e(this.parent_document)||this.callouts.$rewind();return this.attributes=this.header_attributes},na.$$arity=
0);a.def(c,"$clear_playback_attributes",ra=function(a){return a.$delete("attribute_entries")},ra.$$arity=1);a.def(c,"$playback_attributes",ta=function(c){var h;return e(c["$key?"]("attribute_entries"))?d(c["$[]"]("attribute_entries"),"each",[],(h=function(c){var k=h.$$s||this,l=f,m=f;null==k.attributes&&(k.attributes=f);null==c&&(c=f);l=c.$name();if(e(c.$negate()))return k.attributes.$delete(l),l["$=="]("compat-mode")?k.compat_mode=!1:f;m=[l,c.$value()];d(k.attributes,"[]=",a.to_a(m));m[b(m.length,
1)];return l["$=="]("compat-mode")?k.compat_mode=!0:f},h.$$s=this,h.$$arity=1,h)):f},ta.$$arity=1);a.def(c,"$set_attribute",ua=function(c,h){var k=f,l=f,l=f;null==h&&(h="");if(e(this["$attribute_locked?"](c)))return!1;k=e(this.max_attribute_value_size)?this.$apply_attribute_value_subs(h).$limit_bytesize(this.max_attribute_value_size):this.$apply_attribute_value_subs(h);l=c;"backend"["$==="](l)?this.$update_backend_attributes(k,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](l)?
this.$update_doctype_attributes(k):(l=[c,k],d(this.attributes,"[]=",a.to_a(l)),l[b(l.length,1)]);this.attributes_modified["$<<"](c);return k},ua.$$arity=-2);a.def(c,"$delete_attribute",Ca=function(a){if(e(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);this.attributes_modified["$<<"](a);return!0},Ca.$$arity=1);a.def(c,"$attribute_locked?",va=function(a){return this.attribute_overrides["$key?"](a)},va.$$arity=1);a.def(c,"$apply_attribute_value_subs",Ba=function(b){var c;return e(a.const_get_relative(y,
"AttributeEntryPassMacroRx")["$=~"](b))?e((c=u["~"])===f?f:c["$[]"](1))?this.$apply_subs((c=u["~"])===f?f:c["$[]"](2),this.$resolve_pass_subs((c=u["~"])===f?f:c["$[]"](1))):(c=u["~"])===f?f:c["$[]"](2):this.$apply_header_subs(b)},Ba.$$arity=1);a.def(c,"$update_backend_attributes",Fa=function(c,h){var k,l,m=f,p=f,n=f,q=f,r=f,F=f,u=f,G=f,x=p=f,p=f;null==h&&(h=f);return e(e(k=h)?k:e(l=c)?c["$!="](this.backend):l)?(k=[this.backend,(m=this.attributes)["$[]"]("basebackend"),this.doctype],p=k[0],n=k[1],
q=k[2],k,e(c["$start_with?"]("xhtml"))?(r=["htmlsyntax","xml"],d(m,"[]=",a.to_a(r)),r[b(r.length,1)],c=c["$[]"](t(1,-1,!1))):e(c["$start_with?"]("html"))&&!m["$[]"]("htmlsyntax")["$=="]("xml")&&(r=["htmlsyntax","html"],d(m,"[]=",a.to_a(r)),r[b(r.length,1)]),e(F=a.const_get_relative(y,"BACKEND_ALIASES")["$[]"](c))&&(c=F),e(q)?(e(p)&&(m.$delete("backend-"+p),m.$delete("backend-"+p+"-doctype-"+q)),r=["backend-"+c+"-doctype-"+q,""],d(m,"[]=",a.to_a(r)),r[b(r.length,1)],r=["doctype-"+q,""],d(m,"[]=",a.to_a(r)),
r[b(r.length,1)]):e(p)&&m.$delete("backend-"+p),r=["backend-"+c,""],d(m,"[]=",a.to_a(r)),r[b(r.length,1)],this.backend=(r=["backend",c],d(m,"[]=",a.to_a(r)),r[b(r.length,1)]),e(a.const_get_qualified(a.const_get_relative(y,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(u=this.converter.$basebackend(),e(this["$attribute_locked?"]("outfilesuffix"))||(r=["outfilesuffix",this.converter.$outfilesuffix()],d(m,"[]=",a.to_a(r)),r[b(r.length,1)]),G=this.converter.$filetype()):
e(this.converter)?(u=c.$sub(a.const_get_relative(y,"TrailingDigitsRx"),""),e(p=a.const_get_relative(y,"DEFAULT_EXTENSIONS")["$[]"](u))?G=p["$[]"](t(1,-1,!1)):(k=[".html","html","html"],p=k[0],u=k[1],G=k[2],k),e(this["$attribute_locked?"]("outfilesuffix"))||(r=["outfilesuffix",p],d(m,"[]=",a.to_a(r)),r[b(r.length,1)])):this.$raise(a.const_get_qualified("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+c+"'. Processing aborted."),e(x=m["$[]"]("filetype"))&&m.$delete("filetype-"+
x),r=["filetype",G],d(m,"[]=",a.to_a(r)),r[b(r.length,1)],r=["filetype-"+G,""],d(m,"[]=",a.to_a(r)),r[b(r.length,1)],e(p=a.const_get_relative(y,"DEFAULT_PAGE_WIDTHS")["$[]"](u))?(r=["pagewidth",p],d(m,"[]=",a.to_a(r)),r[b(r.length,1)]):m.$delete("pagewidth"),e(u["$!="](n))&&(e(q)?(e(n)&&(m.$delete("basebackend-"+n),m.$delete("basebackend-"+n+"-doctype-"+q)),r=["basebackend-"+u+"-doctype-"+q,""],d(m,"[]=",a.to_a(r)),r[b(r.length,1)]):e(n)&&m.$delete("basebackend-"+n),r=["basebackend-"+u,""],d(m,"[]=",
a.to_a(r)),r[b(r.length,1)],r=["basebackend",u],d(m,"[]=",a.to_a(r)),r[b(r.length,1)]),c):f},Fa.$$arity=-2);a.def(c,"$update_doctype_attributes",Ga=function(c){var h,k=f,l=f,m=f,p=f,l=f;return e(e(h=c)?c["$!="](this.doctype):h)?(h=[this.backend,(k=this.attributes)["$[]"]("basebackend"),this.doctype],l=h[0],m=h[1],p=h[2],h,e(p)?(k.$delete("doctype-"+p),e(l)&&(k.$delete("backend-"+l+"-doctype-"+p),l=["backend-"+l+"-doctype-"+c,""],d(k,"[]=",a.to_a(l)),l[b(l.length,1)]),e(m)&&(k.$delete("basebackend-"+
m+"-doctype-"+p),l=["basebackend-"+m+"-doctype-"+c,""],d(k,"[]=",a.to_a(l)),l[b(l.length,1)])):(e(l)&&(l=["backend-"+l+"-doctype-"+c,""],d(k,"[]=",a.to_a(l)),l[b(l.length,1)]),e(m)&&(l=["basebackend-"+m+"-doctype-"+c,""],d(k,"[]=",a.to_a(l)),l[b(l.length,1)])),l=["doctype-"+c,""],d(k,"[]=",a.to_a(l)),l[b(l.length,1)],this.doctype=(l=["doctype",c],d(k,"[]=",a.to_a(l)),l[b(l.length,1)])):f},Ga.$$arity=1);a.def(c,"$create_converter",Ia=function(){var c=this,k=f,l=f,m=f,p=f,t=f,n=f,k=h([],{}),l=["htmlsyntax",
c.attributes["$[]"]("htmlsyntax")];d(k,"[]=",a.to_a(l));l[b(l.length,1)];m=function(){return e(p=c.options["$[]"]("template_dir"))?(l=["template_dirs",[p]],d(k,"[]=",a.to_a(l)),l[b(l.length,1)]):e(m=c.options["$[]"]("template_dirs"))?(l=["template_dirs",m],d(k,"[]=",a.to_a(l)),l[b(l.length,1)]):f}();e(m)&&(l=["template_cache",c.options.$fetch("template_cache",!0)],d(k,"[]=",a.to_a(l)),l[b(l.length,1)],l=["template_engine",c.options["$[]"]("template_engine")],d(k,"[]=",a.to_a(l)),l[b(l.length,1)],
l=["template_engine_options",c.options["$[]"]("template_engine_options")],d(k,"[]=",a.to_a(l)),l[b(l.length,1)],l=["eruby",c.options["$[]"]("eruby")],d(k,"[]=",a.to_a(l)),l[b(l.length,1)],l=["safe",c.safe],d(k,"[]=",a.to_a(l)),l[b(l.length,1)]);n=e(t=c.options["$[]"]("converter"))?a.const_get_qualified(a.const_get_relative(y,"Converter"),"Factory").$new(a.const_get_qualified("::","Hash")["$[]"](c.$backend(),t)):a.const_get_qualified(a.const_get_relative(y,"Converter"),"Factory").$default(!1);return n.$create(c.$backend(),
k)},Ia.$$arity=0);a.def(c,"$convert",Aa=function(c){var k,l,p=f,t=f,n=f,q=f,r=f;null==c&&(c=h([],{}));e(this.parsed)||this.$parse();e(e(k=m(this.safe,a.const_get_qualified(a.const_get_relative(y,"SafeMode"),"SERVER")))?k:c["$empty?"]())||(e((p=["outfile",c["$[]"]("outfile")],d(this.attributes,"[]=",a.to_a(p)),p[b(p.length,1)]))||this.attributes.$delete("outfile"),e((p=["outdir",c["$[]"]("outdir")],d(this.attributes,"[]=",a.to_a(p)),p[b(p.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?
e(t=this.blocks["$[]"](0))&&(e(e(k=t.$content_model()["$=="]("compound"))?k:t.$content_model()["$=="]("empty"))?this.$warn("asciidoctor: WARNING: no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):n=t.$content()):(q=e(e(c["$key?"]("header_footer"))?c["$[]"]("header_footer"):this.options["$[]"]("header_footer"))?"document":"embedded",n=this.converter.$convert(this,q));!e(this.parent_document)&&e(e(k=r=this.extensions)?r["$postprocessors?"]():k)&&d(r.$postprocessors(),
"each",[],(l=function(a){var b=l.$$s||this;null==a&&(a=f);return n=a.$process_method()["$[]"](b,n)},l.$$s=this,l.$$arity=1,l));return n},Aa.$$arity=-1);a.alias(c,"render","convert");a.def(c,"$write",Ka=function(b,c){if(e(a.const_get_relative(y,"Writer")["$==="](this.converter)))return this.converter.$write(b,c);e(c["$respond_to?"]("write"))?e(b["$nil_or_empty?"]())||(c.$write(b.$chomp()),c.$write(a.const_get_relative(y,"LF"))):a.const_get_qualified("::","IO").$write(c,b);return f},Ka.$$arity=2);a.def(c,
"$content",Ja=function(){var b=Ja.$$p,c=f,e=f,g=f;b&&(Ja.$$p=null);e=0;g=arguments.length;for(c=Array(g);e<g;e++)c[e]=arguments[e];this.attributes.$delete("title");return d(this,a.find_super_dispatcher(this,"content",Ja,!1),c,b)},Ja.$$arity=0);a.def(c,"$docinfo",La=function(b,c){var g,k,l,t=f,n=f,q=f,F=f,u=f,x=f,G=f,F=G=f;null==b&&(b="head");null==c&&(c=f);if(e(m(this.$safe(),a.const_get_qualified(a.const_get_relative(y,"SafeMode"),"SECURE"))))return"";t=[];b["$=="]("head")||(n="-"+b);e(c)||(c=this.outfilesuffix);
q=e((q=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?e(this.attributes["$key?"]("docinfo2"))?["private","shared"]:e(this.attributes["$key?"]("docinfo1"))?["shared"]:e(q)?["private"]:f:d(q.$split(","),"map",[],(g=function(a){null==a&&(a=f);return a.$strip()},g.$$s=this,g.$$arity=1,g));if(e(q)){k=["docinfo"+n+c,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];F=k[0];u=k[1];x=k[2];k;if(!e(q["$&"](["shared","shared-"+b])["$empty?"]())&&(G=this.$normalize_system_path(F,u),e(G=
this.$read_asset(G,h(["normalize"],{normalize:!0})))))t["$<<"](this.$apply_subs(G,x));if(!e(e(k=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?k:q["$&"](["private","private-"+b])["$empty?"]())&&(G=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+F,u),e(F=this.$read_asset(G,h(["normalize"],{normalize:!0})))))t["$<<"](this.$apply_subs(F,x))}e(e(k=this.extensions)?this["$docinfo_processors?"](b):k)&&(t=r(t,d(this.docinfo_processor_extensions["$[]"](b),"map",[],(l=function(a){var b=
l.$$s||this;null==a&&(a=f);return a.$process_method()["$[]"](b)},l.$$s=this,l.$$arity=1,l)).$compact()));return p(t,a.const_get_relative(y,"LF"))},La.$$arity=-1);a.def(c,"$resolve_docinfo_subs",la=function(){return e(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",f,"docinfo"):["attributes"]},la.$$arity=0);a.def(c,"$docinfo_processors?",Ha=function(c){var h,k=f;null==c&&(c="head");if(e(this.docinfo_processor_extensions["$key?"](c)))return this.docinfo_processor_extensions["$[]"](c)["$!="](!1);
if(e(e(h=this.extensions)?this.document.$extensions()["$docinfo_processors?"](c):h))return(k=[c,this.document.$extensions().$docinfo_processors(c)],d(this.docinfo_processor_extensions,"[]=",a.to_a(k)),k[b(k.length,1)])["$!"]()["$!"]();k=[c,!1];d(this.docinfo_processor_extensions,"[]=",a.to_a(k));return k[b(k.length,1)]},Ha.$$arity=-1);return(a.def(c,"$to_s",F=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(e(this.header["$!="](f))?
this.header.$title():f).$inspect()+", blocks: "+this.blocks.$size()+"}>"},F.$$arity=0),f)&&"to_s"})(n[0],a.const_get_relative(n,"AbstractBlock"),n)}(q[0],q)};Opal.modules["asciidoctor/inline"]=function(a){var b=[],m=a.nil,r=a.module,p=a.klass,q=a.send,f=a.truthy,c=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(b,e){var d=[r(b,"Asciidoctor")].concat(e);(function(b,$super,
d){function e(){}b=e=p(b,$super,"Inline",e);var g=b.$$proto;[b].concat(d);var k,r,u,x,v,w,y,A;g.text=g.type=m;b.$attr_reader("text");b.$attr_reader("type");b.$attr_accessor("target");a.def(b,"$initialize",k=function(b,d,e,g){var h=k.$$p,l=m;null==e&&(e=m);null==g&&(g=c([],{}));h&&(k.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",k,!1),[b,d],null);this.node_name="inline_"+d;this.text=e;this.id=g["$[]"]("id");this.type=g["$[]"]("type");this.target=g["$[]"]("target");return f((l=g["$[]"]("attributes"))["$nil_or_empty?"]())?
m:this.$update_attributes(l)},k.$$arity=-3);a.def(b,"$block?",r=function(){return!1},r.$$arity=0);a.def(b,"$inline?",u=function(){return!0},u.$$arity=0);a.def(b,"$convert",x=function(){return this.$converter().$convert(this)},x.$$arity=0);a.alias(b,"render","convert");a.def(b,"$alt",v=function(){return this.$attr("alt")},v.$$arity=0);a.def(b,"$reftext?",w=function(){var a,b;return f(a=this.text)?f(b=this.type["$=="]("ref"))?b:this.type["$=="]("bibref"):a},w.$$arity=0);a.def(b,"$reftext",y=function(){var a=
m;return f(a=this.text)?this.$apply_reftext_subs(a):m},y.$$arity=0);return(a.def(b,"$xreftext",A=function(a){return this.$reftext()},A.$$arity=-1),m)&&"xreftext"})(d[0],a.const_get_relative(d,"AbstractNode"),d)}(b[0],b)};Opal.modules["asciidoctor/list"]=function(a){var b=[],m=a.nil,r=a.module,p=a.klass,q=a.send,f=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $dup $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));
return function(b,g){var e=[r(b,"Asciidoctor")].concat(g);(function(b,$super,c){function e(){}b=e=p(b,$super,"List",e);var g=b.$$proto;[b].concat(c);var k,n,r,u;g.context=g.document=g.style=m;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.def(b,"$initialize",k=function(b,c){var d=k.$$p,e=m,g=m,f=m;d&&(k.$$p=null);g=0;f=arguments.length;for(e=Array(f);g<f;g++)e[g]=arguments[g];return q(this,a.find_super_dispatcher(this,"initialize",k,!1),e,d)},k.$$arity=2);
a.def(b,"$outline?",n=function(){var a;return f(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},n.$$arity=0);a.def(b,"$convert",r=function(){var b=r.$$p,c=m,d=c=m,e=m;b&&(r.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return this.context["$=="]("colist")?(c=q(this,a.find_super_dispatcher(this,"convert",r,!1),c,b),this.document.$callouts().$next_list(),c):q(this,a.find_super_dispatcher(this,"convert",r,!1),c,b)},r.$$arity=0);a.alias(b,"render","convert");
return(a.def(b,"$to_s",u=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},u.$$arity=0),m)&&"to_s"})(e[0],a.const_get_relative(e,"AbstractBlock"),e);(function(b,$super,c){function e(){}b=e=p(b,$super,"ListItem",e);var g=b.$$proto,k=[b].concat(c),n,r,u,x,v,w,y,A;g.text=g.subs=g.blocks=m;a.alias(b,"list","parent");b.$attr_accessor("marker");a.def(b,"$initialize",n=function(b,c){var d=
n.$$p;null==c&&(c=m);d&&(n.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",n,!1),[b,"list_item"],null);this.text=c;this.level=b.$level();return this.subs=a.const_get_relative(k,"NORMAL_SUBS").$dup()},n.$$arity=-2);a.def(b,"$text?",r=function(){return this.text["$nil_or_empty?"]()["$!"]()},r.$$arity=0);a.def(b,"$text",u=function(){return this.$apply_subs(this.text,this.subs)},u.$$arity=0);a.def(b,"$text=",x=function(a){return this.text=a},x.$$arity=1);a.def(b,"$simple?",v=function(){var b,
c,d=m;return f(b=this.blocks["$empty?"]())?b:f(c=this.blocks.$size()["$=="](1)?a.const_get_relative(k,"List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?d["$outline?"]():c},v.$$arity=0);a.def(b,"$compound?",w=function(){return this["$simple?"]()["$!"]()},w.$$arity=0);a.def(b,"$fold_first",y=function(b,c){var d,e,g,l,p,t=m,n=m;null==b&&(b=!1);null==c&&(c=!1);f(f(d=f(e=t=this.blocks["$[]"](0))?a.const_get_relative(k,"Block")["$==="](t):e)?f(e=t.$context()["$=="]("paragraph")?b["$!"]():
t.$context()["$=="]("paragraph"))?e:f(g=f(l=f(p=c)?p:b["$!"]())?t.$context()["$=="]("literal"):l)?t["$option?"]("listparagraph"):g:d)&&(n=this.$blocks().$shift(),f(this.text["$nil_or_empty?"]())||n.$lines().$unshift(this.text),this.text=n.$source());return m},y.$$arity=-1);return(a.def(b,"$to_s",A=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(f(a=this.blocks)?a:[]).$size()+"}>"},
A.$$arity=0),m)&&"to_s"})(e[0],a.const_get_relative(e,"AbstractBlock"),e)}(b[0],b)};Opal.modules["asciidoctor/parser"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?
a<b:a["$<"](b)}var f=[],c=a.nil,k=a.module,e=a.klass,d=a.send,h=a.truthy,t=a.hash2,u=a.hash,l=a.gvars,x=a.range;a.add_stubs("$new $lambda $start_with? $match? $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_doctitle? $attributes $key? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $attribute_locked? $set_attr $delete $source_location= $header $[]= $id $parse_style_attribute $parse_header_metadata $== $doctype $parse_manpage_header $=~ $sub_attributes $downcase $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $* $read_lines_until $match $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $sectname $+ $to_i $> $line_info $include? $size $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $parse_block_metadata_line $extensions $block_macros? $path $lineno $read_line $=== $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $lstrip $keys $chr $length $end_with? $parse_attributes $attribute_missing $clear $register $tr $basename $assign_caption $registered_for_block_macro? $config $update $process_method $replace $peek_line $next_list_item $callout_ids $callouts $items $next_list $next_item_list $each $catalog_inline_biblio_anchor $instance_variable_get $marker $find $next_description_list $underline_style_section_titles $is_section_title? $atx_section_title? $generate_id $title $level= $read_paragraph_lines $adjust_indentation! $set_option $map! $split $pop $build_block $chop $catalog_inline_anchors $rekey $index $slice $strip $< $next_table $concat $title? $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $gsub $reader $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $casecmp $sectname= $special= $numbered= $special $numbered $update_attributes $peek_lines $setext_section_title? $abs $line_length $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $rstrip $each_with_index $map $compact $Array $squeeze $to_a $process_attribute_entry $skip_comment_lines $advance $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $resolve_ordered_list_marker $ord $roman_numeral_to_int $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $post_match $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $shorthand_property_syntax $join $each_char $call $sub! $gsub! $% $begin".split(" "));
return function(f,v){var w=[k(f,"Asciidoctor")].concat(v);(function(f,$super,k){function n(){}f=n=e(f,$super,"Parser",n);var A=[f].concat(k),v,w,B,z,C,J,Q,R,V,ba,N,O,ma,da,I,X,W,Z,fa,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua,Ca,va,Ba,Fa,Ga,Ia,Aa,Ka,Ja,La,la,Ha,F,xa,ga,S;a.const_set(A[0],"BlockMatchData",a.const_get_relative(A,"Struct").$new("context","masq","tip","terminator"));a.const_set(A[0],"TabRx",/\t/);a.const_set(A[0],"TabIndentRx",/^\t+/);a.const_set(A[0],"StartOfBlockProc",d(f,"lambda",[],(v=function(b){var d=
v.$$s||this,e,g;null==b&&(b=c);return h(e=h(g=b["$start_with?"]("["))?a.const_get_relative(A,"BlockAttributeLineRx")["$match?"](b):g)?e:d["$is_delimited_block?"](b)},v.$$s=f,v.$$arity=1,v)));a.const_set(A[0],"StartOfListProc",d(f,"lambda",[],(w=function(b){null==b&&(b=c);return a.const_get_relative(A,"AnyListRx")["$match?"](b)},w.$$s=f,w.$$arity=1,w)));a.const_set(A[0],"StartOfBlockOrListProc",d(f,"lambda",[],(B=function(b){var d=B.$$s||this,e,g,f;null==b&&(b=c);return h(e=h(g=d["$is_delimited_block?"](b))?
g:h(f=b["$start_with?"]("["))?a.const_get_relative(A,"BlockAttributeLineRx")["$match?"](b):f)?e:a.const_get_relative(A,"AnyListRx")["$match?"](b)},B.$$s=f,B.$$arity=1,B)));a.const_set(A[0],"NoOp",c);a.const_set(A[0],"TableCellHorzAlignments",t(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(A[0],"TableCellVertAlignments",t(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(A[0],"TableCellStyles",t("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",
h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.def(f,"$initialize",z=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},z.$$arity=0);a.defs(f,"$parse",C=function(b,d,e){var g,f=g=c;null==e&&(e=t([],{}));g=this.$parse_document_header(b,d);if(!h(e["$[]"]("header_only")))for(;h(b["$has_more_lines?"]());)if(e=this.$next_section(b,d,g),g=a.to_ary(e),f=null==g[0]?c:g[0],g=null==g[1]?c:g[1],e,h(f))d["$<<"](f);return d},C.$$arity=-3);a.defs(f,"$parse_document_header",
J=function(e,f){var k,l,m=c,p=c,t=c,n=c,q=l=c,r=c,F=p=q=c;l=l=c;m=this.$parse_block_metadata_lines(e,f);if(h(h(k=p=this["$is_next_line_doctitle?"](e,m,f.$attributes()["$[]"]("leveloffset")))?m["$key?"]("title"):k))return f.$finalize_header(m,!1);t=c;h((n=f.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(l=[t=n],d(f,"title=",a.to_a(l)),l[b(l.length,1)]);q=c;h(p)&&(h(f.$sourcemap())&&(r=e.$cursor()),l=this.$parse_section_title(e,f),k=a.to_ary(l),f["$id="](null==k[0]?c:k[0]),q=null==k[2]?c:
k[2],p=null==k[4]?c:k[4],l,h(t)||(l=[t=q],d(f,"title=",a.to_a(l)),l[b(l.length,1)]),h(h(k=p)?k:f["$attribute_locked?"]("compat-mode"))||f.$set_attr("compat-mode"),h(F=m.$delete("separator"))&&!h(f["$attribute_locked?"]("title-separator"))&&f.$set_attr("title-separator",F),h(r)&&(l=[r],d(f.$header(),"source_location=",a.to_a(l)),l[b(l.length,1)]),l=["doctitle",q],d(f.$attributes(),"[]=",a.to_a(l)),l[b(l.length,1)],h(f.$id())?(m.$delete(1),m.$delete("id")):(h(l=m.$delete(1))&&(l=u(1,l),this.$parse_style_attribute(l,
e),h(l["$key?"]("id"))&&(l=["id",l["$[]"]("id")],d(m,"[]=",a.to_a(l)),l[b(l.length,1)])),l=[m.$delete("id")],d(f,"id=",a.to_a(l)),l[b(l.length,1)]),this.$parse_header_metadata(e,f));h(h(k=(n=f.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?k:n["$=="](q))||(l=[t=n],d(f,"title=",a.to_a(l)),l[b(l.length,1)]);h(t)&&(l=["doctitle",t],d(f.$attributes(),"[]=",a.to_a(l)),l[b(l.length,1)]);f.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(e,f);return f.$finalize_header(m)},J.$$arity=2);a.defs(f,
"$parse_manpage_header",Q=function(e,f){var k,p=c,n=p=p=c;h(a.const_get_relative(A,"ManpageTitleVolnumRx")["$=~"](f.$attributes()["$[]"]("doctitle")))?(p=["mantitle",f.$sub_attributes(((k=l["~"])===c?c:k["$[]"](1)).$downcase())],d(f.$attributes(),"[]=",a.to_a(p)),p[b(p.length,1)],p=["manvolnum",(k=l["~"])===c?c:k["$[]"](2)]):(this.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": malformed manpage title"),p=["mantitle",f.$attributes()["$[]"]("doctitle")],d(f.$attributes(),"[]=",a.to_a(p)),p[b(p.length,
1)],p=["manvolnum","1"]);d(f.$attributes(),"[]=",a.to_a(p));p[b(p.length,1)];e.$skip_blank_lines();return h(this["$is_next_line_section?"](e,t([],{})))?(p=this.$initialize_section(e,f,t([],{})),p.$level()["$=="](1)?(p=m(e.$read_lines_until(t(["break_on_blank_lines"],{break_on_blank_lines:!0}))," "),h(n=a.const_get_relative(A,"ManpageNamePurposeRx").$match(p))?(p=["manname",f.$sub_attributes(n["$[]"](1))],d(f.$attributes(),"[]=",a.to_a(p)),p[b(p.length,1)],p=["manpurpose",n["$[]"](2)],d(f.$attributes(),
"[]=",a.to_a(p)),p[b(p.length,1)],f.$backend()["$=="]("manpage")?(p=["docname",f.$attributes()["$[]"]("manname")],d(f.$attributes(),"[]=",a.to_a(p)),p[b(p.length,1)],p=["outfilesuffix","."+f.$attributes()["$[]"]("manvolnum")],d(f.$attributes(),"[]=",a.to_a(p)),p[b(p.length,1)]):c):this.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": malformed name section body")):this.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": name section title must be at level 1")):this.$warn("asciidoctor: ERROR: "+
e.$prev_line_info()+": name section expected")},Q.$$arity=2);a.defs(f,"$next_section",R=function(e,f,k){var l,n,q,F=c,u=c,y=c,x=c,v=c,w=c,E=c,K=c,B=c,J=c,z=B=c,C=z=E=z=c,u=c;null==k&&(k=t([],{}));F=u=y=!1;h(h(l=(n=f.$context()["$=="]("document"))?f.$blocks()["$empty?"]():f.$context()["$=="]("document"))?h(n=h(q=x=f["$has_header?"]())?q:k.$delete("invalid-header"))?n:this["$is_next_line_section?"](e,k)["$!"]():l)?(v=(w=f).$doctype(),h(h(l=x)?l:(n=v["$=="]("book"))?k["$[]"](1)["$!="]("abstract"):v["$=="]("book"))&&
(F=u=a.const_get_relative(A,"Block").$new(f,"preamble",t(["content_model"],{content_model:"compound"})),h((l=v["$=="]("book"))?f["$attr?"]("preface-title"):v["$=="]("book"))&&(E=[f.$attr("preface-title")],d(F,"title=",a.to_a(E)),E[b(E.length,1)]),f["$<<"](F)),K=f,B=0,J=h(f.$attributes()["$key?"]("fragment"))?c:v["$=="]("book")?[0,1]:[1]):(v=(w=f.$document()).$doctype(),K=this.$initialize_section(e,f,k),k=h(B=k["$[]"]("title"))?t(["title"],{title:B}):t([],{}),y=K.$sectname()["$=="]("part"),J=[r(B=
K.$level(),1)]);for(e.$skip_blank_lines();h(e["$has_more_lines?"]());){this.$parse_block_metadata_lines(e,w,k);if(h(z=this["$is_next_line_section?"](e,k)))if(h(w["$attr?"]("leveloffset"))&&(z=r(z,w.$attr("leveloffset").$to_i())),h(h(n=p(z,B))?n:z["$=="](0)?K.$context()["$=="]("document"):z["$=="](0)))h(z["$=="](0)?v["$!="]("book"):z["$=="](0))?this.$warn("asciidoctor: ERROR: "+e.$line_info()+": only book doctypes can contain level 0 sections"):h(h(n=J)?J["$include?"](z)["$!"]():n)&&this.$warn("asciidoctor: WARNING: "+
e.$line_info()+": section title out of sequence: expected "+(h(p(J.$size(),1))?"levels":"level")+" "+m(J," or ")+", got level "+z),q=this.$next_section(e,K,k),n=a.to_ary(q),z=null==n[0]?c:n[0],k=null==n[1]?c:n[1],q,K["$<<"](z);else{h((n=z["$=="](0))?v["$!="]("book"):z["$=="](0))&&this.$warn("asciidoctor: ERROR: "+e.$line_info()+": only book doctypes can contain level 0 sections");break}else E=e.$line_info(),h(z=this.$next_block(e,h(n=u)?n:K,k,t(["parse_metadata"],{parse_metadata:!1})))&&(h(y)&&(h(K["$blocks?"]()["$!"]())?
h(z.$style()["$!="]("partintro"))&&(z.$context()["$=="]("paragraph")?(E=["open"],d(z,"context=",a.to_a(E)),E[b(E.length,1)],E=["partintro"],d(z,"style=",a.to_a(E)),E[b(E.length,1)]):(u=a.const_get_relative(A,"Block").$new(K,"open",t(["content_model"],{content_model:"compound"})),E=["partintro"],d(u,"style=",a.to_a(E)),E[b(E.length,1)],E=[u],d(z,"parent=",a.to_a(E)),E[b(E.length,1)],K["$<<"](u))):K.$blocks().$size()["$=="](1)&&(C=K.$blocks()["$[]"](0),h(h(n=u["$!"]())?C.$content_model()["$=="]("compound"):
n)?this.$warn("asciidoctor: ERROR: "+E+": illegal block content outside of partintro block"):h(C.$content_model()["$!="]("compound"))&&(u=a.const_get_relative(A,"Block").$new(K,"open",t(["content_model"],{content_model:"compound"})),E=["partintro"],d(u,"style=",a.to_a(E)),E[b(E.length,1)],K.$blocks().$shift(),C.$style()["$=="]("partintro")&&(E=["paragraph"],d(C,"context=",a.to_a(E)),E[b(E.length,1)],E=[c],d(C,"style=",a.to_a(E)),E[b(E.length,1)]),E=[u],d(C,"parent=",a.to_a(E)),E[b(E.length,1)],u["$<<"](C),
E=[u],d(z,"parent=",a.to_a(E)),E[b(E.length,1)],K["$<<"](u)))),(h(n=u)?n:K)["$<<"](z),k=t([],{}));if(h(n=e.$skip_blank_lines()))n;else break}if(h(y))h(h(l=K["$blocks?"]())?K.$blocks()["$[]"](-1).$context()["$=="]("section"):l)||this.$warn("asciidoctor: ERROR: "+e.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(h(F))if(h(F["$blocks?"]())){if(h(h(l=h(n=a.const_get_relative(A,"Compliance").$unwrap_standalone_preamble())?w.$blocks().$size()["$=="](1):
n)?v["$!="]("book"):l))for(w.$blocks().$shift();h(u=F.$blocks().$shift());)E=[w],d(u,"parent=",a.to_a(E)),E[b(E.length,1)],w["$<<"](u)}else w.$blocks().$shift();return[h(K["$!="](f))?K:c,k.$dup()]},R.$$arity=-3);a.defs(f,"$next_block",V=function(e,f,k,n){try{var F,u,y,v,G,w,E,K,z,B,J=c,C=c,L=c,R=c,xa=c,V=c,S=c,Q=c,ha=c,O=c,ka=c,N=c,ga=c,U=c,ba=c,P=c,ja=c,I=c,da=c,oa=c,Y=c,Z=c,ia=c,aa=c,X=c,ma=c,W=c,Aa=c,fa=c,ea=c,pa=c,Ka=c,va=c,wa=c,ta=c,Ja=c,na=c,za=c,Ba=c,ra=c,La=c,Ha=c,la=c,qa=c,Fa=c,ua=c,Ga=c,
Ia=c,Ca=c,qb=c,rb=c,sb=c,tb=c,cb=c;null==k&&(k=t([],{}));null==n&&(n=t([],{}));if(!h(J=e.$skip_blank_lines()))return c;h(h(F=C=n["$[]"]("text"))?p(J,0):F)&&(n.$delete("text"),C=!1);L=f.$document();if(h(n.$fetch("parse_metadata",!0)))for(;h(this.$parse_block_metadata_line(e,L,k,n));)e.$shift(),h(u=e.$skip_blank_lines())?u:a.ret(c);h(R=L.$extensions())&&(F=[R["$blocks?"](),R["$block_macros?"]()],xa=F[0],V=F[1],F);h(L.$sourcemap())&&(S=e.$cursor());F=[e.$path(),e.$lineno(),e.$read_line(),a.const_get_relative(A,
"ListItem")["$==="](f)];Q=F[0];ha=F[1];O=F[2];ka=F[3];F;N=ga=U=ba=c;P=h(k["$[]"](1))?this.$parse_style_attribute(k,e):c;h(ja=this["$is_delimited_block?"](O,!0))&&(ga=U=ja.$context(),ba=ja.$terminator(),h(P["$!"]())?P=(I=["style",ga.$to_s()],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]):h(P["$!="](ga.$to_s()))&&(h(ja.$masq()["$include?"](P))?ga=P.$to_sym():h(h(F=ja.$masq()["$include?"]("admonition"))?a.const_get_relative(A,"ADMONITION_STYLES")["$include?"](P):F)?ga="admonition":h(h(F=xa)?R["$registered_for_block?"](P,
ga):F)?ga=P.$to_sym():(this.$warn("asciidoctor: WARNING: "+Q+": line "+ha+": invalid style for "+ga+" block: "+P),P=ga.$to_s())));if(!h(ja))for(;h(!0);){if(h(h(u=h(y=P)?a.const_get_relative(A,"Compliance").$strict_verbatim_paragraphs():y)?a.const_get_relative(A,"VERBATIM_STYLES")["$include?"](P):u)){ga=P.$to_sym();e.$unshift_line(O);break}if(h(C))da=O["$start_with?"](" ",a.const_get_relative(A,"TAB"));else if(oa=a.const_get_relative(A,"Compliance").$markdown_syntax(),h(O["$start_with?"](" "))){if(u=
[!0," "],da=u[0],Y=u[1],u,h(h(u=h(y=oa)?d(O.$lstrip(),"start_with?",a.to_a(a.const_get_relative(A,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):y)?a.const_get_relative(A,"MarkdownThematicBreakRx")["$match?"](O):u)){N=a.const_get_relative(A,"Block").$new(f,"thematic_break",t(["content_model"],{content_model:"empty"}));break}}else if(h(O["$start_with?"](a.const_get_relative(A,"TAB"))))u=[!0,a.const_get_relative(A,"TAB")],da=u[0],Y=u[1],u;else if(u=[!1,O.$chr()],da=u[0],Y=u[1],u,Z=h(oa)?a.const_get_relative(A,
"HYBRID_LAYOUT_BREAK_CHARS"):a.const_get_relative(A,"LAYOUT_BREAK_CHARS"),h(h(u=Z["$key?"](Y))?h(oa)?a.const_get_relative(A,"ExtLayoutBreakRx")["$match?"](O):(y=O["$=="](m(Y,ia=O.$length())))?p(ia,2):O["$=="](m(Y,ia=O.$length())):u)){N=a.const_get_relative(A,"Block").$new(f,Z["$[]"](Y),t(["content_model"],{content_model:"empty"}));break}else if(h(h(u=O["$end_with?"]("]"))?O["$include?"]("::"):u))if(h(h(u=h(y=Y["$=="]("i"))?y:O["$start_with?"]("video:","audio:"))?aa=a.const_get_relative(A,"BlockMediaMacroRx").$match(O):
u)){u=[aa["$[]"](1).$to_sym(),aa["$[]"](2)];X=u[0];ma=u[1];u;N=a.const_get_relative(A,"Block").$new(f,X,t(["content_model"],{content_model:"empty"}));W=X;Aa="video"["$==="](W)?["poster","width","height"]:"audio"["$==="](W)?[]:["alt","width","height"];N.$parse_attributes(aa["$[]"](3),Aa,t(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:k}));h(k["$key?"]("style"))&&k.$delete("style");if(h(h(u=ma["$include?"](a.const_get_relative(A,"ATTR_REF_HEAD")))?(ma=N.$sub_attributes(ma,t(["attribute_missing"],
{attribute_missing:"drop-line"})))["$empty?"]():u)){if(L.$attributes().$fetch("attribute-missing",a.const_get_relative(A,"Compliance").$attribute_missing())["$=="]("skip"))return a.const_get_relative(A,"Block").$new(f,"paragraph",t(["content_model","source"],{content_model:"simple",source:[O]}));k.$clear();return c}X["$=="]("image")&&(N.$document().$register("images",ma),h(u=k["$[]"]("alt"))?u:(I=["alt",h(y=P)?y:(I=["default-alt",a.const_get_relative(A,"Helpers").$basename(ma,!0).$tr("_-"," ")],d(k,
"[]=",a.to_a(I)),I[b(I.length,1)])],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),h((fa=k.$delete("scaledwidth"))["$nil_or_empty?"]())||(I=["scaledwidth",h(a.const_get_relative(A,"TrailingDigitsRx")["$match?"](fa))?""+fa+"%":fa],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),I=[k.$delete("title")],d(N,"title=",a.to_a(I)),I[b(I.length,1)],N.$assign_caption(k.$delete("caption"),"figure"));I=["target",ma];d(k,"[]=",a.to_a(I));I[b(I.length,1)];break}else if(h(h(u=(y=Y["$=="]("t"))?O["$start_with?"]("toc:"):Y["$=="]("t"))?
aa=a.const_get_relative(A,"BlockTocMacroRx").$match(O):u)){N=a.const_get_relative(A,"Block").$new(f,"toc",t(["content_model"],{content_model:"empty"}));N.$parse_attributes(aa["$[]"](1),[],t(["sub_result","into"],{sub_result:!1,into:k}));break}else if(h(h(u=h(y=V)?aa=a.const_get_relative(A,"CustomBlockMacroRx").$match(O):y)?ea=R["$registered_for_block_macro?"](aa["$[]"](1)):u))if(ma=aa["$[]"](2),pa=aa["$[]"](3),ea.$config()["$[]"]("content_model")["$=="]("attributes")?h(pa["$empty?"]())||L.$parse_attributes(pa,
h(u=ea.$config()["$[]"]("pos_attrs"))?u:[],t(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:k})):(I=["text",pa],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),h(Ka=ea.$config()["$[]"]("default_attrs"))&&d(k,"update",[Ka],(v=function(a,b){null==b&&(b=c);return b},v.$$s=this,v.$$arity=2,v)),h(N=ea.$process_method()["$[]"](f,ma,k))){k.$replace(N.$attributes());break}else return k.$clear(),c;if(h(h(u=h(y=h(G=da["$!"]())?a.const_get_relative(A,"CALLOUT_LIST_HEADS")["$include?"](Y=h(w=Y)?w:
O.$chr()):G)?a.const_get_relative(A,"CalloutListSniffRx")["$match?"](O):y)?aa=a.const_get_relative(A,"CalloutListRx").$match(O):u)){N=a.const_get_relative(A,"List").$new(f,"colist");I=["style","arabic"];d(k,"[]=",a.to_a(I));I[b(I.length,1)];e.$unshift_line(O);for(va=1;h(h(y=aa)?y:h(G=e["$has_more_lines?"]())?aa=a.const_get_relative(A,"CalloutListRx").$match(e.$peek_line()):G);)wa=e.$lineno(),aa["$[]"](1)["$=="](va.$to_s())||this.$warn("asciidoctor: WARNING: "+e.$path()+": line "+wa+": callout list item index: expected "+
va+" got "+aa["$[]"](1)),h(ta=this.$next_list_item(e,N,aa))&&(N["$<<"](ta),h((Ja=L.$callouts().$callout_ids(N.$items().$size()))["$empty?"]())?this.$warn("asciidoctor: WARNING: "+e.$path()+": line "+wa+": no callouts refer to list item "+N.$items().$size()):(I=["coids",Ja],d(ta.$attributes(),"[]=",a.to_a(I)),I[b(I.length,1)])),va=r(va,1),aa=c;L.$callouts().$next_list();break}else if(h(a.const_get_relative(A,"UnorderedListRx")["$match?"](O))){e.$unshift_line(O);N=this.$next_item_list(e,"ulist",f);
(h(u=P)?u:h(y=a.const_get_relative(A,"Section")["$==="](f))?f.$sectname():y)["$=="]("bibliography")&&(h(P)||(I=["style","bibliography"],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),d(N.$items(),"each",[],(E=function(a){var b=E.$$s||this;null==a&&(a=c);return b.$catalog_inline_biblio_anchor(a.$instance_variable_get("@text"),a,L)},E.$$s=this,E.$$arity=1,E)));break}else if(h(aa=a.const_get_relative(A,"OrderedListRx").$match(O))){e.$unshift_line(O);N=this.$next_item_list(e,"olist",f);h(P)||(na=N.$items()["$[]"](0).$marker(),
I=h(na["$start_with?"]("."))?["style",(h(u=a.const_get_relative(A,"ORDERED_LIST_STYLES")["$[]"](b(na.$length(),1)))?u:"arabic").$to_s()]:["style",(h(u=d(a.const_get_relative(A,"ORDERED_LIST_STYLES"),"find",[],(K=function(b){null==b&&(b=c);return a.const_get_relative(A,"OrderedListMarkerRxMap")["$[]"](b)["$match?"](na)},K.$$s=this,K.$$arity=1,K)))?u:"arabic").$to_s()],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]);break}else if(h(aa=a.const_get_relative(A,"DescriptionListRx").$match(O))){e.$unshift_line(O);
N=this.$next_description_list(e,aa,f);break}else if(h(h(u=h(y=P["$=="]("float"))?y:P["$=="]("discrete"))?h(a.const_get_relative(A,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](O,e.$peek_line()):h(y=da["$!"]())?this["$atx_section_title?"](O):y:u)){e.$unshift_line(O);y=this.$parse_section_title(e,L);u=a.to_ary(y);za=null==u[0]?c:u[0];Ba=null==u[1]?c:u[1];ra=null==u[2]?c:u[2];La=null==u[3]?c:u[3];y;h(Ba)&&(I=["reftext",Ba],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]);N=a.const_get_relative(A,
"Block").$new(f,"floating_title",t(["content_model"],{content_model:"empty"}));I=[ra];d(N,"title=",a.to_a(I));I[b(I.length,1)];k.$delete("title");I=[h(u=h(y=za)?y:k["$[]"]("id"))?u:h(L.$attributes()["$key?"]("sectids"))?a.const_get_relative(A,"Section").$generate_id(N.$title(),L):c];d(N,"id=",a.to_a(I));I[b(I.length,1)];I=[La];d(N,"level=",a.to_a(I));I[b(I.length,1)];break}else if(h(h(u=P)?P["$!="]("normal"):u))if(h(a.const_get_relative(A,"PARAGRAPH_STYLES")["$include?"](P))){ga=P.$to_sym();U="paragraph";
e.$unshift_line(O);break}else if(h(a.const_get_relative(A,"ADMONITION_STYLES")["$include?"](P))){ga="admonition";U="paragraph";e.$unshift_line(O);break}else if(h(h(u=xa)?R["$registered_for_block?"](P,"paragraph"):u)){ga=P.$to_sym();U="paragraph";e.$unshift_line(O);break}else this.$warn("asciidoctor: WARNING: "+Q+": line "+ha+": invalid style for paragraph: "+P),P=c;Ha=(u=J["$=="](0))?ka:J["$=="](0);e.$unshift_line(O);if(h(h(u=da)?P["$!"]():u))la=this.$read_paragraph_lines(e,Ha,t(["skip_line_comments"],
{skip_line_comments:C})),this["$adjust_indentation!"](la),N=a.const_get_relative(A,"Block").$new(f,"literal",t(["content_model","source","attributes"],{content_model:"verbatim",source:la,attributes:k})),h(ka)&&N.$set_option("listparagraph");else{la=this.$read_paragraph_lines(e,Ha,t(["skip_line_comments"],{skip_line_comments:!0}));if(h(C)){if(h(h(u=da)?P["$=="]("normal"):u))this["$adjust_indentation!"](la);N=a.const_get_relative(A,"Block").$new(f,"paragraph",t(["content_model","source","attributes"],
{content_model:"simple",source:la,attributes:k}))}else if(h(h(u=h(y=a.const_get_relative(A,"ADMONITION_STYLE_HEADS")["$include?"](Y))?O["$include?"](":"):y)?a.const_get_relative(A,"AdmonitionParagraphRx")["$=~"](O):u))I=[0,(u=l["~"])===c?c:u.$post_match()],d(la,"[]=",a.to_a(I)),I[b(I.length,1)],I=["name",qa=(I=["style",(u=l["~"])===c?c:u["$[]"](1)],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]).$downcase()],d(k,"[]=",a.to_a(I)),I[b(I.length,1)],I=["textlabel",h(u=k.$delete("caption"))?u:L.$attributes()["$[]"](""+
qa+"-caption")],d(k,"[]=",a.to_a(I)),I[b(I.length,1)],N=a.const_get_relative(A,"Block").$new(f,"admonition",t(["content_model","source","attributes"],{content_model:"simple",source:la,attributes:k}));else if(h(h(u=h(y=oa)?Y["$=="](">"):y)?O["$start_with?"]("> "):u)){d(la,"map!",[],(z=function(a){null==a&&(a=c);return a["$=="](">")?a["$[]"](x(1,-1,!1)):h(a["$start_with?"]("> "))?a["$[]"](x(2,-1,!1)):a},z.$$s=this,z.$$arity=1,z));if(h(la["$[]"](-1)["$start_with?"]("-- ")))for(y=la.$pop()["$[]"](x(3,
-1,!1)).$split(", ",2),u=a.to_ary(y),Fa=null==u[0]?c:u[0],ua=null==u[1]?c:u[1],y,h(Fa)&&(I=["attribution",Fa],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),h(ua)&&(I=["citetitle",ua],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]);h(la["$[]"](-1)["$empty?"]());)la.$pop();I=["style","quote"];d(k,"[]=",a.to_a(I));I[b(I.length,1)];N=this.$build_block("quote","compound",!1,f,a.const_get_relative(A,"Reader").$new(la),k)}else if(h(h(u=h(y=(G=Y["$=="]('"'))?p(la.$size(),1):Y["$=="]('"'))?la["$[]"](-1)["$start_with?"]("-- "):
y)?la["$[]"](-2)["$end_with?"]('"'):u)){I=[0,O["$[]"](x(1,-1,!1))];d(la,"[]=",a.to_a(I));I[b(I.length,1)];y=la.$pop()["$[]"](x(3,-1,!1)).$split(", ",2);u=a.to_ary(y);Fa=null==u[0]?c:u[0];ua=null==u[1]?c:u[1];y;h(Fa)&&(I=["attribution",Fa],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]);h(ua)&&(I=["citetitle",ua],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]);for(;h(la["$[]"](-1)["$empty?"]());)la.$pop();I=[-1,la["$[]"](-1).$chop()];d(la,"[]=",a.to_a(I));I[b(I.length,1)];I=["style","quote"];d(k,"[]=",a.to_a(I));I[b(I.length,
1)];N=a.const_get_relative(A,"Block").$new(f,"quote",t(["content_model","source","attributes"],{content_model:"simple",source:la,attributes:k}))}else{if(h(h(u=da)?P["$=="]("normal"):u))this["$adjust_indentation!"](la);N=a.const_get_relative(A,"Block").$new(f,"paragraph",t(["content_model","source","attributes"],{content_model:"simple",source:la,attributes:k}))}this.$catalog_inline_anchors(m(la,a.const_get_relative(A,"LF")),N,L)}break}if(!h(N))if(h(h(F=ga["$=="]("abstract"))?F:ga["$=="]("partintro"))&&
(ga="open"),W=ga,"admonition"["$==="](W))I=["name",qa=P.$downcase()],d(k,"[]=",a.to_a(I)),I[b(I.length,1)],I=["textlabel",h(F=k.$delete("caption"))?F:L.$attributes()["$[]"](""+qa+"-caption")],d(k,"[]=",a.to_a(I)),I[b(I.length,1)],N=this.$build_block(ga,"compound",ba,f,e,k);else{if("comment"["$==="](W))return this.$build_block(ga,"skip",ba,f,e,k),k.$clear(),c;if("example"["$==="](W))N=this.$build_block(ga,"compound",ba,f,e,k);else if("listing"["$==="](W)||"literal"["$==="](W))N=this.$build_block(ga,
"verbatim",ba,f,e,k);else if("source"["$==="](W))a.const_get_relative(A,"AttributeList").$rekey(k,[c,"language","linenums"]),!h(k["$key?"]("language"))&&h(L.$attributes()["$key?"]("source-language"))&&(I=["language",h(F=L.$attributes()["$[]"]("source-language"))?F:"text"],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),!h(k["$key?"]("linenums"))&&h(h(F=k["$key?"]("linenums-option"))?F:L.$attributes()["$key?"]("source-linenums-option"))&&(I=["linenums",""],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),!h(k["$key?"]("indent"))&&
h(L.$attributes()["$key?"]("source-indent"))&&(I=["indent",L.$attributes()["$[]"]("source-indent")],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),N=this.$build_block("listing","verbatim",ba,f,e,k);else if("fenced_code"["$==="](W))I=["style","source"],d(k,"[]=",a.to_a(I)),I[b(I.length,1)],(ia=O.$length())["$=="](3)?Ga=c:h(Ia=(Ga=O.$slice(3,ia)).$index(","))?h(p(Ia,0))?(Ga=Ga.$slice(0,Ia).$strip(),h(q(Ia,b(ia,4)))&&(I=["linenums",""],d(k,"[]=",a.to_a(I)),I[b(I.length,1)])):(Ga=c,h(p(ia,4))&&(I=["linenums",
""],d(k,"[]=",a.to_a(I)),I[b(I.length,1)])):Ga=Ga.$lstrip(),h(Ga["$nil_or_empty?"]())?h(L.$attributes()["$key?"]("source-language"))&&(I=["language",h(F=L.$attributes()["$[]"]("source-language"))?F:"text"],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]):(I=["language",Ga],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),!h(k["$key?"]("linenums"))&&h(h(F=k["$key?"]("linenums-option"))?F:L.$attributes()["$key?"]("source-linenums-option"))&&(I=["linenums",""],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),!h(k["$key?"]("indent"))&&
h(L.$attributes()["$key?"]("source-indent"))&&(I=["indent",L.$attributes()["$[]"]("source-indent")],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),ba=ba.$slice(0,3),N=this.$build_block("listing","verbatim",ba,f,e,k);else if("pass"["$==="](W))N=this.$build_block(ga,"raw",ba,f,e,k);else if("stem"["$==="](W)||"latexmath"["$==="](W)||"asciimath"["$==="](W))ga["$=="]("stem")&&(I=["style",h(Ca=k["$[]"](2))?h(Ca["$include?"]("tex"))?"latexmath":"asciimath":h((qb=L.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?
"asciimath":qb],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),N=this.$build_block("stem","raw",ba,f,e,k);else if("open"["$==="](W)||"sidebar"["$==="](W))N=this.$build_block(ga,"compound",ba,f,e,k);else if("table"["$==="](W))rb=a.const_get_relative(A,"Reader").$new(e.$read_lines_until(t(["terminator","skip_line_comments"],{terminator:ba,skip_line_comments:!0})),e.$cursor()),h(ba["$start_with?"]("|","!"))||(h(F=k["$[]"]("format"))?F:(I=["format",h(ba["$start_with?"](","))?"csv":"dsv"],d(k,"[]=",a.to_a(I)),
I[b(I.length,1)])),N=this.$next_table(rb,f,k);else if("quote"["$==="](W)||"verse"["$==="](W))a.const_get_relative(A,"AttributeList").$rekey(k,[c,"attribution","citetitle"]),N=this.$build_block(ga,ga["$=="]("verse")?"verbatim":"compound",ba,f,e,k);else if(h(h(F=xa)?ea=R["$registered_for_block?"](ga,U):F)){if(h((sb=ea.$config()["$[]"]("content_model"))["$!="]("skip"))&&(h((tb=h(F=ea.$config()["$[]"]("pos_attrs"))?F:[])["$empty?"]()["$!"]())&&a.const_get_relative(A,"AttributeList").$rekey(k,[c].$concat(tb)),
h(Ka=ea.$config()["$[]"]("default_attrs"))&&d(Ka,"each",[],(B=function(e,f){var l;null==e&&(e=c);null==f&&(f=c);return h(l=k["$[]"](e))?l:(I=[e,f],d(k,"[]=",a.to_a(I)),I[b(I.length,1)])},B.$$s=this,B.$$arity=2,B)),I=["cloaked-context",U],d(k,"[]=",a.to_a(I)),I[b(I.length,1)]),N=this.$build_block(ga,sb,ba,f,e,k,t(["extension"],{extension:ea})),!h(N))return k.$clear(),c}else this.$raise("Unsupported block type "+ga+" at "+e.$line_info())}h(S)&&(I=[S],d(N,"source_location=",a.to_a(I)),I[b(I.length,1)]);
h(k["$key?"]("title"))&&(I=[k.$delete("title")],d(N,"title=",a.to_a(I)),I[b(I.length,1)]);I=[k["$[]"]("style")];d(N,"style=",a.to_a(I));I[b(I.length,1)];h(cb=h(F=N.$id())?F:(I=[k["$[]"]("id")],d(N,"id=",a.to_a(I)),I[b(I.length,1)]))&&!h(L.$register("refs",[cb,N,h(F=k["$[]"]("reftext"))?F:h(N["$title?"]())?N.$title():c]))&&this.$warn("asciidoctor: WARNING: "+Q+": line "+ha+": id assigned to block already in use: "+cb);h(k["$empty?"]())||N.$attributes().$update(k);N.$lock_in_subs();h(N["$sub?"]("callouts"))&&
!h(this.$catalog_callouts(N.$source(),L))&&N.$remove_sub("callouts");return N}catch(db){if(db===a.returner)return db.$v;throw db;}},V.$$arity=-3);a.defs(f,"$read_paragraph_lines",ba=function(e,f,k){var l=c,l=c;null==k&&(k=t([],{}));l=["break_on_blank_lines",!0];d(k,"[]=",a.to_a(l));l[b(l.length,1)];l=["break_on_list_continuation",!0];d(k,"[]=",a.to_a(l));l[b(l.length,1)];l=["preserve_last_line",!0];d(k,"[]=",a.to_a(l));l[b(l.length,1)];l=h(f)?h(a.const_get_relative(A,"Compliance").$block_terminates_paragraph())?
a.const_get_relative(A,"StartOfBlockOrListProc"):a.const_get_relative(A,"StartOfListProc"):h(a.const_get_relative(A,"Compliance").$block_terminates_paragraph())?a.const_get_relative(A,"StartOfBlockProc"):a.const_get_relative(A,"NoOp");return d(e,"read_lines_until",[k],l.$to_proc())},ba.$$arity=-3);a.defs(f,"$is_delimited_block?",N=function(d,e){var f,k,l=k=c,t=c,n=c,r=c,n=t=c;null==e&&(e=!1);if(!h(h(f=p(k=d.$length(),1))?a.const_get_relative(A,"DELIMITED_BLOCK_HEADS")["$include?"](d.$slice(0,2)):
f))return c;if(k["$=="](2))l=d,t=2;else{h("number"===typeof k?4>=k:k["$<="](4))?(l=d,t=k):(l=d.$slice(0,4),t=4);n=!1;if(h(a.const_get_relative(A,"Compliance").$markdown_syntax())&&(r=t["$=="](4)?l.$chop():l,r["$=="]("```"))){if(h(t["$=="](4)?l["$end_with?"]("`"):t["$=="](4)))return c;l=r;t=3;n=!0}if(h((f=t["$=="](3))?n["$!"]():t["$=="](3)))return c}if(h(a.const_get_relative(A,"DELIMITED_BLOCKS")["$key?"](l))){if(h(h(f=q(t,4))?f:t["$=="](k)))return h(e)?(k=a.const_get_relative(A,"DELIMITED_BLOCKS")["$[]"](l),
f=a.to_ary(k),t=null==f[0]?c:f[0],n=null==f[1]?c:f[1],k,a.const_get_relative(A,"BlockMatchData").$new(t,n,l,l)):!0;if((""+l+m(l["$[]"](x(-1,-1,!1)),b(k,t)))["$=="](d))return h(e)?(k=a.const_get_relative(A,"DELIMITED_BLOCKS")["$[]"](l),f=a.to_ary(k),t=null==f[0]?c:f[0],n=null==f[1]?c:f[1],k,a.const_get_relative(A,"BlockMatchData").$new(t,n,l,d)):!0}return c},N.$$arity=-2);a.defs(f,"$build_block",O=function(e,f,k,l,m,n,q){var r,F,u=c,y=c,x=u=y=c;r=x=x=x=c;null==q&&(q=t([],{}));r=f["$=="]("skip")?[!0,
"simple"]:f["$=="]("raw")?[!1,"simple"]:[!1,f];u=r[0];y=r[1];r;h(k["$nil?"]())?(y["$=="]("verbatim")?y=m.$read_lines_until(t(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(f["$=="]("compound")&&(f="simple"),y=this.$read_paragraph_lines(m,!1,t(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:u}))),u=c):h(y["$!="]("compound"))?(y=m.$read_lines_until(t(["terminator","skip_processing"],{terminator:k,skip_processing:u})),
u=c):k["$=="](!1)?(y=c,u=m):(y=c,u=a.const_get_relative(A,"Reader").$new(m.$read_lines_until(t(["terminator","skip_processing"],{terminator:k,skip_processing:u})),m.$cursor()));if(f["$=="]("verbatim"))if(h(x=n["$[]"]("indent")))this["$adjust_indentation!"](y,x,h(r=n["$[]"]("tabsize"))?r:l.$document().$attributes()["$[]"]("tabsize"));else{if(h(p(x=(h(r=n["$[]"]("tabsize"))?r:l.$document().$attributes()["$[]"]("tabsize")).$to_i(),0)))this["$adjust_indentation!"](y,c,x)}else if(f["$=="]("skip"))return c;
if(h(x=q["$[]"]("extension")))if(n.$delete("style"),h(x=x.$process_method()["$[]"](l,h(r=u)?r:a.const_get_relative(A,"Reader").$new(y),n.$dup())))n.$replace(x.$attributes()),h((r=x.$content_model()["$=="]("compound"))?(y=x.$lines())["$nil_or_empty?"]()["$!"]():x.$content_model()["$=="]("compound"))&&(f="compound",u=a.const_get_relative(A,"Reader").$new(y));else return c;else x=a.const_get_relative(A,"Block").$new(l,e,t(["content_model","source","attributes"],{content_model:f,source:y,attributes:n}));
h(h(r=h(F=n["$key?"]("title"))?x.$context()["$!="]("admonition"):F)?l.$document().$attributes()["$key?"](""+x.$context()+"-caption"):r)&&(r=[n.$delete("title")],d(x,"title=",a.to_a(r)),r[b(r.length,1)],x.$assign_caption(n.$delete("caption")));f["$=="]("compound")&&this.$parse_blocks(u,x);return x},O.$$arity=-7);a.defs(f,"$parse_blocks",ma=function(a,b){for(var d,e,g=c;h(h(d=h(e=g=this.$next_block(a,b))?b["$<<"](g):e)?d:a["$has_more_lines?"]()););},ma.$$arity=2);a.defs(f,"$next_item_list",da=function(e,
f,k){var l,m=c,t=c,n=c,F=t=c,u=c,y=c,m=a.const_get_relative(A,"List").$new(k,f),t=k.$context()["$=="](f)?[r(k.$level(),1)]:[1];d(m,"level=",a.to_a(t));for(t[b(t.length,1)];h(h(l=e["$has_more_lines?"]())?n=a.const_get_relative(A,"ListRxMap")["$[]"](f).$match(e.$peek_line()):l);){t=this.$resolve_list_marker(f,n["$[]"](1));if(h(h(l=m["$items?"]())?t["$!="](m.$items()["$[]"](0).$marker()):l))for(F=r(m.$level(),1),u=k;u.$context()["$=="](f);){if(t["$=="](u.$items()["$[]"](0).$marker())){F=u.$level();break}u=
u.$parent()}else F=m.$level();if(h(h(l=m["$items?"]()["$!"]())?l:F["$=="](m.$level())))y=this.$next_list_item(e,m,n);else if(h(q(F,m.$level())))break;else if(h(p(F,m.$level())))m.$items()["$[]"](-1)["$<<"](this.$next_block(e,m));if(h(y))m["$<<"](y);y=c;if(h(l=e.$skip_blank_lines()))l;else break}return m},da.$$arity=3);a.defs(f,"$catalog_callouts",I=function(b,e){var g,f=c,f=!1;h(b["$include?"]("<"))&&d(b,"scan",[a.const_get_relative(A,"CalloutScanRx")],(g=function(){var a,b,d=c,g=c;a=[(b=l["~"])===
c?c:b["$[]"](0),(b=l["~"])===c?c:b["$[]"](2)];d=a[0];g=a[1];a;h(d["$start_with?"]("\\"))||e.$callouts().$register(g);return f=!0},g.$$s=this,g.$$arity=0,g));return f},I.$$arity=2);a.defs(f,"$catalog_inline_anchors",X=function(b,e,g){var f,k;h(h(f=b["$include?"]("[["))?f:b["$include?"]("or:"))&&d(b,"scan",[a.const_get_relative(A,"InlineAnchorScanRx")],(k=function(){var b=k.$$s||this,d,f=c,m=c;if(h(f=(d=l["~"])===c?c:d["$[]"](1))){if(h(m=(d=l["~"])===c?c:d["$[]"](2))&&h(h(d=m["$include?"](a.const_get_relative(A,
"ATTR_REF_HEAD")))?(m=g.$sub_attributes(m))["$empty?"]():d))return c}else if(f=(d=l["~"])===c?c:d["$[]"](3),h(m=(d=l["~"])===c?c:d["$[]"](4))&&(h(m["$include?"]("]"))&&(m=m.$gsub("\\]","]")),h(h(d=m["$include?"](a.const_get_relative(A,"ATTR_REF_HEAD")))?(m=g.$sub_attributes(m))["$empty?"]():d)))return c;return h(g.$register("refs",[f,a.const_get_relative(A,"Inline").$new(e,"anchor",m,t(["type","id"],{type:"ref",id:f})),m]))?c:b.$warn("asciidoctor: WARNING: "+g.$reader().$path()+": id assigned to anchor already in use: "+
f)},k.$$s=this,k.$$arity=0,k));return c},X.$$arity=3);a.defs(f,"$catalog_inline_biblio_anchor",W=function(b,d,e){var g,f,k=c,m=c;h(a.const_get_relative(A,"InlineBiblioAnchorRx")["$=~"](b))&&!h(e.$register("refs",[k=(g=l["~"])===c?c:g["$[]"](1),a.const_get_relative(A,"Inline").$new(d,"anchor",m="["+(h(g=(f=l["~"])===c?c:f["$[]"](2))?g:k)+"]",t(["type","id"],{type:"bibref",id:k})),m]))&&this.$warn("asciidoctor: WARNING: "+e.$reader().$path()+": id assigned to bibliography anchor already in use: "+k);
return c},W.$$arity=3);a.defs(f,"$next_description_list",Z=function(b,d,e){for(var g,f,k=c,l=c,m=c,p=c,t=c,k=a.const_get_relative(A,"List").$new(e,"dlist"),l=c,m=a.const_get_relative(A,"DescriptionListSiblingRx")["$[]"](d["$[]"](2));h(h(g=d)?g:h(f=b["$has_more_lines?"]())?d=m.$match(b.$peek_line()):f);){f=this.$next_list_item(b,k,d,m);g=a.to_ary(f);p=null==g[0]?c:g[0];t=null==g[1]?c:g[1];f;if(h(h(g=l)?l["$[]"](-1)["$!"]():g))l.$pop(),l["$[]"](0)["$<<"](p),l["$<<"](t);else k.$items()["$<<"](l=[[p],
t]);d=c}return k},Z.$$arity=3);a.defs(f,"$next_list_item",fa=function(e,f,k,l){var m,p,n,q=c,r=c,F=c,u=c,y=F=c,v=y=y=u=c,w=c,E=w=v=c,K=c;null==l&&(l=c);(q=f.$context())["$=="]("dlist")?(r=a.const_get_relative(A,"ListItem").$new(f,k["$[]"](1)),F=a.const_get_relative(A,"ListItem").$new(f,k["$[]"](3)),u=k["$[]"](3)["$nil_or_empty?"]()["$!"]()):(F=k["$[]"](2),y=!1,h((m=q["$=="]("ulist"))?F["$start_with?"]("["):q["$=="]("ulist"))&&(h(F["$start_with?"]("[ ] "))?(y=!0,u=!1,F=F["$[]"](x(3,-1,!1)).$lstrip()):
h(F["$start_with?"]("[x] ","[*] "))&&(u=y=!0,F=F["$[]"](x(3,-1,!1)).$lstrip())),F=a.const_get_relative(A,"ListItem").$new(f,F),h(y)&&(y=["checklist-option",""],d(f.$attributes(),"[]=",a.to_a(y)),y[b(y.length,1)],y=["checkbox",""],d(F.$attributes(),"[]=",a.to_a(y)),y[b(y.length,1)],h(u)&&(y=["checked",""],d(F.$attributes(),"[]=",a.to_a(y)),y[b(y.length,1)])),l=h(m=l)?m:this.$resolve_list_marker(q,k["$[]"](1),f.$items().$size(),!0,e),y=[l],d(F,"marker=",a.to_a(y)),y[b(y.length,1)],u=!0);e.$shift();
y=a.const_get_relative(A,"Reader").$new(this.$read_lines_for_list_item(e,q,l,u),e.$cursor());if(h(y["$has_more_lines?"]())){v=y.$skip_line_comments();h(w=y.$peek_line())?(h(v["$empty?"]())||y.$unshift_lines(v),h(v=w["$empty?"]())?w=!1:(w=!0,q["$=="]("dlist")||(u=!1))):w=v=!1;for(E=t(["text"],{text:u["$!"]()});h(h(p=h(n=K=this.$next_block(y,F,t([],{}),E))?F["$<<"](K):n)?p:y["$has_more_lines?"]()););F.$fold_first(v,w)}return q["$=="]("dlist")?h(h(m=F["$text?"]())?m:F["$blocks?"]())?[r,F]:[r,c]:F},fa.$$arity=
-4);a.defs(f,"$read_lines_for_list_item",K=function(e,f,k,m){var p,n,q,r,F,u,y,x,v=c,w=c,E=c,K=c,D=c,H=c,H=q=q=c;null==k&&(k=c);null==m&&(m=!0);v=[];w="inactive";E=!1;for(K=c;h(e["$has_more_lines?"]());){D=e.$read_line();if(h(this["$is_sibling_list_item?"](D,f,k)))break;H=h(v["$empty?"]())?c:v["$[]"](-1);if(H["$=="](a.const_get_relative(A,"LIST_CONTINUATION"))&&(w["$=="]("inactive")&&(w="active",m=!0,h(E)||(q=[-1,""],d(v,"[]=",a.to_a(q)),q[b(q.length,1)])),D["$=="](a.const_get_relative(A,"LIST_CONTINUATION")))){h(w["$!="]("frozen"))&&
(w="frozen",v["$<<"](D));D=c;continue}if(h(q=this["$is_delimited_block?"](D,!0)))if(w["$=="]("active"))v["$<<"](D),v.$concat(e.$read_lines_until(t(["terminator","read_last_line"],{terminator:q.$terminator(),read_last_line:!0}))),w="inactive";else break;else if(h(h(n=(q=f["$=="]("dlist"))?w["$!="]("active"):f["$=="]("dlist"))?a.const_get_relative(A,"BlockAttributeLineRx")["$match?"](D):n))break;else if(h((n=w["$=="]("active"))?D["$empty?"]()["$!"]():w["$=="]("active")))if(h(a.const_get_relative(A,
"LiteralParagraphRx")["$match?"](D)))e.$unshift_line(D),v.$concat(d(e,"read_lines_until",[t(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(r=function(a){var b=r.$$s||this;null==a&&(a=c);return f["$=="]("dlist")?b["$is_sibling_list_item?"](a,f,k):f["$=="]("dlist")},r.$$s=this,r.$$arity=1,r))),w="inactive";else if(h(h(n=h(q=a.const_get_relative(A,"BlockTitleRx")["$match?"](D))?q:a.const_get_relative(A,
"BlockAttributeLineRx")["$match?"](D))?n:a.const_get_relative(A,"AttributeEntryRx")["$match?"](D)))v["$<<"](D);else h(H=d(h(E)?["dlist"]:a.const_get_relative(A,"NESTABLE_LIST_CONTEXTS"),"find",[],(F=function(b){null==b&&(b=c);return a.const_get_relative(A,"ListRxMap")["$[]"](b)["$match?"](D)},F.$$s=this,F.$$arity=1,F)))&&(E=!0,h((n=H["$=="]("dlist"))?((q=l["~"])===c?c:q["$[]"](3))["$nil_or_empty?"]():H["$=="]("dlist"))&&(m=!1)),v["$<<"](D),w="inactive";else if(h(h(n=H)?H["$empty?"]():n)){if(h(D["$empty?"]())){if(!h(D=
h(n=e.$skip_blank_lines())?e.$read_line():n))break;if(h(this["$is_sibling_list_item?"](D,f,k)))break}if(D["$=="](a.const_get_relative(A,"LIST_CONTINUATION")))K=v.$size(),v["$<<"](D);else if(h(m))if(h(this["$is_sibling_list_item?"](D,f,k)))break;else if(h(H=d(a.const_get_relative(A,"NESTABLE_LIST_CONTEXTS"),"find",[],(u=function(b){null==b&&(b=c);return a.const_get_relative(A,"ListRxMap")["$[]"](b)["$=~"](D)},u.$$s=this,u.$$arity=1,u))))v["$<<"](D),E=!0,h((n=H["$=="]("dlist"))?((q=l["~"])===c?c:q["$[]"](3))["$nil_or_empty?"]():
H["$=="]("dlist"))&&(m=!1);else if(h(a.const_get_relative(A,"LiteralParagraphRx")["$match?"](D)))e.$unshift_line(D),v.$concat(d(e,"read_lines_until",[t(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(y=function(a){var b=y.$$s||this;null==a&&(a=c);return f["$=="]("dlist")?b["$is_sibling_list_item?"](a,f,k):f["$=="]("dlist")},y.$$s=this,y.$$arity=1,y)));else break;else h(E)||v.$pop(),v["$<<"](D),
m=!0}else h(D["$empty?"]()["$!"]())&&(m=!0),h(H=d(h(E)?["dlist"]:a.const_get_relative(A,"NESTABLE_LIST_CONTEXTS"),"find",[],(x=function(b){null==b&&(b=c);return a.const_get_relative(A,"ListRxMap")["$[]"](b)["$=~"](D)},x.$$s=this,x.$$arity=1,x)))&&(E=!0,h((n=H["$=="]("dlist"))?((q=l["~"])===c?c:q["$[]"](3))["$nil_or_empty?"]():H["$=="]("dlist"))&&(m=!1)),v["$<<"](D);D=c}h(D)&&e.$unshift_line(D);for(h(K)&&v.$delete_at(K);h(h(n=v["$empty?"]()["$!"]())?v["$[]"](-1)["$empty?"]():n);)v.$pop();h(h(p=v["$empty?"]()["$!"]())?
v["$[]"](-1)["$=="](a.const_get_relative(A,"LIST_CONTINUATION")):p)&&v.$pop();return v},K.$$arity=-3);a.defs(f,"$initialize_section",ka=function(e,f,k){var l,m,n=c,q=c,r=c,F=c,u=c,y=c,x=c,v=c,w=c,E=c,D=c,K=c,H=w=l=c;null==k&&(k=t([],{}));n=f.$document();h(n.$sourcemap())&&(q=e.$cursor());m=this.$parse_section_title(e,n);l=a.to_ary(m);r=null==l[0]?c:l[0];F=null==l[1]?c:l[1];u=null==l[2]?c:l[2];y=null==l[3]?c:l[3];x=null==l[4]?c:l[4];m;h(F)?(v=["reftext",F],d(k,"[]=",a.to_a(v)),v[b(v.length,1)]):h(k["$key?"]("reftext"))&&
(F=k["$[]"]("reftext"));w=h(k["$[]"](1))?this.$parse_style_attribute(k,e):c;h(w)?h(w["$=="]("abstract")?n.$doctype()["$=="]("book"):w["$=="]("abstract"))?(l=["chapter",1],E=l[0],y=l[1],l):(l=[w,!0],E=l[0],D=l[1],l,y["$=="](0)&&(y=1),K=w["$=="]("appendix")):(l=n.$doctype(),"book"["$==="](l)?E=y["$=="](0)?"part":y["$=="](1)?"chapter":"section":"manpage"["$==="](l)?u.$casecmp("synopsis")["$=="](0)?(l=["synopsis",!0],E=l[0],D=l[1],l):E="section":E="section");w=a.const_get_relative(A,"Section").$new(f,
y,!1);l=[r,u,E,q];w["$id="](l[0]);w["$title="](l[1]);w["$sectname="](l[2]);w["$source_location="](l[3]);l;h(D)?(v=[!0],d(w,"special=",a.to_a(v)),v[b(v.length,1)],h(K)&&(v=[!0],d(w,"numbered=",a.to_a(v)),v[b(v.length,1)])):h(h(l=p(y,0))?n.$attributes()["$key?"]("sectnums"):l)&&(v=[h(w.$special())?(l=f.$context()["$=="]("section"))?f.$numbered():f.$context()["$=="]("section"):!0],d(w,"numbered=",a.to_a(v)),v[b(v.length,1)]);h(H=h(l=w.$id())?l:(v=[h(m=k["$[]"]("id"))?m:h(n.$attributes()["$key?"]("sectids"))?
a.const_get_relative(A,"Section").$generate_id(w.$title(),n):c],d(w,"id=",a.to_a(v)),v[b(v.length,1)]))&&!h(n.$register("refs",[H,w,h(l=F)?l:w.$title()]))&&this.$warn("asciidoctor: WARNING: "+e.$path()+": line "+b(e.$lineno(),h(x)?1:2)+": id assigned to section already in use: "+H);w.$update_attributes(k);e.$skip_blank_lines();return w},ka.$$arity=-3);a.defs(f,"$is_next_line_section?",oa=function(b,e){var g,f,k=c;return h(h(g=h(f=k=e["$[]"](1))?k["$start_with?"]("discrete","float"):f)?a.const_get_relative(A,
"DiscreteHeadingStyleRx")["$match?"](k):g)?c:h(b["$has_more_lines?"]())?h(a.const_get_relative(A,"Compliance").$underline_style_section_titles())?d(this,"is_section_title?",a.to_a(b.$peek_lines(2,h(g=k)?k["$=="]("comment"):g))):this["$atx_section_title?"](b.$peek_line()):c},oa.$$arity=2);a.defs(f,"$is_next_line_doctitle?",aa=function(a,b,d){var e,g=c;return h(d)?h(e=g=this["$is_next_line_section?"](a,b))?r(g,d.$to_i())["$=="](0):e:this["$is_next_line_section?"](a,b)["$=="](0)},aa.$$arity=3);a.defs(f,
"$is_section_title?",ia=function(a,b){var d;null==b&&(b=c);return h(d=this["$atx_section_title?"](a))?d:h(b["$nil_or_empty?"]())?c:this["$setext_section_title?"](a,b)},ia.$$arity=-2);a.defs(f,"$atx_section_title?",za=function(d){var e;return h(h(a.const_get_relative(A,"Compliance").$markdown_syntax())?h(e=d["$start_with?"]("=","#"))?a.const_get_relative(A,"ExtAtxSectionTitleRx")["$=~"](d):e:h(e=d["$start_with?"]("="))?a.const_get_relative(A,"AtxSectionTitleRx")["$=~"](d):e)?b(((e=l["~"])===c?c:e["$[]"](1)).$length(),
1):c},za.$$arity=1);a.defs(f,"$setext_section_title?",qa=function(d,e){var f,k,l,p=c,t=c,n=c;return h(h(f=h(k=h(l=p=a.const_get_relative(A,"SETEXT_SECTION_LEVELS")["$[]"](t=e.$chr()))?m(t,n=e.$length())["$=="](e):l)?a.const_get_relative(A,"SetextSectionTitleRx")["$match?"](d):k)?q(b(this.$line_length(d),n).$abs(),2):f)?p:c},qa.$$arity=2);a.defs(f,"$parse_section_title",na=function(d,e){var f,k,p,t,n,F=c,u=c,y=c,x=c,v=c,w=c,E=c,K=c,z=c,F=u=c,y=d.$read_line();h(h(a.const_get_relative(A,"Compliance").$markdown_syntax())?
h(f=y["$start_with?"]("=","#"))?a.const_get_relative(A,"ExtAtxSectionTitleRx")["$=~"](y):f:h(f=y["$start_with?"]("="))?a.const_get_relative(A,"AtxSectionTitleRx")["$=~"](y):f)?(f=[b(((k=l["~"])===c?c:k["$[]"](1)).$length(),1),(k=l["~"])===c?c:k["$[]"](2),!0],x=f[0],v=f[1],w=f[2],f,h(h(f=h(k=v["$end_with?"]("]]"))?a.const_get_relative(A,"InlineSectionAnchorRx")["$=~"](v):k)?((k=l["~"])===c?c:k["$[]"](1))["$!"]():f)&&(f=[v.$slice(0,b(v.$length(),((k=l["~"])===c?c:k["$[]"](0)).$length())),(k=l["~"])===
c?c:k["$[]"](2),(k=l["~"])===c?c:k["$[]"](3)],v=f[0],F=f[1],u=f[2],f)):h(h(f=h(k=h(p=h(t=h(n=a.const_get_relative(A,"Compliance").$underline_style_section_titles())?E=d.$peek_line(!0):n)?x=a.const_get_relative(A,"SETEXT_SECTION_LEVELS")["$[]"](K=E.$chr()):t)?m(K,z=E.$length())["$=="](E):p)?v=h(p=a.const_get_relative(A,"SetextSectionTitleRx")["$=~"](y))?(t=l["~"])===c?c:t["$[]"](1):p:k)?q(b(this.$line_length(y),z).$abs(),2):f)?(w=!1,h(h(f=h(k=v["$end_with?"]("]]"))?a.const_get_relative(A,"InlineSectionAnchorRx")["$=~"](v):
k)?((k=l["~"])===c?c:k["$[]"](1))["$!"]():f)&&(f=[v.$slice(0,b(v.$length(),((k=l["~"])===c?c:k["$[]"](0)).$length())),(k=l["~"])===c?c:k["$[]"](2),(k=l["~"])===c?c:k["$[]"](3)],v=f[0],F=f[1],u=f[2],f),d.$shift()):this.$raise("Unrecognized section at "+d.$prev_line_info());h(e["$attr?"]("leveloffset"))&&(x=r(x,e.$attr("leveloffset").$to_i()));return[F,u,v,x,w]},na.$$arity=2);h(a.const_get_relative(A,"FORCE_UNICODE_LINE_LENGTH"))?a.defs(f,"$line_length",ra=function(b){return b.$scan(a.const_get_relative(A,
"UnicodeCharScanRx")).$size()},ra.$$arity=1):a.defs(f,"$line_length",ta=function(a){return a.$length()},ta.$$arity=1);a.defs(f,"$parse_header_metadata",ua=function(e,f){var k,l,p,n,q=c,F=c,u=c,y=c,v=c,w=c,E=c,K=c,z=w=c,I=c,w=E=v=u=F=c;null==f&&(f=c);this.$process_attribute_entries(e,f);k=[t([],{}),c,c];q=k[0];F=k[1];u=k[2];k;h(h(k=e["$has_more_lines?"]())?e["$next_line_empty?"]()["$!"]():k)&&(h((y=this.$process_authors(e.$read_line()))["$empty?"]())||(h(f)&&(d(y,"each",[],(l=function(e,k){var l=c;
null==e&&(e=c);null==k&&(k=c);if(h(f.$attributes()["$key?"](e)))return c;l=[e,h(a.const_get_qualified("::","String")["$==="](k))?f.$apply_header_subs(k):k];d(f.$attributes(),"[]=",a.to_a(l));return l[b(l.length,1)]},l.$$s=this,l.$$arity=2,l)),F=f.$attributes()["$[]"]("author"),u=f.$attributes()["$[]"]("authors")),q=y),this.$process_attribute_entries(e,f),v=t([],{}),h(h(k=e["$has_more_lines?"]())?e["$next_line_empty?"]()["$!"]():k)&&(w=e.$read_line(),h(E=a.const_get_relative(A,"RevisionInfoLineRx").$match(w))?
(h(E["$[]"](1))&&(K=["revnumber",E["$[]"](1).$rstrip()],d(v,"[]=",a.to_a(K)),K[b(K.length,1)]),h((w=E["$[]"](2).$strip())["$empty?"]())||(K=h(h(k=E["$[]"](1)["$!"]())?w["$start_with?"]("v"):k)?["revnumber",w["$[]"](x(1,-1,!1))]:["revdate",w],d(v,"[]=",a.to_a(K)),K[b(K.length,1)]),h(E["$[]"](3))&&(K=["revremark",E["$[]"](3).$rstrip()],d(v,"[]=",a.to_a(K)),K[b(K.length,1)])):e.$unshift_line(w)),h(v["$empty?"]())||(h(f)&&d(v,"each",[],(p=function(e,k){null==e&&(e=c);null==k&&(k=c);if(h(f.$attributes()["$key?"](e)))return c;
K=[e,f.$apply_header_subs(k)];d(f.$attributes(),"[]=",a.to_a(K));return K[b(K.length,1)]},p.$$s=this,p.$$arity=2,p)),q.$update(v)),this.$process_attribute_entries(e,f),e.$skip_blank_lines());if(h(f)){if(h(h(k=f.$attributes()["$key?"]("author"))?(z=f.$attributes()["$[]"]("author"))["$!="](F):k))y=this.$process_authors(z,!0,!1);else if(h(h(k=f.$attributes()["$key?"]("authors"))?(z=f.$attributes()["$[]"]("authors"))["$!="](u):k))y=this.$process_authors(z,!0);else{k=[[],1,"author_1",!1,!1];I=k[0];F=k[1];
u=k[2];v=k[3];E=k[4];for(k;h(f.$attributes()["$key?"](u));)(w=f.$attributes()["$[]"](u))["$=="](y["$[]"](u))?(I["$<<"](c),E=!0):(I["$<<"](w),v=!0),u="author_"+(F=r(F,1));h(v)?(h(E)&&d(I,"each_with_index",[],(n=function(e,f){var k=n.$$s||this,l,p=c;null==e&&(e=c);null==f&&(f=c);if(h(e))return c;K=[f,m(d([y["$[]"]("firstname_"+(p=r(f,1))),y["$[]"]("middlename_"+p),y["$[]"]("lastname_"+p)].$compact(),"map",[],(l=function(a){null==a&&(a=c);return a.$tr(" ","_")},l.$$s=k,l.$$arity=1,l))," ")];d(I,"[]=",
a.to_a(K));return K[b(K.length,1)]},n.$$s=this,n.$$arity=2,n)),y=this.$process_authors(I,!0,!1)):y=t([],{})}h(y["$empty?"]())||(f.$attributes().$update(y),h(h(k=f.$attributes()["$key?"]("email")["$!"]())?f.$attributes()["$key?"]("email_1"):k)&&(K=["email",f.$attributes()["$[]"]("email_1")],d(f.$attributes(),"[]=",a.to_a(K)),K[b(K.length,1)]))}return q},ua.$$arity=-2);a.defs(f,"$process_authors",Ca=function(e,f,k){var l,m,p=this,n=c,q=c,F=c;null==f&&(f=!1);null==k&&(k=!0);n=t([],{});q="author authorinitials firstname middlename lastname email".split(" ");
F=function(){return h(k)?d(e.$split(";"),"map",[],(l=function(a){null==a&&(a=c);return a.$strip()},l.$$s=p,l.$$arity=1,l)):p.$Array(e)}();d(F,"each_with_index",[],(m=function(e,k){var l=m.$$s||this,p,F,u,y,v=c,x=c,w=c,E=c,G=c,K=c,D=c,M=c;null==e&&(e=c);null==k&&(k=c);if(h(e["$empty?"]()))return c;v=t([],{});k["$=="](0)?d(q,"each",[],(p=function(e){var f=c;null==e&&(e=c);f=[e.$to_sym(),e];d(v,"[]=",a.to_a(f));return f[b(f.length,1)]},p.$$s=l,p.$$arity=1,p)):d(q,"each",[],(F=function(e){var f=c;null==
e&&(e=c);f=[e.$to_sym(),""+e+"_"+r(k,1)];d(v,"[]=",a.to_a(f));return f[b(f.length,1)]},F.$$s=l,F.$$arity=1,F));x=c;if(h(f)){if(h(e["$include?"]("<"))&&(w=[v["$[]"]("author"),e.$tr("_"," ")],d(n,"[]=",a.to_a(w)),w[b(w.length,1)],e=e.$gsub(a.const_get_relative(A,"XmlSanitizeRx"),"")),(x=e.$split(c,3)).$size()["$=="](3))x["$<<"](x.$pop().$squeeze(" "))}else h(E=a.const_get_relative(A,"AuthorInfoLineRx").$match(e))&&(x=E.$to_a()).$shift();h(x)?(G=(w=[v["$[]"]("firstname"),K=x["$[]"](0).$tr("_"," ")],
d(n,"[]=",a.to_a(w)),w[b(w.length,1)]),w=[v["$[]"]("authorinitials"),K.$chr()],d(n,"[]=",a.to_a(w)),w[b(w.length,1)],h(x["$[]"](1))&&(h(x["$[]"](2))?(w=[v["$[]"]("middlename"),D=x["$[]"](1).$tr("_"," ")],d(n,"[]=",a.to_a(w)),w[b(w.length,1)],w=[v["$[]"]("lastname"),M=x["$[]"](2).$tr("_"," ")],d(n,"[]=",a.to_a(w)),w[b(w.length,1)],G=r(r(r(r(K," "),D)," "),M),w=[v["$[]"]("authorinitials"),""+K.$chr()+D.$chr()+M.$chr()]):(w=[v["$[]"]("lastname"),M=x["$[]"](1).$tr("_"," ")],d(n,"[]=",a.to_a(w)),w[b(w.length,
1)],G=r(r(K," "),M),w=[v["$[]"]("authorinitials"),""+K.$chr()+M.$chr()]),d(n,"[]=",a.to_a(w)),w[b(w.length,1)]),h(u=n["$[]"](v["$[]"]("author")))?u:(w=[v["$[]"]("author"),G],d(n,"[]=",a.to_a(w)),w[b(w.length,1)]),h(h(u=f)?u:x["$[]"](3)["$!"]())||(w=[v["$[]"]("email"),x["$[]"](3)],d(n,"[]=",a.to_a(w)),w[b(w.length,1)])):(w=[v["$[]"]("author"),(w=[v["$[]"]("firstname"),K=e.$squeeze(" ").$strip()],d(n,"[]=",a.to_a(w)),w[b(w.length,1)])],d(n,"[]=",a.to_a(w)),w[b(w.length,1)],w=[v["$[]"]("authorinitials"),
K.$chr()],d(n,"[]=",a.to_a(w)),w[b(w.length,1)]);w=["authorcount",r(k,1)];d(n,"[]=",a.to_a(w));w[b(w.length,1)];k["$=="](1)&&d(q,"each",[],(y=function(e){null==e&&(e=c);return h(n["$key?"](e))?(w=[""+e+"_1",n["$[]"](e)],d(n,"[]=",a.to_a(w)),w[b(w.length,1)]):c},y.$$s=l,y.$$arity=1,y));w=k["$=="](0)?["authors",n["$[]"](v["$[]"]("author"))]:["authors",""+n["$[]"]("authors")+", "+n["$[]"](v["$[]"]("author"))];d(n,"[]=",a.to_a(w));return w[b(w.length,1)]},m.$$s=p,m.$$arity=2,m));return n},Ca.$$arity=
-2);a.defs(f,"$parse_block_metadata_lines",va=function(a,b,c,d){var e;null==c&&(c=t([],{}));for(null==d&&(d=t([],{}));h(this.$parse_block_metadata_line(a,b,c,d));)if(a.$shift(),h(e=a.$skip_blank_lines()))e;else break;return c},va.$$arity=-3);a.defs(f,"$parse_block_metadata_line",Ba=function(e,f,k,p){var n,q,r=c,F=c,u=c,u=u=c;null==l["~"]&&(l["~"]=c);null==p&&(p=t([],{}));if(h(h(n=r=e.$peek_line())?h(p["$[]"]("text"))?r["$start_with?"]("[","/"):F=r["$start_with?"]("[",".","/",":"):n))if(h(r["$start_with?"]("[")))if(h(r["$start_with?"]("[["))){if(h(h(n=
r["$end_with?"]("]]"))?a.const_get_relative(A,"BlockAnchorRx")["$=~"](r):n))return u=["id",(n=l["~"])===c?c:n["$[]"](1)],d(k,"[]=",a.to_a(u)),u[b(u.length,1)],h(u=(n=l["~"])===c?c:n["$[]"](2))&&(u=["reftext",h(u["$include?"](a.const_get_relative(A,"ATTR_REF_HEAD")))?f.$sub_attributes(u):u],d(k,"[]=",a.to_a(u)),u[b(u.length,1)]),!0}else{if(h(h(n=r["$end_with?"]("]"))?a.const_get_relative(A,"BlockAttributeListRx")["$=~"](r):n))return f.$parse_attributes((n=l["~"])===c?c:n["$[]"](1),[],t(["sub_input",
"into"],{sub_input:!0,into:k})),!0}else if(h(h(n=F)?r["$start_with?"]("."):n)){if(h(a.const_get_relative(A,"BlockTitleRx")["$=~"](r)))return u=["title",(n=l["~"])===c?c:n["$[]"](1)],d(k,"[]=",a.to_a(u)),u[b(u.length,1)],!0}else if(h(h(n=F["$!"]())?n:r["$start_with?"]("/"))){if(h(r["$start_with?"]("//"))){if(r["$=="]("//"))return!0;if(h(h(n=F)?m("/",u=r.$length())["$=="](r):n)){if(u["$=="](3))return c;e.$read_lines_until(t(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,
preserve_last_line:!0,terminator:r,skip_processing:!0}));return!0}return h(r["$start_with?"]("///"))?c:!0}}else if(h(h(n=h(q=F)?r["$start_with?"](":"):q)?a.const_get_relative(A,"AttributeEntryRx")["$=~"](r):n))return this.$process_attribute_entry(e,f,k,l["~"]),!0;return c},Ba.$$arity=-4);a.defs(f,"$process_attribute_entries",Fa=function(a,b,d){null==d&&(d=c);for(a.$skip_comment_lines();h(this.$process_attribute_entry(a,b,d));)a.$shift(),a.$skip_comment_lines()},Fa.$$arity=-3);a.defs(f,"$process_attribute_entry",
Ga=function(d,e,f,k){var l,m,p=c,n=c,t=c,q=c;null==f&&(f=c);null==k&&(k=c);if(h(k=h(l=k)?l:h(d["$has_more_lines?"]())?a.const_get_relative(A,"AttributeEntryRx").$match(d.$peek_line()):c)){if(h((p=k["$[]"](2))["$nil_or_empty?"]()))p="";else if(h(p["$end_with?"](a.const_get_relative(A,"LINE_CONTINUATION"),a.const_get_relative(A,"LINE_CONTINUATION_LEGACY"))))for(l=[p.$slice(-2,2),p.$slice(0,b(p.$length(),2)).$rstrip()],n=l[0],p=l[1],l;h(h(m=d.$advance())?(t=d.$peek_line().$lstrip())["$empty?"]()["$!"]():
m)&&(h(q=t["$end_with?"](n))&&(t=t.$slice(0,b(t.$length(),2)).$rstrip()),p=""+p+(h(p["$end_with?"](a.const_get_relative(A,"HARD_LINE_BREAK")))?a.const_get_relative(A,"LF"):" ")+t,h(q)););this.$store_attribute(k["$[]"](1),p,e,f);return!0}return c},Ga.$$arity=-3);a.defs(f,"$store_attribute",Ia=function(d,e,f,k){var l,m=c;null==f&&(f=c);null==k&&(k=c);h(d["$end_with?"]("!"))?(l=[d.$chop(),c],d=l[0],e=l[1],l):h(d["$start_with?"]("!"))&&(l=[d.$slice(1,d.$length()),c],d=l[0],e=l[1],l);d=this.$sanitize_attribute_name(d);
d["$=="]("numbered")&&(d="sectnums");h(f)?h(e)?(d["$=="]("leveloffset")&&(h(e["$start_with?"]("+"))?e=r(f.$attr("leveloffset",0).$to_i(),(h(l=e["$[]"](x(1,-1,!1)))?l:0).$to_i()).$to_s():h(e["$start_with?"]("-"))&&(e=b(f.$attr("leveloffset",0).$to_i(),(h(l=e["$[]"](x(1,-1,!1)))?l:0).$to_i()).$to_s())),h(m=f.$set_attribute(d,e))&&(e=m,h(k)&&a.const_get_qualified(a.const_get_relative(A,"Document"),"AttributeEntry").$new(d,e).$save_to(k))):h(h(l=f.$delete_attribute(d))?k:l)&&a.const_get_qualified(a.const_get_relative(A,
"Document"),"AttributeEntry").$new(d,e).$save_to(k):h(k)&&a.const_get_qualified(a.const_get_relative(A,"Document"),"AttributeEntry").$new(d,e).$save_to(k);return[d,e]},Ia.$$arity=-3);a.defs(f,"$resolve_list_marker",Aa=function(a,b,d,e,g){null==d&&(d=0);null==e&&(e=!1);null==g&&(g=c);return a["$=="]("olist")?h(b["$start_with?"]("."))?b:this.$resolve_ordered_list_marker(b,d,e,g):a["$=="]("colist")?"<1>":b},Aa.$$arity=-3);a.defs(f,"$resolve_ordered_list_marker",Ka=function(b,e,g,f){var k,l,m=c,p=c,n=
c;null==e&&(e=0);null==g&&(g=!1);null==f&&(f=c);m=p=c;n=d(a.const_get_relative(A,"ORDERED_LIST_STYLES"),"find",[],(k=function(d){null==d&&(d=c);return a.const_get_relative(A,"OrderedListMarkerRxMap")["$[]"](d)["$match?"](b)},k.$$s=this,k.$$arity=1,k));"arabic"["$==="](n)?(h(g)&&(m=r(e,1),p=b.$to_i()),b="1."):"loweralpha"["$==="](n)?(h(g)&&(m=r("a"["$[]"](0).$ord(),e).$chr(),p=b.$chop()),b="a."):"upperalpha"["$==="](n)?(h(g)&&(m=r("A"["$[]"](0).$ord(),e).$chr(),p=b.$chop()),b="A."):"lowerroman"["$==="](n)?
(h(g)&&(m=r(e,1),p=this.$roman_numeral_to_int(b.$chop())),b="i)"):"upperroman"["$==="](n)&&(h(g)&&(m=r(e,1),p=this.$roman_numeral_to_int(b.$chop())),b="I)");h(h(l=g)?m["$!="](p):l)&&this.$warn("asciidoctor: WARNING: "+f.$line_info()+": list item index: expected "+m+", got "+p);return b},Ka.$$arity=-2);a.defs(f,"$is_sibling_list_item?",Ja=function(b,d,e){var g=c,f=c,k=c;h(a.const_get_qualified("::","Regexp")["$==="](e))?(g=e,f=!1):(g=a.const_get_relative(A,"ListRxMap")["$[]"](d),f=e);return h(k=g.$match(b))?
h(f)?f["$=="](this.$resolve_list_marker(d,k["$[]"](1))):!0:!1},Ja.$$arity=3);a.defs(f,"$next_table",La=function(e,f,k){var l,m,n,t=c,q=c,F=c,u=c,y=c,v=c,x=c,w=c,E=c,K=c,D=c,z=y=c,I=y=c,B=c,t=a.const_get_relative(A,"Table").$new(f,k);h(k["$key?"]("title"))&&(q=[k.$delete("title")],d(t,"title=",a.to_a(q)),q[b(q.length,1)],t.$assign_caption(k.$delete("caption")));h(h(l=k["$key?"]("cols"))?(F=this.$parse_colspecs(k["$[]"]("cols")))["$empty?"]()["$!"]():l)&&(t.$create_columns(F),u=!0);y=h(l=e.$skip_blank_lines())?
l:0;v=a.const_get_qualified(a.const_get_relative(A,"Table"),"ParserContext").$new(e,t,k);l=[v.$format(),-1,c];x=l[0];w=l[1];E=l[2];l;h(h(l=h(m=p(y,0))?m:k["$key?"]("header-option"))?l:k["$key?"]("noheader-option"))||(K=!0);for(l=!1;l||h(D=e.$read_line());){l=!1;h(h(m=p(w=r(w,1),0))?D["$empty?"]():m)?(D=c,h(E)&&(E=r(E,1))):x["$=="]("psv")&&(h(v["$starts_with_delimiter?"](D))?(D=D.$slice(1,D.$length()),v.$close_open_cell(),h(E)&&(E=c)):(n=this.$parse_cellspec(D,"start",v.$delimiter()),m=a.to_ary(n),
y=null==m[0]?c:m[0],D=null==m[1]?c:m[1],n,h(y)?(v.$close_open_cell(y),h(E)&&(E=c)):h(h(m=E)?E["$=="](w):m)&&(m=[!1,c],K=m[0],E=m[1],m)));h(w["$=="](0)?K:w["$=="](0))&&(h(h(m=e["$has_more_lines?"]())?e.$peek_line()["$empty?"]():m)?E=1:K=!1);for(m=!1;m||h(!0);)if(m=!1,h(h(n=D)?z=v.$match_delimiter(D):n)){y=x;if("csv"["$==="](y)){if(h(v["$buffer_has_unclosed_quotes?"](z.$pre_match()))){if(h((D=v.$skip_past_delimiter(z))["$empty?"]()))break;m=!0}q=[""+v.$buffer()+z.$pre_match()]}else if("dsv"["$==="](y)){if(h(z.$pre_match()["$end_with?"]("\\"))){if(h((D=
v.$skip_past_escaped_delimiter(z))["$empty?"]())){q=[""+v.$buffer()+a.const_get_relative(A,"LF")];d(v,"buffer=",a.to_a(q));q[b(q.length,1)];v.$keep_cell_open();break}m=!0}q=[""+v.$buffer()+z.$pre_match()]}else{if(h(z.$pre_match()["$end_with?"]("\\"))){if(h((D=v.$skip_past_escaped_delimiter(z))["$empty?"]())){q=[""+v.$buffer()+a.const_get_relative(A,"LF")];d(v,"buffer=",a.to_a(q));q[b(q.length,1)];v.$keep_cell_open();break}m=!0}f=this.$parse_cellspec(z.$pre_match());n=a.to_ary(f);y=null==n[0]?c:n[0];
I=null==n[1]?c:n[1];f;v.$push_cellspec(y);q=[""+v.$buffer()+I]}d(v,"buffer=",a.to_a(q));q[b(q.length,1)];h((D=z.$post_match())["$empty?"]())&&(D=c);v.$close_cell()}else{q=[""+v.$buffer()+D+a.const_get_relative(A,"LF")];d(v,"buffer=",a.to_a(q));q[b(q.length,1)];y=x;"csv"["$==="](y)?(q=[""+v.$buffer().$rstrip()+" "],d(v,"buffer=",a.to_a(q)),q[b(q.length,1)],h(v["$buffer_has_unclosed_quotes?"]())?(h(h(n=E)?w["$=="](0):n)&&(n=[!1,c],K=n[0],E=n[1],n),v.$keep_cell_open()):v.$close_cell(!0)):"dsv"["$==="](y)?
v.$close_cell(!0):v.$keep_cell_open();break}if(h(v["$cell_open?"]()))h(e["$has_more_lines?"]())||v.$close_cell(!0);else if(h(m=e.$skip_blank_lines()))m;else break}h(h(l=(B=t.$attributes(),h(m=B["$[]"]("colcount"))?m:(q=["colcount",t.$columns().$size()],d(B,"[]=",a.to_a(q)),q[b(q.length,1)]))["$=="](0))?l:u)||t.$assign_column_widths();h(K)&&(q=[!0],d(t,"has_header_option=",a.to_a(q)),q[b(q.length,1)],q=["header-option",""],d(k,"[]=",a.to_a(q)),q[b(q.length,1)],q=["options",h(k["$key?"]("options"))?
""+k["$[]"]("options")+",header":"header"],d(k,"[]=",a.to_a(q)),q[b(q.length,1)]);t.$partition_header_footer(k);return t},La.$$arity=3);a.defs(f,"$parse_colspecs",la=function(e){var f,k,l=c;h(e["$include?"](" "))&&(e=e.$delete(" "));if(e["$=="](e.$to_i().$to_s()))return d(a.const_get_qualified("::","Array"),"new",[e.$to_i()],(f=function(){return t(["width"],{width:1})},f.$$s=this,f.$$arity=0,f));l=[];d(e.$split(",",-1),"each",[],(k=function(e){var f=k.$$s||this,m,p,n=c,q=c,r=c,F=c,r=c;null==e&&(e=
c);return h(e["$empty?"]())?l["$<<"](t(["width"],{width:1})):h(n=a.const_get_relative(A,"ColumnSpecRx").$match(e))?(q=t([],{}),h(n["$[]"](2))&&(e=n["$[]"](2).$split("."),m=a.to_ary(e),r=null==m[0]?c:m[0],F=null==m[1]?c:m[1],e,h(h(m=r["$nil_or_empty?"]()["$!"]())?a.const_get_relative(A,"TableCellHorzAlignments")["$key?"](r):m)&&(r=["halign",a.const_get_relative(A,"TableCellHorzAlignments")["$[]"](r)],d(q,"[]=",a.to_a(r)),r[b(r.length,1)]),h(h(m=F["$nil_or_empty?"]()["$!"]())?a.const_get_relative(A,
"TableCellVertAlignments")["$key?"](F):m)&&(r=["valign",a.const_get_relative(A,"TableCellVertAlignments")["$[]"](F)],d(q,"[]=",a.to_a(r)),r[b(r.length,1)])),r=["width",h(n["$[]"](3))?n["$[]"](3).$to_i():1],d(q,"[]=",a.to_a(r)),r[b(r.length,1)],h(h(m=n["$[]"](4))?a.const_get_relative(A,"TableCellStyles")["$key?"](n["$[]"](4)):m)&&(r=["style",a.const_get_relative(A,"TableCellStyles")["$[]"](n["$[]"](4))],d(q,"[]=",a.to_a(r)),r[b(r.length,1)]),h(n["$[]"](1))?d(1,"upto",[n["$[]"](1).$to_i()],(p=function(){return l["$<<"](q.$dup())},
p.$$s=f,p.$$arity=0,p)):l["$<<"](q)):c},k.$$s=this,k.$$arity=1,k));return l},la.$$arity=1);a.defs(f,"$parse_cellspec",Ha=function(e,f,k){var l,m=c,p=c,n=m=c,q=c,r=c,q=c;null==f&&(f="end");null==k&&(k=c);l=[c,""];l;if(f["$=="]("start"))if(h(e["$include?"](k)))if(f=e.$split(k,2),l=a.to_ary(f),m=null==l[0]?c:l[0],p=null==l[1]?c:l[1],f,h(m=a.const_get_relative(A,"CellSpecStartRx").$match(m))){if(h(m["$[]"](0)["$empty?"]()))return[t([],{}),p]}else return[c,e];else return[c,e];else if(h(m=a.const_get_relative(A,
"CellSpecEndRx").$match(e))){if(h(m["$[]"](0).$lstrip()["$empty?"]()))return[t([],{}),e.$rstrip()];p=m.$pre_match()}else return[t([],{}),e];n=t([],{});h(m["$[]"](1))&&(f=m["$[]"](1).$split("."),l=a.to_ary(f),q=null==l[0]?c:l[0],r=null==l[1]?c:l[1],f,q=h(q["$nil_or_empty?"]())?1:q.$to_i(),r=h(r["$nil_or_empty?"]())?1:r.$to_i(),m["$[]"](2)["$=="]("+")?(q["$=="](1)||(q=["colspan",q],d(n,"[]=",a.to_a(q)),q[b(q.length,1)]),r["$=="](1)||(q=["rowspan",r],d(n,"[]=",a.to_a(q)),q[b(q.length,1)])):m["$[]"](2)["$=="]("*")&&
!q["$=="](1)&&(q=["repeatcol",q],d(n,"[]=",a.to_a(q)),q[b(q.length,1)]));h(m["$[]"](3))&&(f=m["$[]"](3).$split("."),l=a.to_ary(f),q=null==l[0]?c:l[0],r=null==l[1]?c:l[1],f,h(h(l=q["$nil_or_empty?"]()["$!"]())?a.const_get_relative(A,"TableCellHorzAlignments")["$key?"](q):l)&&(q=["halign",a.const_get_relative(A,"TableCellHorzAlignments")["$[]"](q)],d(n,"[]=",a.to_a(q)),q[b(q.length,1)]),h(h(l=r["$nil_or_empty?"]()["$!"]())?a.const_get_relative(A,"TableCellVertAlignments")["$key?"](r):l)&&(q=["valign",
a.const_get_relative(A,"TableCellVertAlignments")["$[]"](r)],d(n,"[]=",a.to_a(q)),q[b(q.length,1)]));h(h(l=m["$[]"](4))?a.const_get_relative(A,"TableCellStyles")["$key?"](m["$[]"](4)):l)&&(q=["style",a.const_get_relative(A,"TableCellStyles")["$[]"](m["$[]"](4))],d(n,"[]=",a.to_a(q)),q[b(q.length,1)]);return[n,p]},Ha.$$arity=-2);a.defs(f,"$parse_style_attribute",F=function(e,f){var k,l,p,n,q,F=c,u=c,y=c,v=c,x=c,w=c,E=c,K=c,z=c;null==f&&(f=c);if(h(h(k=h(l=F=e["$[]"](1))?F["$include?"](" ")["$!"]():
l)?a.const_get_relative(A,"Compliance").$shorthand_property_syntax():k)){k=["style",[],t([],{})];u=k[0];y=k[1];v=k[2];k;x=d(this,"lambda",[],(p=function(){var e=p.$$s||this,k,l=c,m=c;if(h(y["$empty?"]()))return u["$=="]("style")?c:e.$warn("asciidoctor: WARNING:"+(h(f)?" "+f.$prev_line_info()+":":c)+" invalid empty "+u+" detected in style attribute");l=u;if("role"["$==="](l)||"option"["$==="](l))(h(k=v["$[]"](u))?k:(m=[u,[]],d(v,"[]=",a.to_a(m)),m[b(m.length,1)]))["$<<"](y.$join());else"id"["$==="](l)&&
h(v["$key?"]("id"))&&e.$warn("asciidoctor: WARNING:"+(h(f)?" "+f.$prev_line_info()+":":c)+" multiple ids detected in style attribute"),m=[u,y.$join()],d(v,"[]=",a.to_a(m)),m[b(m.length,1)];return y=[]},p.$$s=this,p.$$arity=0,p));d(F,"each_char",[],(n=function(a){var b,d,e=c;null==a&&(a=c);return h(h(b=h(d=a["$=="]("."))?d:a["$=="]("#"))?b:a["$=="]("%"))?(x.$call(),e=a,"."["$==="](e)?u="role":"#"["$==="](e)?u="id":"%"["$==="](e)?u="option":c):y["$<<"](a)},n.$$s=this,n.$$arity=1,n));if(u["$=="]("style"))return w=
["style",F],d(e,"[]=",a.to_a(w)),w[b(w.length,1)];x.$call();h(v["$key?"]("style"))&&(E=(w=["style",v["$[]"]("style")],d(e,"[]=",a.to_a(w)),w[b(w.length,1)]));h(v["$key?"]("id"))&&(w=["id",v["$[]"]("id")],d(e,"[]=",a.to_a(w)),w[b(w.length,1)]);h(v["$key?"]("role"))&&(w=["role",m(v["$[]"]("role")," ")],d(e,"[]=",a.to_a(w)),w[b(w.length,1)]);h(v["$key?"]("option"))&&(d(K=v["$[]"]("option"),"each",[],(q=function(f){null==f&&(f=c);w=[""+f+"-option",""];d(e,"[]=",a.to_a(w));return w[b(w.length,1)]},q.$$s=
this,q.$$arity=1,q)),w=h(z=e["$[]"]("options"))?["options",m(r(K,z.$split(",")),",")]:["options",m(K,",")],d(e,"[]=",a.to_a(w)),w[b(w.length,1)]);return E}w=["style",F];d(e,"[]=",a.to_a(w));return w[b(w.length,1)]},F.$$arity=-2);a.defs(f,"$adjust_indentation!",xa=function(e,f,k){var n,q,t,F,u,y,v=this,w=c,x=c,E=c;null==f&&(f=0);null==k&&(k=0);if(h(e["$empty?"]()))return c;h(h(n=p(k=k.$to_i(),0))?e.$join()["$include?"](a.const_get_relative(A,"TAB")):n)&&(w=m(" ",k),d(e,"map!",[],(q=function(e){var f=
q.$$s||this,n,p,t=c;null==e&&(e=c);if(h(e["$empty?"]()))return e;h(e["$start_with?"](a.const_get_relative(A,"TAB")))&&(e=d(e,"sub",[a.const_get_relative(A,"TabIndentRx")],(n=function(){var a;return m(w,((a=l["~"])===c?c:a["$[]"](0)).$length())},n.$$s=f,n.$$arity=0,n)));return h(e["$include?"](a.const_get_relative(A,"TAB")))?(t=0,e=d(e,"gsub",[a.const_get_relative(A,"TabRx")],(p=function(){var a=c,d=c;null==l["~"]&&(l["~"]=c);if((a=r(l["~"].$begin(0),t))["$%"](k)["$=="](0))return t=r(t,b(k,1)),w;(d=
b(k,a["$%"](k)))["$=="](1)||(t=r(t,b(d,1)));return m(" ",d)},p.$$s=f,p.$$arity=0,p))):e},q.$$s=v,q.$$arity=1,q)));if(!h(h(n=f)?p(f=f.$to_i(),-1):n))return c;x=c;(function(){var f=a.new_brk();try{return d(e,"each",[],(t=function(d){var e,k=c;null==d&&(d=c);if(h(d["$empty?"]()))return c;if((k=b(d.$length(),d.$lstrip().$length()))["$=="](0))x=c,a.brk(c,f);else return h(h(e=x)?p(k,x):e)?c:x=k},t.$$s=v,t.$$brk=f,t.$$arity=1,t))}catch(k){if(k===f)return k.$v;throw k;}})();f["$=="](0)?h(x)&&d(e,"map!",[],
(F=function(b){null==b&&(b=c);return h(b["$empty?"]())?b:b["$[]"](a.Range.$new(x,-1,!1))},F.$$s=v,F.$$arity=1,F)):(E=m(" ",f),h(x)?d(e,"map!",[],(u=function(b){null==b&&(b=c);return h(b["$empty?"]())?b:r(E,b["$[]"](a.Range.$new(x,-1,!1)))},u.$$s=v,u.$$arity=1,u)):d(e,"map!",[],(y=function(a){null==a&&(a=c);return h(a["$empty?"]())?a:r(E,a)},y.$$s=v,y.$$arity=1,y)));return c},xa.$$arity=-2);a.defs(f,"$sanitize_attribute_name",ga=function(b){return b.$gsub(a.const_get_relative(A,"InvalidAttributeNameCharsRx"),
"").$downcase()},ga.$$arity=1);return(a.defs(f,"$roman_numeral_to_int",S=function(e){var f,k=c,l=c;e=e.$downcase();k=t(["i","v","x"],{i:1,v:5,x:10});l=0;d(a.Range.$new(0,b(e.$length(),1),!1),"each",[],(f=function(d){var f,m=c;null==d&&(d=c);m=k["$[]"](e["$[]"](a.Range.$new(d,d,!1)));return h(h(f=q(r(d,1),e.$length()))?p(k["$[]"](e["$[]"](a.Range.$new(r(d,1),r(d,1),!1))),m):f)?l=b(l,m):l=r(l,m)},f.$$s=this,f.$$arity=1,f));return l},S.$$arity=1),c)&&"roman_numeral_to_int"})(w[0],null,w)}(f[0],f)};Opal.modules["asciidoctor/path_resolver"]=
function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var r=[],p=a.nil,q=a.module,f=a.klass,c=a.truthy,k=a.hash2,e=a.range,d=a.send;a.add_stubs("$attr_accessor $root? $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixify $web_root? $unc? $slice $index $split $shift $delete $[]= $- $* $raise $empty? $system_path $!= $! $dup $each $> $size $pop $fetch $warn $<< $end_with? $uri_prefix $gsub".split(" "));
return function(h,t){var r=[q(h,"Asciidoctor")].concat(t);(function(h,$super,n){function q(){}h=q=f(h,$super,"PathResolver",q);var t=h.$$proto,r=[h].concat(n),u,v,y,w,x,z,H,B,C,J,Q,R,V;t.file_separator=t._partition_path_web=t._partition_path_sys=t.working_dir=p;a.const_set(r[0],"DOT",".");a.const_set(r[0],"DOT_DOT","..");a.const_set(r[0],"DOT_SLASH","./");a.const_set(r[0],"SLASH","/");a.const_set(r[0],"BACKSLASH","\\");a.const_set(r[0],"DOUBLE_SLASH","//");a.const_set(r[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);
h.$attr_accessor("file_separator");h.$attr_accessor("working_dir");a.def(h,"$initialize",u=function(b,d){var e;null==b&&(b=p);null==d&&(d=p);this.file_separator=c(b)?b:c(e=a.const_get_qualified(a.const_get_qualified("::","File"),"ALT_SEPARATOR"))?e:a.const_get_qualified(a.const_get_qualified("::","File"),"SEPARATOR");c(d)?this.working_dir=c(this["$root?"](d))?d:a.const_get_qualified("::","File").$expand_path(d):this.working_dir=a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::",
"Dir").$pwd());return e=[k([],{}),k([],{})],this._partition_path_sys=e[0],this._partition_path_web=e[1],e},u.$$arity=-1);a.def(h,"$absolute_path?",v=function(b){var d;return c(d=b["$start_with?"](a.const_get_relative(r,"SLASH")))?d:this.file_separator["$=="](a.const_get_relative(r,"BACKSLASH"))?a.const_get_relative(r,"WindowsRootRx")["$match?"](b):this.file_separator["$=="](a.const_get_relative(r,"BACKSLASH"))},v.$$arity=1);c(a.const_get_relative(r,"RUBY_ENGINE")["$=="]("opal")?a.const_get_qualified("::",
"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):a.const_get_relative(r,"RUBY_ENGINE")["$=="]("opal"))?a.def(h,"$root?",y=function(a){var b;return c(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},y.$$arity=1):a.alias(h,"root?","absolute_path?");a.def(h,"$unc?",w=function(b){return b["$start_with?"](a.const_get_relative(r,"DOUBLE_SLASH"))},w.$$arity=1);a.def(h,"$web_root?",x=function(b){return b["$start_with?"](a.const_get_relative(r,"SLASH"))},x.$$arity=1);a.def(h,
"$descends_from?",z=function(a,d){return d["$=="](a)?0:c(a["$start_with?"](b(d,"/")))?b(d.$length(),1):!1},z.$$arity=2);a.def(h,"$posixify",H=function(b){return c(b["$nil_or_empty?"]())?"":c(b["$include?"](a.const_get_relative(r,"BACKSLASH")))?b.$tr(a.const_get_relative(r,"BACKSLASH"),a.const_get_relative(r,"SLASH")):b},H.$$arity=1);a.alias(h,"posixfy","posixify");a.def(h,"$expand_path",B=function(b){var c,d=p;c=p;b=this.$partition_path(b);c=a.to_ary(b);d=null==c[0]?p:c[0];c=null==c[1]?p:c[1];b;return this.$join_path(d,
c)},B.$$arity=1);a.def(h,"$partition_path",C=function(f,h){var k=p,l=p,m=k=p,n=p,k=p;null==h&&(h=p);if(c(k=(l=c(h)?this._partition_path_web:this._partition_path_sys)["$[]"](f)))return k;k=this.$posixify(f);m=c(h)?c(this["$web_root?"](k))?a.const_get_relative(r,"SLASH"):c(k["$start_with?"](a.const_get_relative(r,"DOT_SLASH")))?a.const_get_relative(r,"DOT_SLASH"):p:c(this["$root?"](k))?c(this["$unc?"](k))?a.const_get_relative(r,"DOUBLE_SLASH"):c(k["$start_with?"](a.const_get_relative(r,"SLASH")))?a.const_get_relative(r,
"SLASH"):k.$slice(0,b(k.$index(a.const_get_relative(r,"SLASH")),1)):c(k["$start_with?"](a.const_get_relative(r,"DOT_SLASH")))?a.const_get_relative(r,"DOT_SLASH"):p;n=k.$split(a.const_get_relative(r,"SLASH"));m["$=="](a.const_get_relative(r,"DOUBLE_SLASH"))?n=n["$[]"](e(2,-1,!1)):c(m)&&n.$shift();n.$delete(a.const_get_relative(r,"DOT"));k=[f,[n,m,k]];d(l,"[]=",a.to_a(k));l=k;k=k.length;k="number"===typeof k?k-1:k["$-"](1);return l[k]},C.$$arity=-2);a.def(h,"$join_path",J=function(b,d){null==d&&(d=
p);return c(d)?""+d+m(b,a.const_get_relative(r,"SLASH")):m(b,a.const_get_relative(r,"SLASH"))},J.$$arity=-2);a.def(h,"$system_path",Q=function(b,e,f,g){var h,l,m,n=p,q=p,t=l=p,u=p,y=p,v=u=p,w=p;null==e&&(e=p);null==f&&(f=p);null==g&&(g=k([],{}));c(f)&&(c(this["$root?"](f))||this.$raise(a.const_get_qualified("::","SecurityError"),"Jail is not an absolute path: "+f),f=this.$posixify(f));c(b["$nil_or_empty?"]())?n=[]:(l=this.$partition_path(b),h=a.to_ary(l),n=null==h[0]?p:h[0],q=null==h[1]?p:h[1],l);
if(c(n["$empty?"]())){if(c(e["$nil_or_empty?"]()))return c(f)?f:this.working_dir;if(c(this["$root?"](e))){if(!c(f))return this.$expand_path(e)}else return this.$system_path(e,f,f,g)}if(c(c(h=q)?q["$!="](a.const_get_relative(r,"DOT_SLASH")):h)&&(l=this.$join_path(n,q),c(c(h=f["$!"]())?h:l["$start_with?"](f))))return l;e=c(e["$nil_or_empty?"]())?c(f)?f:this.working_dir:c(this["$root?"](e))?this.$posixify(e):this.$system_path(e,f,f,g);f["$=="](e)?(l=this.$partition_path(f),h=a.to_ary(l),t=null==h[0]?
p:h[0],u=null==h[1]?p:h[1],l,y=t.$dup()):(c(f)?(c(e["$start_with?"](f))||this.$raise(a.const_get_qualified("::","SecurityError"),""+(c(h=g["$[]"]("target_name"))?h:"Start path")+" "+e+" is outside of jail: "+f+" (disallowed in safe mode)"),l=this.$partition_path(e),h=a.to_ary(l),y=null==h[0]?p:h[0],u=null==h[1]?p:h[1],l,l=this.$partition_path(f),h=a.to_ary(l),t=null==h[0]?p:h[0]):(l=this.$partition_path(e),h=a.to_ary(l),y=null==h[0]?p:h[0]),u=null==h[1]?p:h[1],l);v=y.$dup();w=!1;d(n,"each",[],(m=
function(d){var e=m.$$s||this,h;null==d&&(d=p);if(d["$=="](a.const_get_relative(r,"DOT_DOT"))){if(c(f)){d=v.$size();var k=t.$size();d="number"===typeof d&&"number"===typeof k?d>k:d["$>"](k);return c(d)?v.$pop():c((c(h=p)?h:g.$fetch("recover",!0))["$!"]())?e.$raise(a.const_get_qualified("::","SecurityError"),""+(c(h=g["$[]"]("target_name"))?h:"path")+" "+b+" refers to location outside jail: "+f+" (disallowed in safe mode)"):c(w["$!"]())?(e.$warn("asciidoctor: WARNING: "+(c(h=g["$[]"]("target_name"))?
h:"path")+" has illegal reference to ancestor of jail, auto-recovering"),w=!0):p}return v.$pop()}return v["$<<"](d)},m.$$s=this,m.$$arity=1,m));return this.$join_path(v,u)},Q.$$arity=-2);a.def(h,"$web_path",R=function(b,e){var f,g,h,k=p,l=p,m=p,n=p,q=p;null==e&&(e=p);b=this.$posixify(b);e=this.$posixify(e);k=p;c(c(f=e["$nil_or_empty?"]())?f:this["$web_root?"](b))||(b=c(e["$end_with?"](a.const_get_relative(r,"SLASH")))?""+e+b:""+e+a.const_get_relative(r,"SLASH")+b,c(k=a.const_get_relative(r,"Helpers").$uri_prefix(b))&&
(b=b["$[]"](a.Range.$new(k.$length(),-1,!1))));g=this.$partition_path(b,!0);f=a.to_ary(g);l=null==f[0]?p:f[0];m=null==f[1]?p:f[1];g;n=[];d(l,"each",[],(h=function(b){var d;null==b&&(b=p);return b["$=="](a.const_get_relative(r,"DOT_DOT"))?c(n["$empty?"]())?c(c(d=m)?m["$!="](a.const_get_relative(r,"DOT_SLASH")):d)?p:n["$<<"](b):n["$[]"](-1)["$=="](a.const_get_relative(r,"DOT_DOT"))?n["$<<"](b):n.$pop():n["$<<"](b)},h.$$s=this,h.$$arity=1,h));c((q=this.$join_path(n,m))["$include?"](" "))&&(q=q.$gsub(" ",
"%20"));return c(k)?""+k+q:q},R.$$arity=-2);return(a.def(h,"$relative_path",V=function(a,d){var e;return c(c(e=this["$root?"](a))?a["$start_with?"](d):e)?a.$slice(b(d.$length(),1),a.$length()):a},V.$$arity=2),p)&&"relative_path"})(r[0],null,r)}(r[0],r)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===
typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var f=[],c=a.nil,k=a.module,e=a.klass,d=a.truthy,h=a.hash2,t=a.range,u=a.send,l=a.gvars,v=a.hash;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $=== $split $file $dir $dirname $== $basename $prepare_lines $dup $[] $normalize_lines_from_string $normalize_lines_array $+ $empty? $nil_or_empty? $peek_line $> $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $* $read_lines $unshift $start_with? $length $push $read_lines_until $size $clear $[]= $new $line_info $to_i $fetch $attributes $< $catalog $key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $strip $pop_include $downcase $warn $none? $any? $all? $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $resolve_include_path $each $map $/ $concat $to_a $uniq $sort $slice $open $each_line $infinite? $push_include $delete $value? $rindex $force_encoding $chomp $delete_at $nil? $keys $read $uriish? $require_library $normalize_system_path $file? $relative_path $base_dir $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(f,w){var x=[k(f,"Asciidoctor")].concat(w);(function(f,$super,k){function l(){}f=l=e(f,$super,"Reader",l);var n=f.$$proto,q=[f].concat(k),v,w,x,z,B,C,R,V,ba,N,O,W,da,I,X,ea,Z,fa,K,ka,oa,aa,ia,za,Ea,na,ra,ta,ua,Ca;n.file=n.dir=n.lines=n.process_lines=n.look_ahead=n.unescape_next_line=n.lineno=n.path=n.source_lines=c;(function(b,$super,d){function f(){}b=f=e(b,$super,"Cursor",f);[b].concat(d);var g,h;b.$attr_accessor("file");b.$attr_accessor("dir");b.$attr_accessor("path");b.$attr_accessor("lineno");
a.def(b,"$initialize",g=function(a,b,d,e){null==b&&(b=c);null==d&&(d=c);null==e&&(e=c);this.file=a;this.dir=b;this.path=d;return this.lineno=e},g.$$arity=-2);a.def(b,"$line_info",h=function(){return""+this.$path()+": line "+this.$lineno()},h.$$arity=0);return a.alias(b,"to_s","line_info")})(q[0],null,q);f.$attr_reader("file");f.$attr_reader("dir");f.$attr_reader("path");f.$attr_reader("lineno");f.$attr_reader("source_lines");f.$attr_accessor("process_lines");a.def(f,"$initialize",v=function(b,e,f){var g;
null==b&&(b=c);null==e&&(e=c);null==f&&(f=h([],{}));d(e["$!"]())?(this.file=this.dir=c,this.path="<stdin>",this.lineno=1):d(a.const_get_qualified("::","String")["$==="](e))?(this.file=e,e=a.const_get_qualified("::","File").$split(this.file),g=a.to_ary(e),this.dir=null==g[0]?c:g[0],this.path=null==g[1]?c:g[1],e,this.lineno=1):(this.file=e.$file(),this.dir=e.$dir(),this.path=d(g=e.$path())?g:"<stdin>",d(this.file)&&(d(this.dir)||(this.dir=a.const_get_qualified("::","File").$dirname(this.file),this.dir["$=="](".")&&
(this.dir=c)),d(e.$path())||(this.path=a.const_get_qualified("::","File").$basename(this.file))),this.lineno=d(g=e.$lineno())?g:1);this.lines=d(b)?this.$prepare_lines(b,f):[];this.source_lines=this.lines.$dup();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1},v.$$arity=-1);a.def(f,"$prepare_lines",w=function(b,c){null==c&&(c=h([],{}));return d(a.const_get_qualified("::","String")["$==="](b))?d(c["$[]"]("normalize"))?a.const_get_relative(q,"Helpers").$normalize_lines_from_string(b):
b.$split(a.const_get_relative(q,"LF"),-1):d(c["$[]"]("normalize"))?a.const_get_relative(q,"Helpers").$normalize_lines_array(b):b.$dup()},w.$$arity=-2);a.def(f,"$process_line",x=function(a){d(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},x.$$arity=1);a.def(f,"$has_more_lines?",z=function(){return d(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},z.$$arity=0);a.def(f,"$empty?",B=function(){return d(this.lines["$empty?"]())?(this.look_ahead=0,!0):!1},B.$$arity=0);a.alias(f,
"eof?","empty?");a.def(f,"$next_line_empty?",C=function(){return this.$peek_line()["$nil_or_empty?"]()},C.$$arity=0);a.def(f,"$peek_line",R=function(a){var b,e=c;null==a&&(a=!1);return d(d(b=a)?b:m(this.look_ahead,0))?d(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](t(1,-1,!1)):this.lines["$[]"](0):d(this.lines["$empty?"]())?(this.look_ahead=0,c):d(e=this.$process_line(this.lines["$[]"](0)))?e:this.$peek_line()},R.$$arity=-1);a.def(f,"$peek_lines",V=function(b,e){var f,g=this,h=c,k=c;null==
e&&(e=!1);h=g.look_ahead;k=[];(function(){var h=a.new_brk();try{return u(b,"times",[],(f=function(){var b=f.$$s||this,g=c;null==b.lineno&&(b.lineno=c);if(d(g=d(e)?b.$shift():b.$read_line()))return k["$<<"](g);d(e)&&(b.lineno=r(b.lineno,1));a.brk(c,h)},f.$$s=g,f.$$brk=h,f.$$arity=0,f))}catch(l){if(l===h)return l.$v;throw l;}})();d(k["$empty?"]())||(g.$unshift_all(k),d(e)&&(g.look_ahead=h));return k},V.$$arity=-2);a.def(f,"$read_line",ba=function(){var a;return d(d(a=m(this.look_ahead,0))?a:this["$has_more_lines?"]())?
this.$shift():c},ba.$$arity=0);a.def(f,"$read_lines",N=function(){for(var a=c,a=[];d(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},N.$$arity=0);a.alias(f,"readlines","read_lines");a.def(f,"$read",O=function(){return p(this.$read_lines(),a.const_get_relative(q,"LF"))},O.$$arity=0);a.def(f,"$advance",W=function(){return d(this.$shift())?!0:!1},W.$$arity=0);a.def(f,"$unshift_line",da=function(a){this.$unshift(a);return c},da.$$arity=1);a.alias(f,"restore_line","unshift_line");a.def(f,
"$unshift_lines",I=function(a){this.$unshift_all(a);return c},I.$$arity=1);a.alias(f,"restore_lines","unshift_lines");a.def(f,"$replace_next_line",X=function(a){this.$shift();this.$unshift(a);return!0},X.$$arity=1);a.alias(f,"replace_line","replace_next_line");a.def(f,"$skip_blank_lines",ea=function(){var a=c,e=c;if(d(this["$empty?"]()))return c;for(a=0;d(e=this.$peek_line());)if(d(e["$empty?"]()))this.$shift(),a=b(a,1);else return a},ea.$$arity=0);a.def(f,"$skip_comment_lines",Z=function(){var b,
e=c,f=c,g=c;if(d(this["$empty?"]()))return[];for(e=[];d(d(b=f=this.$peek_line())?f["$empty?"]()["$!"]():b);)if(d(f["$start_with?"]("//")))if(d(f["$start_with?"]("///")))if(d(d(b=m(g=f.$length(),3))?f["$=="](p("/",g)):b))e["$<<"](this.$shift()),u(e,"push",a.to_a(this.$read_lines_until(h(["terminator","read_last_line","skip_processing"],{terminator:f,read_last_line:!0,skip_processing:!0}))));else break;else e["$<<"](this.$shift());else break;return e},Z.$$arity=0);a.def(f,"$skip_line_comments",fa=function(){var a,
b=c,e=c;if(d(this["$empty?"]()))return[];for(b=[];d(d(a=e=this.$peek_line())?e["$empty?"]()["$!"]():a);)if(d(e["$start_with?"]("//")))b["$<<"](this.$shift());else break;return b},fa.$$arity=0);a.def(f,"$terminate",K=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();this.look_ahead=0;return c},K.$$arity=0);a.def(f,"$read_lines_until",ka=function(b){var e,f,g,k,l=ka.$$p,m=l||c,n=c,p=c,t=c,y=c,F=c,v=c,w=c,x=c,A=c,K=c,D=c;null==b&&(b=h([],{}));l&&(ka.$$p=null);n=[];d(b["$[]"]("skip_first_line"))&&
this.$shift();d(d(e=this.process_lines)?b["$[]"]("skip_processing"):e)?(this.process_lines=!1,p=!0):p=!1;d(t=b["$[]"]("terminator"))?F=y=!1:(y=b["$[]"]("break_on_blank_lines"),F=b["$[]"]("break_on_list_continuation"));v=b["$[]"]("skip_line_comments");for(A=x=w=!1;d(d(f=A["$!"]())?K=this.$read_line():f);)A=function(){for(;d(!0);)return d(d(g=t)?K["$=="](t):g)||d(d(g=y)?K["$empty?"]():g)?!0:d(d(g=d(k=F)?w:k)?K["$=="](a.const_get_relative(q,"LIST_CONTINUATION")):g)?(D=["preserve_last_line",!0],u(b,"[]=",
a.to_a(D)),D[r(D.length,1)],!0):d((g=m!==c)?a.yield1(m,K):m!==c)?!0:!1;return c}(),d(A)?(d(b["$[]"]("read_last_line"))&&(n["$<<"](K),w=!0),d(b["$[]"]("preserve_last_line"))&&(this.$unshift(K),x=!0)):d(d(f=d(g=v)?K["$start_with?"]("//"):g)?K["$start_with?"]("///")["$!"]():f)||(n["$<<"](K),w=!0);d(p)&&(this.process_lines=!0,d(d(e=x)?t["$!"]():e)&&(this.look_ahead=r(this.look_ahead,1)));return n},ka.$$arity=-1);a.def(f,"$shift",oa=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=
r(this.look_ahead,1));return this.lines.$shift()},oa.$$arity=0);a.def(f,"$unshift",aa=function(a){this.lineno=r(this.lineno,1);this.look_ahead=b(this.look_ahead,1);return this.lines.$unshift(a)},aa.$$arity=1);a.def(f,"$unshift_all",ia=function(c){this.lineno=r(this.lineno,c.$size());this.look_ahead=b(this.look_ahead,c.$size());return u(this.lines,"unshift",a.to_a(c))},ia.$$arity=1);a.def(f,"$cursor",za=function(){return a.const_get_relative(q,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},
za.$$arity=0);a.def(f,"$line_info",Ea=function(){return""+this.path+": line "+this.lineno},Ea.$$arity=0);a.alias(f,"next_line_info","line_info");a.def(f,"$prev_line_info",na=function(){return""+this.path+": line "+r(this.lineno,1)},na.$$arity=0);a.def(f,"$lines",ra=function(){return this.lines.$dup()},ra.$$arity=0);a.def(f,"$string",ta=function(){return p(this.lines,a.const_get_relative(q,"LF"))},ta.$$arity=0);a.def(f,"$source",ua=function(){return p(this.source_lines,a.const_get_relative(q,"LF"))},
ua.$$arity=0);return(a.def(f,"$to_s",Ca=function(){return this.$line_info()},Ca.$$arity=0),c)&&"to_s"})(x[0],null,x);(function(f,$super,k){function n(){}f=n=e(f,$super,"PreprocessorReader",n);var w=f.$$proto,x=[f].concat(k),z,B,C,U,J,Q,R,V,ba,N,O,W,da,I,X,ea,Z,fa;w.document=w.lineno=w.process_lines=w.look_ahead=w.skipping=w.include_stack=w.conditional_stack=w.path=w.include_processor_extensions=w.maxdepth=w.dir=w.path_resolver=w.lines=w.file=w.includes=w.unescape_next_line=c;f.$attr_reader("include_stack");
f.$attr_reader("includes");a.def(f,"$initialize",z=function(b,e,f,g){var k=z.$$p,l=c;null==e&&(e=c);null==f&&(f=c);null==g&&(g=h([],{}));k&&(z.$$p=null);this.document=b;u(this,a.find_super_dispatcher(this,"initialize",z,!1),[e,f,g],null);l=b.$attributes().$fetch("max-include-depth",64).$to_i();d("number"===typeof l?0>l:l["$<"](0))&&(l=0);this.maxdepth=h(["abs","rel"],{abs:l,rel:l});this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=
c},z.$$arity=-2);a.def(f,"$prepare_lines",B=function(e,f){var k,l,m=B.$$p,n=c,q=c,t=c,y=c,v=c,w=t=n=c;null==f&&(f=h([],{}));m&&(B.$$p=null);t=0;w=arguments.length;for(n=Array(w);t<w;t++)n[t]=arguments[t];n=u(this,a.find_super_dispatcher(this,"prepare_lines",B,!1),n,m);d(d(k=this.document)?this.document.$attributes()["$key?"]("skip-front-matter"):k)&&d(q=this["$skip_front_matter!"](n))&&(t=["front-matter",p(q,a.const_get_relative(x,"LF"))],u(this.document.$attributes(),"[]=",a.to_a(t)),t[r(t.length,
1)]);if(d(f.$fetch("condense",!0))){for(;d(d(l=y=n["$[]"](0))?y["$empty?"]():l);)d(l=n.$shift())?this.lineno=b(this.lineno,1):l;for(;d(d(l=v=n["$[]"](-1))?v["$empty?"]():l);)n.$pop()}if(d(f["$[]"]("indent")))a.const_get_relative(x,"Parser")["$adjust_indentation!"](n,f["$[]"]("indent"),this.document.$attr("tabsize"));return n},B.$$arity=-2);a.def(f,"$process_line",C=function(e){var f,h;if(!d(this.process_lines))return e;if(d(e["$empty?"]()))return this.look_ahead=b(this.look_ahead,1),e;if(d(d(f=d(h=
e["$end_with?"]("]"))?e["$start_with?"]("[")["$!"]():h)?e["$include?"]("::"):f)){if(d(d(f=e["$include?"]("if"))?a.const_get_relative(x,"ConditionalDirectiveRx")["$=~"](e):f)){if(((f=l["~"])===c?c:f["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),e["$[]"](t(1,-1,!1));if(d(this.$preprocess_conditional_directive((f=l["~"])===c?c:f["$[]"](2),(f=l["~"])===c?c:f["$[]"](3),(f=l["~"])===c?c:f["$[]"](4),(f=l["~"])===c?c:f["$[]"](5))))return this.$shift(),c;this.look_ahead=
b(this.look_ahead,1);return e}if(d(this.skipping))return this.$shift(),c;if(d(d(f=e["$start_with?"]("inc","\\inc"))?a.const_get_relative(x,"IncludeDirectiveRx")["$=~"](e):f)){if(((f=l["~"])===c?c:f["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),e["$[]"](t(1,-1,!1));if(d(this.$preprocess_include_directive((f=l["~"])===c?c:f["$[]"](2),((f=l["~"])===c?c:f["$[]"](3)).$strip())))return c;this.look_ahead=b(this.look_ahead,1);return e}this.look_ahead=b(this.look_ahead,
1);return e}if(d(this.skipping))return this.$shift(),c;this.look_ahead=b(this.look_ahead,1);return e},C.$$arity=1);a.def(f,"$has_more_lines?",U=function(){return d(this.$peek_line())?!0:!1},U.$$arity=0);a.def(f,"$empty?",J=function(){return d(this.$peek_line())?!1:!0},J.$$arity=0);a.alias(f,"eof?","empty?");a.def(f,"$peek_line",Q=function(b){var e=Q.$$p,f=c,g=f=c,h=c;null==b&&(b=!1);e&&(Q.$$p=null);g=0;h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];if(d(f=u(this,a.find_super_dispatcher(this,
"peek_line",Q,!1),f,e)))return f;if(d(this.include_stack["$empty?"]()))return c;this.$pop_include();return this.$peek_line(b)},Q.$$arity=-1);a.def(f,"$preprocess_conditional_directive",R=function(b,e,f,g){var k,m,n,p,q,t,y,v=c,w=c,A=c,D=c,z=D=v=c;d(v=e["$empty?"]())||(e=e.$downcase());if(d(d(k=d(m=v)?d(n=b["$=="]("ifdef"))?n:b["$=="]("ifndef"):m)?k:d(m=g)?b["$=="]("endif"):m))return!1;if(b["$=="]("endif"))return d(this.conditional_stack["$empty?"]())?this.$warn("asciidoctor: ERROR: "+this.$line_info()+
": unmatched macro: endif::"+e+"[]"):d(d(k=v)?k:e["$=="]((w=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=d(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+e+"[], expected endif::"+w["$[]"]("target")+"[]"),!0;if(d(this.skipping))A=!1;else if(D=b,"ifdef"["$==="](D))D=f,A=","["$==="](D)?u(e.$split(",",-1),"none?",[],(p=function(a){var b=
p.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)},p.$$s=this,p.$$arity=1,p)):"+"["$==="](D)?u(e.$split("+",-1),"any?",[],(q=function(a){var b=q.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)["$!"]()},q.$$s=this,q.$$arity=1,q)):this.document.$attributes()["$key?"](e)["$!"]();else if("ifndef"["$==="](D))D=f,A=","["$==="](D)?u(e.$split(",",-1),"any?",[],(t=function(a){var b=t.$$s||this;null==
b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)},t.$$s=this,t.$$arity=1,t)):"+"["$==="](D)?u(e.$split("+",-1),"all?",[],(y=function(a){var b=y.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)},y.$$s=this,y.$$arity=1,y)):this.document.$attributes()["$key?"](e);else if("ifeval"["$==="](D)){if(!d(d(k=v)?a.const_get_relative(x,"EvalExpressionRx")["$=~"](g.$strip()):k))return!1;k=[(m=l["~"])===c?c:m["$[]"](1),(m=
l["~"])===c?c:m["$[]"](2),(m=l["~"])===c?c:m["$[]"](3)];v=k[0];D=k[1];z=k[2];k;v=this.$resolve_expr_val(v);z=this.$resolve_expr_val(z);A=D["$=="]("!=")?v.$send("==",z):v.$send(D.$to_sym(),z)["$!"]()}d(d(k=b["$=="]("ifeval"))?k:g["$!"]())?(d(A)&&(this.skipping=!0),this.conditional_stack["$<<"](h(["target","skip","skipping"],{target:e,skip:A,skipping:this.skipping}))):d(d(k=this.skipping)?k:A)||(this.$replace_next_line(g.$rstrip()),this.$unshift(""),d(g["$start_with?"]("include::"))&&(this.look_ahead=
r(this.look_ahead,1)));return!0},R.$$arity=4);a.def(f,"$preprocess_include_directive",V=function(e,f){var k,n,t,y,w,A,z,E=this,B=c,J=c,I=c,C=I=c,L=c,R=c,V=c,Q=c,N=c,U=c,P=c,O=c,ja=c,F=c,xa=c,ga=c,S=c,ya=c,T=c,M=c,ba=c,W=c,Z=c,da=c;if(d(d(k=(B=e)["$include?"](a.const_get_relative(x,"ATTR_REF_HEAD")))?(B=E.document.$sub_attributes(e,h(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():k))return E.$shift(),E.document.$attributes().$fetch("attribute-missing",a.const_get_relative(x,
"Compliance").$attribute_missing())["$=="]("skip")&&E.$unshift("Unresolved directive in "+E.path+" - include::"+e+"["+f+"]"),!0;if(d(d(k=E["$include_processors?"]())?J=u(E.include_processor_extensions,"find",[],(n=function(a){null==a&&(a=c);return a.$instance()["$handles?"](B)},n.$$s=E,n.$$arity=1,n)):k))return E.$shift(),J.$process_method()["$[]"](E.document,E,B,a.const_get_relative(x,"AttributeList").$new(f).$parse()),!0;if(d(q(E.document.$safe(),a.const_get_qualified(a.const_get_relative(x,"SafeMode"),
"SECURE"))))return E.$replace_next_line("link:"+B+"[]");if(d(m(I=E.maxdepth["$[]"]("abs"),0))){if(d(q(E.include_stack.$size(),I)))return E.$warn("asciidoctor: ERROR: "+E.$line_info()+": maximum include depth of "+E.maxdepth["$[]"]("rel")+" exceeded"),c;I=d(f["$empty?"]())?h([],{}):a.const_get_relative(x,"AttributeList").$new(f).$parse();n=E.$resolve_include_path(B,f,I);k=a.to_ary(n);C=null==k[0]?c:k[0];L=null==k[1]?c:k[1];R=null==k[2]?c:k[2];n;if(!d(L))return C;V=Q=c;d(I["$empty?"]())||(d(I["$key?"]("lines"))?
(V=[],u(I["$[]"]("lines").$split(a.const_get_relative(x,"DataDelimiterRx")),"each",[],(t=function(b){var e=t.$$s||this,f,g=c,h=c;null==b&&(b=c);return d(b["$include?"](".."))?(b=u(b.$split("..",2),"map",[],(f=function(a){null==a&&(a=c);return a.$to_i()},f.$$s=e,f.$$arity=1,f)),f=a.to_ary(b),g=null==f[0]?c:f[0],h=null==f[1]?c:f[1],b,h["$=="](-1)?(V["$<<"](g),V["$<<"](1/0)):V.$concat(a.const_get_qualified("::","Range").$new(g,h).$to_a())):V["$<<"](b.$to_i())},t.$$s=E,t.$$arity=1,t)),V=d(V["$empty?"]())?
c:V.$sort().$uniq()):d(I["$key?"]("tag"))?d((N=I["$[]"]("tag"))["$empty?"]())||(d(N["$start_with?"]("!"))?N["$=="]("!")||(Q=v(N.$slice(1,N.$length()),!1)):Q=v(N,!0)):d(I["$key?"]("tags"))&&(Q=h([],{}),u(I["$[]"]("tags").$split(a.const_get_relative(x,"DataDelimiterRx")),"each",[],(y=function(b){var e=c;null==b&&(b=c);if(d(b["$empty?"]()))return c;if(d(b["$start_with?"]("!"))){if(b["$=="]("!"))return c;e=[b.$slice(1,b.$length()),!1];u(Q,"[]=",a.to_a(e));return e[r(e.length,1)]}e=[b,!0];u(Q,"[]=",a.to_a(e));
return e[r(e.length,1)]},y.$$s=E,y.$$arity=1,y)),d(Q["$empty?"]())&&(Q=c)));if(d(V)){k=[[],c,0];U=k[0];P=k[1];O=k[2];k;try{(function(){var e=a.new_brk();try{return u(E,"open",[C,"r"],(w=function(e){var f=w.$$s||this,h;null==e&&(e=c);return function(){var k=a.new_brk();try{return u(e,"each_line",[],(h=function(e){var f,h=c;null==e&&(e=c);O=b(O,1);h=V["$[]"](0);if(d(d(f=a.const_get_qualified("::","Float")["$==="](h))?h["$infinite?"]():f))return P=d(f=P)?f:O,U["$<<"](e);O["$=="](h)&&(P=d(f=P)?f:O,U["$<<"](e),
V.$shift());if(d(V["$empty?"]()))a.brk(c,k);else return c},h.$$s=f,h.$$brk=k,h.$$arity=1,h))}catch(l){if(l===k)return l.$v;throw l;}}()},w.$$s=E,w.$$brk=e,w.$$arity=1,w))}catch(f){if(f===e)return f.$v;throw f;}})()}catch(Da){if(a.rescue(Da,[a.const_get_relative(x,"StandardError")]))try{return E.$warn("asciidoctor: WARNING: "+E.$line_info()+": include "+L+" not readable: "+C),E.$replace_next_line("Unresolved directive in "+E.path+" - include::"+B+"["+f+"]")}finally{a.pop_exception()}else throw Da;
}E.$shift();d(P)&&E.$push_include(U,C,R,P,I)}else if(d(Q)){k=[[],c,0,[],a.const_get_qualified("::","Set").$new(),c];U=k[0];P=k[1];O=k[2];ja=k[3];F=k[4];xa=k[5];k;d(Q["$key?"]("**"))?d(Q["$key?"]("*"))?(ga=S=Q.$delete("**"),ya=Q.$delete("*")):ga=S=ya=Q.$delete("**"):(ga=S=Q["$value?"](!0)["$!"](),ya=Q.$delete("*"));d(d(k=T=C.$rindex("."))?M=a.const_get_relative(x,"CIRCUMFIX_COMMENTS")["$[]"](C.$slice(T,C.$length())):k)&&(ba=r((W="[] "+M["$[]"]("suffix")).$length(),2));try{u(E,"open",[C,"r"],(A=function(e){var f=
A.$$s||this,h;null==e&&(e=c);return u(e,"each_line",[],(h=function(e){var f=h.$$s||this,k,m,n,p,q,t=c,y=c,v=c;null==e&&(e=c);O=b(O,1);d(a.const_get_relative(x,"FORCE_ENCODING"))&&e.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8"));return d(d(k=d(m=(t=e.$chomp())["$end_with?"]("[]"))?m:d(n=d(p=W)?t["$end_with?"](W):p)?t=t.$slice(0,r(t.$length(),ba)):n)?a.const_get_relative(x,"TagDirectiveRx")["$=~"](t):k)?d((k=l["~"])===c?c:k["$[]"](1))?(y=(k=l["~"])===c?c:k["$[]"](2))["$=="](xa)?
(ja.$pop(),m=d(ja["$empty?"]())?[c,S]:ja["$[]"](-1),k=a.to_ary(m),xa=null==k[0]?c:k[0],ga=null==k[1]?c:k[1],m):d(Q["$key?"](y))?d(v=u(ja,"rindex",[],(q=function(a,b){null==a&&(a=c);return a["$=="](y)},q.$$s=f,q.$$arity=2,q)))?(v["$=="](0)?ja.$shift():ja.$delete_at(v),f.$warn("asciidoctor: WARNING: "+B+": line "+O+": mismatched end tag in include: expected "+xa+", found "+y)):f.$warn("asciidoctor: WARNING: "+B+": line "+O+": unexpected end tag in include: "+y):c:d(Q["$key?"](y=(k=l["~"])===c?c:k["$[]"](2)))?
(F["$<<"](y),ja["$<<"]([xa=y,ga=Q["$[]"](y)])):d(ya["$nil?"]()["$!"]())?(ga=d(d(k=xa)?ga["$!"]():k)?!1:ya,ja["$<<"]([xa=y,ga])):c:d(ga)?(P=d(k=P)?k:O,U["$<<"](e)):c},h.$$s=f,h.$$arity=1,h))},A.$$s=E,A.$$arity=1,A))}catch(Da){if(a.rescue(Da,[a.const_get_relative(x,"StandardError")]))try{return E.$warn("asciidoctor: WARNING: "+E.$line_info()+": include "+L+" not readable: "+C),E.$replace_next_line("Unresolved directive in "+E.path+" - include::"+B+"["+f+"]")}finally{a.pop_exception()}else throw Da;
}d((Z=r(Q.$keys().$to_a(),F.$to_a()))["$empty?"]())||E.$warn("asciidoctor: WARNING: "+E.$line_info()+": tag"+(d(m(Z.$size(),1))?"s":c)+" '"+p(Z,",")+"' not found in include "+L+": "+C);E.$shift();d(P)&&E.$push_include(U,C,R,P,I)}else try{da=function(){return L["$=="]("file")?a.const_get_qualified("::","IO").$read(C):u(E,"open",[C,"r"],(z=function(a){null==a&&(a=c);return a.$read()},z.$$s=E,z.$$arity=1,z))}(),E.$shift(),E.$push_include(da,C,R,1,I)}catch(Da){if(a.rescue(Da,[a.const_get_relative(x,"StandardError")]))try{return E.$warn("asciidoctor: WARNING: "+
E.$line_info()+": include "+L+" not readable: "+C),E.$replace_next_line("Unresolved directive in "+E.path+" - include::"+B+"["+f+"]")}finally{a.pop_exception()}else throw Da;}return!0}return!1},V.$$arity=2);a.def(f,"$resolve_include_path",ba=function(b,e,f){var g,k,l=f=c;if(d(a.const_get_relative(x,"Helpers")["$uriish?"](b))){if(!d(this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+b+"["+e+"]");d(this.document.$attributes()["$key?"]("cache-uri"))?d((g=a.const_get_qualified("::",
"OpenURI","skip_raise"))&&a.const_get_qualified(g,"Cache","skip_raise")?"constant":c)||a.const_get_relative(x,"Helpers").$require_library("open-uri/cached","open-uri-cached"):d(a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&a.const_get_qualified("::","OpenURI");return[b,"uri",b]}f=this.document.$normalize_system_path(b,this.dir,c,h(["target_name"],{target_name:"include file"}));if(!d(a.const_get_qualified("::","File")["$file?"](f)))return this.$warn("asciidoctor: WARNING: "+this.$line_info()+
": include file not found: "+f),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+b+"["+e+"]");l=(this.path_resolver=d(k=this.path_resolver)?k:a.const_get_relative(x,"PathResolver").$new()).$relative_path(f,this.document.$base_dir());return[f,"file",l]},ba.$$arity=3);a.def(f,"$push_include",N=function(e,f,k,l,m){var n=c,n=c;null==f&&(f=c);null==k&&(k=c);null==l&&(l=1);null==m&&(m=h([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,
this.process_lines]);d(f)?(this.file=f,this.dir=a.const_get_relative(x,"File").$dirname(f),this.process_lines=a.const_get_relative(x,"ASCIIDOC_EXTENSIONS")["$[]"](a.const_get_qualified("::","File").$extname(f))):(this.file=c,this.dir=".",this.process_lines=!0);if(d(k))this.includes["$<<"](a.const_get_relative(x,"Helpers").$rootname(this.path=k));else this.path="<stdin>";this.lineno=l;d(m["$key?"]("depth"))&&(n=m["$[]"]("depth").$to_i(),d("number"===typeof n?0>=n:n["$<="](0))&&(n=1),this.maxdepth=
h(["abs","rel"],{abs:b(r(this.include_stack.$size(),1),n),rel:n}));if(d((this.lines=this.$prepare_lines(e,h(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:m["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(d(m["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+m["$[]"]("leveloffset"));this.lines["$<<"]("");if(d(n=this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+n);else this.lines["$<<"](":leveloffset!:");this.lineno=
r(this.lineno,2)}this.look_ahead=0}return this},N.$$arity=-2);a.def(f,"$pop_include",O=function(){var b,e;d(m(this.include_stack.$size(),0))&&(e=this.include_stack.$pop(),b=a.to_ary(e),this.lines=null==b[0]?c:b[0],this.file=null==b[1]?c:b[1],this.dir=null==b[2]?c:b[2],this.path=null==b[3]?c:b[3],this.lineno=null==b[4]?c:b[4],this.maxdepth=null==b[5]?c:b[5],this.process_lines=null==b[6]?c:b[6],e,this.look_ahead=0);return c},O.$$arity=0);a.def(f,"$include_depth",W=function(){return this.include_stack.$size()},
W.$$arity=0);a.def(f,"$exceeded_max_depth?",da=function(){var a,b=c;return d(d(a=m(b=this.maxdepth["$[]"]("abs"),0))?q(this.include_stack.$size(),b):a)?this.maxdepth["$[]"]("rel"):!1},da.$$arity=0);a.def(f,"$shift",I=function(){var b=I.$$p,e=c,f=c,g=c;b&&(I.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];return d(this.unescape_next_line)?(this.unescape_next_line=!1,u(this,a.find_super_dispatcher(this,"shift",I,!1),e,b)["$[]"](t(1,-1,!1))):u(this,a.find_super_dispatcher(this,
"shift",I,!1),e,b)},I.$$arity=0);a.def(f,"$skip_front_matter!",X=function(e,f){var h,k=c,l=c;null==f&&(f=!0);k=c;if(e["$[]"](0)["$=="]("---")){l=e.$dup();k=[];e.$shift();d(f)&&(this.lineno=b(this.lineno,1));for(;d(d(h=e["$empty?"]()["$!"]())?e["$[]"](0)["$!="]("---"):h);)k["$<<"](e.$shift()),d(f)&&(this.lineno=b(this.lineno,1));d(e["$empty?"]())?(u(e,"unshift",a.to_a(l)),d(f)&&(this.lineno=0),k=c):(e.$shift(),d(f)&&(this.lineno=b(this.lineno,1)))}return k},X.$$arity=-2);a.def(f,"$resolve_expr_val",
ea=function(b){var e,f,g=c;d(d(e=d(f=b["$start_with?"]('"'))?b["$end_with?"]('"'):f)?e:d(f=b["$start_with?"]("'"))?b["$end_with?"]("'"):f)?(g=!0,b=b["$[]"](t(1,-1,!0))):g=!1;d(b["$include?"](a.const_get_relative(x,"ATTR_REF_HEAD")))&&(b=this.document.$sub_attributes(b,h(["attribute_missing"],{attribute_missing:"drop"})));return d(g)?b:d(b["$empty?"]())?c:b["$=="]("true")?!0:b["$=="]("false")?!1:d(b.$rstrip()["$empty?"]())?" ":d(b["$include?"]("."))?b.$to_f():b.$to_i()},ea.$$arity=1);a.def(f,"$include_processors?",
Z=function(){var a;return d(this.include_processor_extensions["$nil?"]())?d(d(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},Z.$$arity=0);return(a.def(f,"$to_s",fa=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+
this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+p(u(this.include_stack,"map",[],(a=function(a){null==a&&(a=c);return a.$to_s()},a.$$s=this,a.$$arity=1,a)),", ")+"]}>"},fa.$$arity=0),c)&&"to_s"})(x[0],a.const_get_relative(x,"Reader"),x)}(f[0],f)};Opal.modules["asciidoctor/section"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var r=[],p=a.nil,q=
a.module,f=a.klass,c=a.send,k=a.truthy,e=a.hash2;a.add_stubs("$attr_accessor $attr_reader $+ $level $> $== $context $special $generate_id $title $sectnum $reftext $! $empty? $=== $sprintf $sub_quotes $compat_mode $[] $attributes $enumerate_section $class $object_id $inspect $size $gsub $downcase $tr_s $end_with? $chop $start_with? $slice $length $key? $catalog $unique_id_start_index".split(" "));return function(d,h){var t=[q(d,"Asciidoctor")].concat(h);(function(d,$super,h){function n(){}d=n=f(d,
$super,"Section",n);var q=d.$$proto,t=[d].concat(h),r,u,v,y,w,x,z;q.level=q.document=q.parent=q.number=q.numbered=q.sectname=q.title=q.blocks=p;d.$attr_accessor("index");d.$attr_accessor("sectname");d.$attr_accessor("special");d.$attr_accessor("numbered");d.$attr_reader("caption");a.def(d,"$initialize",r=function(d,f,h,n){var q,t,u=r.$$p;null==d&&(d=p);null==f&&(f=p);null==h&&(h=!0);null==n&&(n=e([],{}));u&&(r.$$p=null);c(this,a.find_super_dispatcher(this,"initialize",r,!1),[d,"section",n],null);
this.level=k(f)?f:k(d)?b(d.$level(),1):1;this.numbered=k(q=h)?m(this.level,0):q;this.special=k(q=k(t=d)?d.$context()["$=="]("section"):t)?d.$special():q;this.index=0;return this.number=1},r.$$arity=-1);a.alias(d,"name","title");a.def(d,"$generate_id",u=function(){return a.const_get_relative(t,"Section").$generate_id(this.$title(),this.document)},u.$$arity=0);a.def(d,"$sectnum",v=function(a,b){var c,d,e;null==a&&(a=".");null==b&&(b=p);b=k(c=b)?c:b["$=="](!1)?"":a;return k(k(c=k(d=k(e=this.level)?m(this.level,
1):e)?this.parent:d)?this.parent.$context()["$=="]("section"):c)?""+this.parent.$sectnum(a)+this.number+b:""+this.number+b},v.$$arity=-1);a.def(d,"$xreftext",y=function(a){var b,c=p,d=p,e=p,f=d=p;null==a&&(a=p);k(k(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:k(a)?(k(this.numbered)?(d=a,"full"["$==="](d)?(d=k(k(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$sprintf(this.$sub_quotes(k(this.document.$compat_mode())?"``%s''":
'"`%s`"'),this.$title()),a=k(f=this.document.$attributes()["$[]"](""+e+"-refsig"))?""+f+" "+this.$sectnum(".",",")+" "+d:""+this.$sectnum(".",",")+" "+d):a="short"["$==="](d)?k(f=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+f+" "+this.$sectnum(".",""):this.$sectnum(".",""):k(k(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title()):a=k(k(b=(e=this.sectname)["$=="]("chapter"))?b:e["$=="]("appendix"))?
this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},y.$$arity=-1);a.def(d,"$<<",w=function(b){var d=w.$$p,e=p,f=p,g=p;d&&(w.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];b.$context()["$=="]("section")&&this.$enumerate_section(b);return c(this,a.find_super_dispatcher(this,"<<",w,!1),e,d)},w.$$arity=1);a.def(d,"$to_s",x=function(){var b=x.$$p,d=p,e=d=p,f=p;b&&(x.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];
return k(this.title)?(d=k(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+d.$inspect()+", blocks: "+this.blocks.$size()+"}>"):c(this,a.find_super_dispatcher(this,"to_s",x,!1),d,b)},x.$$arity=0);return(a.defs(d,"$generate_id",z=function(c,d){var e,f=p,h=p,m=p,n=m=f=p,q=p,f=d.$attributes(),h=k(e=f["$[]"]("idseparator"))?e:"_",m=k(e=f["$[]"]("idprefix"))?e:"_",f=""+m+c.$downcase().$gsub(a.const_get_relative(t,"InvalidSectionIdCharsRx"),
h);if(!k(h["$empty?"]())&&(f=f.$tr_s(h,h),k(f["$end_with?"](h))&&(f=f.$chop()),k(m["$empty?"]())))for(;k(f["$start_with?"](h));)f=f.$slice(1,f.$length());if(k(d.$catalog()["$[]"]("ids")["$key?"](f))){e=[d.$catalog()["$[]"]("ids"),a.const_get_relative(t,"Compliance").$unique_id_start_index()];m=e[0];n=e[1];for(e;k(m["$key?"](q=""+f+h+n));)n=b(n,1);return q}return f},z.$$arity=2),p)&&"generate_id"})(t[0],a.const_get_relative(t,"AbstractBlock"),t)}(r[0],r)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=
[],m=a.nil,r=a.module,p=a.klass,q=a.truthy,f=a.hash2,c=a.send;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $[] $sub $css $[]= $- $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(b,e){var d=[r(b,"Asciidoctor")].concat(e);(function(b,$super,d){function e(){}var g=e=p(b,$super,"Stylesheets",e);b=g.$$proto;var k=[g].concat(d),r,u,v,
w,x,y,A,z,B,H,C,U,J,Q;b.primary_stylesheet_data=b.coderay_stylesheet_data=b.pygments_stylesheet_data=m;a.const_set(k[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(k[0],"DEFAULT_PYGMENTS_STYLE","default");a.const_set(k[0],"STYLESHEETS_DATA_PATH",a.const_get_qualified("::","File").$join(a.const_get_relative(k,"DATA_PATH"),"stylesheets"));g.__instance__=g.$new();a.defs(g,"$instance",r=function(){null==this.__instance__&&(this.__instance__=m);return this.__instance__},r.$$arity=0);a.def(g,
"$primary_stylesheet_name",u=function(){return a.const_get_relative(k,"DEFAULT_STYLESHEET_NAME")},u.$$arity=0);a.def(g,"$primary_stylesheet_data",v=function(){var b=a.const_get_relative([],"File"),c;c=a.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===b.$basename(__dirname)&&"dist"===b.$basename(b.$dirname(__dirname))?b.$join(b.$dirname(__dirname),"css"):b.$join(__dirname,"css"):a.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===b.$basename(__DIR__)&&"dist"===
b.$basename(b.$dirname(__DIR__))?b.$join(b.$dirname(__DIR__),"css"):b.$join(__DIR__,"css"):"css";return!1!==($a=g.primary_stylesheet_data)&&$a!==m&&null!=$a?$a:g.primary_stylesheet_data=a.const_get_relative([],"IO").$read(b.$join(c,"asciidoctor.css")).$chomp()},v.$$arity=0);a.def(g,"$embed_primary_stylesheet",w=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},w.$$arity=0);a.def(g,"$write_primary_stylesheet",x=function(b){null==b&&(b=".");return a.const_get_qualified("::",
"IO").$write(a.const_get_qualified("::","File").$join(b,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},x.$$arity=-1);a.def(g,"$coderay_stylesheet_name",y=function(){return"coderay-asciidoctor.css"},y.$$arity=0);a.def(g,"$coderay_stylesheet_data",A=function(){var b;return this.coderay_stylesheet_data=q(b=this.coderay_stylesheet_data)?b:a.const_get_qualified("::","IO").$read(a.const_get_qualified("::","File").$join(a.const_get_relative(k,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},
A.$$arity=0);a.def(g,"$embed_coderay_stylesheet",z=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},z.$$arity=0);a.def(g,"$write_coderay_stylesheet",B=function(b){null==b&&(b=".");return a.const_get_qualified("::","IO").$write(a.const_get_qualified("::","File").$join(b,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},B.$$arity=-1);a.def(g,"$pygments_stylesheet_name",H=function(b){var c;null==b&&(b=m);return"pygments-"+(q(c=b)?c:a.const_get_relative(k,"DEFAULT_PYGMENTS_STYLE"))+
".css"},H.$$arity=-1);a.def(g,"$pygments_stylesheet_data",C=function(b){var d,e;d=m;null==b&&(b=m);return q(this.$load_pygments())?(q(d=(this.pygments_stylesheet_data=q(e=this.pygments_stylesheet_data)?e:f([],{}))["$[]"](q(e=b)?e:a.const_get_relative(k,"DEFAULT_PYGMENTS_STYLE")))?b=d:(d=[q(e=b)?e:a.const_get_relative(k,"DEFAULT_PYGMENTS_STYLE"),a.const_get_qualified("::","Pygments").$css(".listingblock .pygments",f(["classprefix","style"],{classprefix:"tok-",style:q(e=b)?e:a.const_get_relative(k,
"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],c(this.pygments_stylesheet_data=q(e=this.pygments_stylesheet_data)?e:f([],{}),"[]=",a.to_a(d)),b=d,e=d.length,e="number"===typeof e?e-1:e["$-"](1),b=b[e]),b):"/* Pygments styles disabled. Pygments is not available. */"},C.$$arity=-1);a.def(g,"$embed_pygments_stylesheet",U=function(a){null==a&&(a=m);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},U.$$arity=-1);
a.def(g,"$write_pygments_stylesheet",J=function(b,c){null==b&&(b=".");null==c&&(c=m);return a.const_get_qualified("::","IO").$write(a.const_get_qualified("::","File").$join(b,this.$pygments_stylesheet_name(c)),this.$pygments_stylesheet_data(c))},J.$$arity=-1);return(a.def(g,"$load_pygments",Q=function(){return q(a.const_get_qualified("::","Pygments","skip_raise")?"constant":m)?!0:a.const_get_relative(k,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},Q.$$arity=0),
m)&&"load_pygments"})(d[0],null,d)}(b[0],b)};Opal.modules["asciidoctor/table"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function f(a,b){return"number"===
typeof a&&"number"===typeof b?a+b:a["$+"](b)}var c=[],k=a.nil,e=a.module,d=a.klass,h=a.send,t=a.truthy,u=a.hash2,l=a.range;a.add_stubs("$attr_accessor $attr_reader $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_column_widths $** $assign_width $shift $style= $head= $pop $foot= $update_attributes $parent $header_row? $table $delete $! $rstrip $start_with? $slice $length $strip $split $include? $readlines $unshift $nil? $apply_subs $convert $map $text $to_s $to_set $cursor $nested? $document $warn $prev_line_info $nil_or_empty? $escape $columns $match $pre_match $post_match $chop $buffer $end_with? $gsub $push_cellspec $cell_open? $close_cell $advance $take_cellspec $line_info $squeeze $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $!= $close_row $rows $effective_column_visits".split(" "));
return function(c,n){var v=[e(c,"Asciidoctor")].concat(n);(function(c,$super,e){function l(){}c=l=d(c,$super,"Table",l);var n=c.$$proto,u=[c].concat(e),v,w,x,z,B;n.attributes=n.document=n.has_header_option=n.rows=n.columns=k;(function(b,$super,c){function e(){}b=e=d(b,$super,"Rows",e);var f=b.$$proto;[b].concat(c);var g,h;f.head=f.foot=f.body=k;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",g=function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=
c},g.$$arity=-1);a.alias(b,"[]","send");return(a.def(b,"$by_section",h=function(){return[["head",this.head],["foot",this.foot],["body",this.body]]},h.$$arity=0),k)&&"by_section"})(u[0],null,u);c.$attr_accessor("columns");c.$attr_accessor("rows");c.$attr_accessor("has_header_option");c.$attr_reader("caption");a.def(c,"$initialize",v=function(c,d){var e,f,l=k,n=k,y=k;v.$$p&&(v.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",v,!1),[c,"table"],null);this.rows=a.const_get_relative(u,"Rows").$new();
this.columns=[];this.has_header_option=d["$key?"]("header-option");t(l=d["$[]"]("width"))?t(t(e=b(n=l.$to_i(),100))?e:m(n,1))&&!t((e=n["$=="](0))?t(f=l["$=="]("0"))?f:l["$=="]("0%"):n["$=="](0))&&(n=100):n=100;y=["tablepcwidth",n];h(this.attributes,"[]=",a.to_a(y));y[r(y.length,1)];t(this.document.$attributes()["$key?"]("pagewidth"))&&(t(e=this.attributes["$[]"]("tableabswidth"))?e:(y=["tableabswidth",p(q(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()],
h(this.attributes,"[]=",a.to_a(y)),y[r(y.length,1)]));return t(d["$key?"]("rotate-option"))?(y=["orientation","landscape"],h(d,"[]=",a.to_a(y)),y[r(y.length,1)]):k},v.$$arity=2);a.def(c,"$header_row?",w=function(){var a;return t(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},w.$$arity=0);a.def(c,"$create_columns",x=function(b){var c,d=k,e=k,g=k,d=[],e=0;h(b,"each",[],(c=function(b){var g=c.$$s||this;null==b&&(b=k);e=f(e,b["$[]"]("width"));return d["$<<"](a.const_get_relative(u,"Column").$new(g,
d.$size(),b))},c.$$s=this,c.$$arity=1,c));t((this.columns=d)["$empty?"]())||(g=["colcount",d.$size()],h(this.attributes,"[]=",a.to_a(g)),g[r(g.length,1)],this.$assign_column_widths(e["$=="](0)?k:e));return k},x.$$arity=1);a.def(c,"$assign_column_widths",z=function(a){var b,c,d=k,e=k,g=k;null==a&&(a=k);d=10["$**"](4);e=g=0;t(a)?h(this.columns,"each",[],(b=function(b){null==b&&(b=k);return e=f(e,g=b.$assign_width(k,a,d))},b.$$s=this,b.$$arity=1,b)):(g=q(q(p(100,d),this.columns.$size()).$to_i(),d),g.$to_i()["$=="](g)&&
(g=g.$to_i()),h(this.columns,"each",[],(c=function(a){null==a&&(a=k);return e=f(e,a.$assign_width(g))},c.$$s=this,c.$$arity=1,c)));e["$=="](100)||this.columns["$[]"](-1).$assign_width(q(p(f(r(100,e),g),d).$round(),d));return k},z.$$arity=-1);return(a.def(c,"$partition_header_footer",B=function(c){var d,e,f=k,l=k,m=k,f=["rowcount",this.rows.$body().$size()];h(this.attributes,"[]=",a.to_a(f));f[r(f.length,1)];l=this.rows.$body().$size();t(t(d=b(l,0))?this.has_header_option:d)&&(m=this.rows.$body().$shift(),
l=r(l,1),h(m,"each",[],(e=function(b){null==b&&(b=k);f=[k];h(b,"style=",a.to_a(f));return f[r(f.length,1)]},e.$$s=this,e.$$arity=1,e)),f=[[m]],h(this.rows,"head=",a.to_a(f)),f[r(f.length,1)]);t(t(d=b(l,0))?c["$key?"]("footer-option"):d)&&(f=[[this.rows.$body().$pop()]],h(this.rows,"foot=",a.to_a(f)),f[r(f.length,1)]);return k},B.$$arity=1),k)&&"partition_header_footer"})(v[0],a.const_get_relative(v,"AbstractBlock"),v);(function(b,$super,c){function e(){}b=e=d(b,$super,"Column",e);var g=b.$$proto;
[b].concat(c);var l,m;g.attributes=k;b.$attr_accessor("style");a.def(b,"$initialize",l=function(b,c,d){var e,g=l.$$p,m=k;null==d&&(d=u([],{}));g&&(l.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",l,!1),[b,"column"],null);this.style=d["$[]"]("style");m=["colnumber",f(c,1)];h(d,"[]=",a.to_a(m));m[r(m.length,1)];t(e=d["$[]"]("width"))?e:(m=["width",1],h(d,"[]=",a.to_a(m)),m[r(m.length,1)]);t(e=d["$[]"]("halign"))?e:(m=["halign","left"],h(d,"[]=",a.to_a(m)),m[r(m.length,1)]);t(e=d["$[]"]("valign"))?
e:(m=["valign","top"],h(d,"[]=",a.to_a(m)),m[r(m.length,1)]);return this.$update_attributes(d)},l.$$arity=-3);a.alias(b,"table","parent");return(a.def(b,"$assign_width",m=function(b,c,d){var e=k;null==c&&(c=k);null==d&&(d=1E4);t(c)&&(b=q(p(p(q(this.attributes["$[]"]("width").$to_f(),c),100),d).$to_i(),d),b.$to_i()["$=="](b)&&(b=b.$to_i()));e=["colpcwidth",b];h(this.attributes,"[]=",a.to_a(e));e[r(e.length,1)];t(this.$parent().$attributes()["$key?"]("tableabswidth"))&&(e=["colabswidth",p(q(b,100),
this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],h(this.attributes,"[]=",a.to_a(e)),e[r(e.length,1)]);return b},m.$$arity=-2),k)&&"assign_width"})(a.const_get_relative(v,"Table"),a.const_get_relative(v,"AbstractNode"),v);(function(b,$super,c){function e(){}b=e=d(b,$super,"Cell",e);var f=b.$$proto,g=[b].concat(c),l,n,p,q,v;f.document=f.text=f.style=f.inner_document=f.colspan=f.rowspan=f.attributes=k;b.$attr_accessor("style");b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,
"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",l=function(b,c,d,e){var f,n=l.$$p,p=k,q=k,y=q=k,v=k,w=k,q=k;null==d&&(d=u([],{}));null==e&&(e=u([],{}));n&&(l.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",l,!1),[b,"cell"],null);t(b)?(p=t(q=b.$table()["$header_row?"]())?k:b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes())):q=p=k;if(t(d)){this.colspan=d.$delete("colspan");this.rowspan=d.$delete("rowspan");t(t(f=q)?f:d["$key?"]("style")["$!"]())||
(p=d["$[]"]("style"));if(t(e["$[]"]("strip_text")))if(t(t(f=p["$=="]("literal"))?f:p["$=="]("verse")))for(c=c.$rstrip();t(c["$start_with?"](a.const_get_relative(g,"LF")));)c=c.$slice(1,r(c.$length(),1));else c=c.$strip();this.$update_attributes(d)}else this.rowspan=this.colspan=k;p["$=="]("asciidoc")&&(q=this.document.$attributes().$delete("doctitle"),y=c.$split(a.const_get_relative(g,"LF"),-1),!t(y["$empty?"]())&&t((v=y["$[]"](0))["$include?"]("::"))&&(w=a.const_get_relative(g,"PreprocessorReader").$new(this.document,
[v]).$readlines(),t(v["$=="](w["$[]"](0))?m(w.$size(),2):v["$=="](w["$[]"](0)))||(y.$shift(),t(w["$empty?"]())||h(y,"unshift",a.to_a(w)))),this.inner_document=a.const_get_relative(g,"Document").$new(y,u(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:e["$[]"]("cursor")})),t(q["$nil?"]())||(q=["doctitle",q],h(this.document.$attributes(),"[]=",a.to_a(q)),q[r(q.length,1)]));this.text=c;return this.style=p},l.$$arity=-3);a.def(b,"$text",n=function(){return this.$apply_subs(this.text,
this.style["$=="]("literal")?a.const_get_relative(g,"BASIC_SUBS"):a.const_get_relative(g,"NORMAL_SUBS"))},n.$$arity=0);a.def(b,"$text=",p=function(a){return this.text=a},p.$$arity=1);a.def(b,"$content",q=function(){var b;return this.style["$=="]("asciidoc")?this.inner_document.$convert():h(this.$text().$split(a.const_get_relative(g,"BlankLineRx")),"map",[],(b=function(c){var d=b.$$s||this,e;null==d.style&&(d.style=k);null==c&&(c=k);return t(t(e=d.style["$!"]())?e:d.style["$=="]("header"))?c:a.const_get_relative(g,
"Inline").$new(d.$parent(),"quoted",c,u(["type"],{type:d.style})).$convert()},b.$$s=this,b.$$arity=1,b))},q.$$arity=0);return(a.def(b,"$to_s",v=function(){var b,c=v.$$p,d=k,e=k,f=k;c&&(v.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return""+h(this,a.find_super_dispatcher(this,"to_s",v,!1),d,c).$to_s()+" - [text: "+this.text+", colspan: "+(t(b=this.colspan)?b:1)+", rowspan: "+(t(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},v.$$arity=0),k)&&"to_s"})(a.const_get_relative(v,
"Table"),a.const_get_relative(v,"AbstractNode"),v);(function(c,$super,e){function m(){}c=m=d(c,$super,"ParserContext",m);var n=c.$$proto,p=[c].concat(e),q,v,w,x,D,z,B,C,V,ba,N,O,ma,da,I,pa,ea,Z,fa;n.delimiter=n.delimiter_re=n.buffer=n.cellspecs=n.cell_open=n.format=n.last_cursor=n.table=n.current_row=n.colcount=n.column_visits=n.active_rowspans=n.linenum=k;a.const_set(p[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(p[0],"DELIMITERS",u(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],
csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));c.$attr_accessor("table");c.$attr_accessor("format");c.$attr_reader("colcount");c.$attr_accessor("buffer");c.$attr_reader("delimiter");c.$attr_reader("delimiter_re");a.def(c,"$initialize",q=function(b,c,d){var e=k,f=k;null==d&&(d=u([],{}));this.reader=b;this.table=c;this.last_cursor=b.$cursor();t(d["$key?"]("format"))?t(a.const_get_relative(p,"FORMATS")["$include?"](e=d["$[]"]("format")))?e["$=="]("tsv")?this.format="csv":t((this.format=
e)["$=="]("psv")?c.$document()["$nested?"]():(this.format=e)["$=="]("psv"))&&(e="!sv"):(this.$warn("asciidoctor: ERROR: "+b.$prev_line_info()+": illegal table format: "+e),b=["psv",t(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],e=b[1],b):(b=["psv",t(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],e=b[1],b);t(d["$key?"]("separator"))?t((f=d["$[]"]("separator"))["$nil_or_empty?"]())?(d=a.const_get_relative(p,"DELIMITERS")["$[]"](e),b=a.to_ary(d),this.delimiter=null==b[0]?k:
b[0],this.delimiter_re=null==b[1]?k:b[1],d):f["$=="]("\\t")?(d=a.const_get_relative(p,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(d),this.delimiter=null==b[0]?k:b[0],this.delimiter_re=null==b[1]?k:b[1],d):(b=[f,new RegExp(a.const_get_qualified("::","Regexp").$escape(f))],this.delimiter=b[0],this.delimiter_re=b[1],b):(d=a.const_get_relative(p,"DELIMITERS")["$[]"](e),b=a.to_ary(d),this.delimiter=null==b[0]?k:b[0],this.delimiter_re=null==b[1]?k:b[1],d);this.colcount=t(c.$columns()["$empty?"]())?-1:c.$columns().$size();
this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},q.$$arity=-3);a.def(c,"$starts_with_delimiter?",v=function(a){return a["$start_with?"](this.delimiter)},v.$$arity=1);a.def(c,"$match_delimiter",w=function(a){return this.delimiter_re.$match(a)},w.$$arity=1);a.def(c,"$skip_past_delimiter",x=function(a){this.buffer=""+this.buffer+a.$pre_match()+this.delimiter;return a.$post_match()},x.$$arity=1);a.def(c,"$skip_past_escaped_delimiter",
D=function(a){this.buffer=""+this.buffer+a.$pre_match().$chop()+this.delimiter;return a.$post_match()},D.$$arity=1);a.def(c,"$buffer_has_unclosed_quotes?",z=function(a){var b,c,d=k,e=k;null==a&&(a=k);return t((d=t(a)?f(this.$buffer(),a).$strip():this.$buffer().$strip())["$start_with?"]('"'))?t(t(b=t(c=e=d["$end_with?"]('"'))?d["$end_with?"]('""'):c)?b:d["$start_with?"]('""'))?t(b=(d=d.$gsub('""',""))["$start_with?"]('"'))?d["$end_with?"]('"')["$!"]():b:e["$!"]():!1},z.$$arity=-1);a.def(c,"$take_cellspec",
B=function(){return this.cellspecs.$shift()},B.$$arity=0);a.def(c,"$push_cellspec",C=function(a){var b;null==a&&(a=u([],{}));this.cellspecs["$<<"](t(b=a)?b:u([],{}));return k},C.$$arity=-1);a.def(c,"$keep_cell_open",V=function(){this.cell_open=!0;return k},V.$$arity=0);a.def(c,"$mark_cell_closed",ba=function(){this.cell_open=!1;return k},ba.$$arity=0);a.def(c,"$cell_open?",N=function(){return this.cell_open},N.$$arity=0);a.def(c,"$cell_closed?",O=function(){return this.cell_open["$!"]()},O.$$arity=
0);a.def(c,"$close_open_cell",ma=function(a){null==a&&(a=u([],{}));this.$push_cellspec(a);t(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return k},ma.$$arity=-1);a.def(c,"$close_cell",da=function(c){try{var d,e,m=k,n=k,q=k,y=k;null==c&&(c=!1);this.format["$=="]("psv")?(m=!0,n=this.buffer,this.buffer="",t(q=this.$take_cellspec())?y=t(d=q.$delete("repeatcol"))?d:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),
q=u([],{}),y=1)):(m=!1,n=this.buffer.$strip(),this.buffer="",q=k,y=1,this.format["$=="]("csv")&&t(t(d=n["$empty?"]()["$!"]())?n["$include?"]('"'):d)&&(t(t(d=n["$start_with?"]('"'))?n["$end_with?"]('"'):d)&&(n=n["$[]"](l(1,-1,!0)).$strip()),n=n.$squeeze('"')));h(1,"upto",[y],(e=function(d){var l=e.$$s||this,v,w,x,D,z=k,B=k,I=k,z=k;null==l.colcount&&(l.colcount=k);null==l.table&&(l.table=k);null==l.current_row&&(l.current_row=k);null==l.last_cursor&&(l.last_cursor=k);null==l.reader&&(l.reader=k);null==
l.column_visits&&(l.column_visits=k);null==l.linenum&&(l.linenum=k);null==d&&(d=k);l.colcount["$=="](-1)?(l.table.$columns()["$<<"](z=a.const_get_qualified(a.const_get_relative(p,"Table"),"Column").$new(l.table,r(f(l.table.$columns().$size(),d),1))),t(t(v=t(w=q)?q["$key?"]("colspan"):w)?b(B=r(q["$[]"]("colspan").$to_i(),1),0):v)&&(I=l.table.$columns().$size(),h(B,"times",[],(x=function(b){var c=x.$$s||this;null==c.table&&(c.table=k);null==b&&(b=k);return c.table.$columns()["$<<"](a.const_get_qualified(a.const_get_relative(p,
"Table"),"Column").$new(c.table,f(I,b)))},x.$$s=l,x.$$arity=1,x)))):t(z=l.table.$columns()["$[]"](l.current_row.$size()))||(l.$warn("asciidoctor: ERROR: "+l.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(k));z=a.const_get_qualified(a.const_get_relative(p,"Table"),"Cell").$new(z,n,q,u(["cursor","strip_text"],{cursor:l.last_cursor,strip_text:m}));l.last_cursor=l.reader.$cursor();t(t(v=z.$rowspan()["$!"]())?v:z.$rowspan()["$=="](1))||l.$activate_rowspan(z.$rowspan(),
t(v=z.$colspan())?v:1);l.column_visits=f(l.column_visits,t(v=z.$colspan())?v:1);l.current_row["$<<"](z);return t(t(v=l["$end_of_row?"]())?t(w=t(D=l.colcount["$!="](-1))?D:b(l.linenum,0))?w:t(D=c)?d["$=="](y):D:v)?l.$close_row():k},e.$$s=this,e.$$arity=1,e));this.cell_open=!1;return k}catch(v){if(v===a.returner)return v.$v;throw v;}},da.$$arity=-1);a.def(c,"$close_row",I=function(){var b,c=k;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);
this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();t(b=this.active_rowspans["$[]"](0))?b:(c=[0,0],h(this.active_rowspans,"[]=",a.to_a(c)),c[r(c.length,1)]);return k},I.$$arity=0);a.def(c,"$activate_rowspan",pa=function(b,c){var d;h((1).$upto(r(b,1)),"each",[],(d=function(b){var e=d.$$s||this,g,l=k;null==e.active_rowspans&&(e.active_rowspans=k);null==b&&(b=k);l=[b,f(t(g=e.active_rowspans["$[]"](b))?g:0,c)];h(e.active_rowspans,"[]=",a.to_a(l));return l[r(l.length,1)]},d.$$s=this,
d.$$arity=1,d));return k},pa.$$arity=2);a.def(c,"$end_of_row?",ea=function(){var a;return t(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},ea.$$arity=0);a.def(c,"$effective_column_visits",Z=function(){return f(this.column_visits,this.active_rowspans["$[]"](0))},Z.$$arity=0);return(a.def(c,"$advance",fa=function(){return this.linenum=f(this.linenum,1)},fa.$$arity=0),k)&&"advance"})(a.const_get_relative(v,"Table"),null,v)}(c[0],c)};Opal.modules["asciidoctor/converter/composite"]=
function(a){var b=[],m=a.nil,r=a.module,p=a.klass,q=a.send,f=a.truthy,c=a.hash2;a.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $find_converter $[]= $- $handles? $raise".split(" "));return function(b,e){var d=[r(b,"Asciidoctor")].concat(e);(function(b,$super,d){function e(){}b=e=p(b,$super,"CompositeConverter",e);var g=b.$$proto;[b].concat(d);var k,r,u,v;g.converter_map=g.converters=m;b.$attr_reader("converters");a.def(b,"$initialize",
k=function(a,b){var d,e,g=arguments.length;e=g-1;0>e&&(e=0);e=Array(e);for(var h=1;h<g;h++)e[h-1]=arguments[h];this.backend=a;q(this.converters=e.$flatten().$compact(),"each",[],(d=function(a){var b=d.$$s||this;null==a&&(a=m);return f(a["$respond_to?"]("composed"))?a.$composed(b):m},d.$$s=this,d.$$arity=1,d));return this.converter_map=c([],{})},k.$$arity=-2);a.def(b,"$convert",r=function(a,b,d){var e;null==b&&(b=m);null==d&&(d=c([],{}));b=f(e=b)?e:a.$node_name();return this.$converter_for(b).$convert(a,
b,d)},r.$$arity=-2);a.alias(b,"convert_with_options","convert");a.def(b,"$converter_for",u=function(b){var c;c=m;f(c=this.converter_map["$[]"](b))?b=c:(c=[b,this.$find_converter(b)],q(this.converter_map,"[]=",a.to_a(c)),b=c,c=c.length,c="number"===typeof c?c-1:c["$-"](1),b=b[c]);return b},u.$$arity=1);return(a.def(b,"$find_converter",v=function(b){try{var c;q(this.converters,"each",[],(c=function(c){null==c&&(c=m);if(f(c["$handles?"](b)))a.ret(c);else return m},c.$$s=this,c.$$arity=1,c));return this.$raise("Could not find a converter to handle transform: "+
b)}catch(d){if(d===a.returner)return d.$v;throw d;}},v.$$arity=1),m)&&"find_converter"})(a.const_get_relative(d,"Converter"),a.const_get_qualified(a.const_get_relative(d,"Converter"),"Base"),d)}(b[0],b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,
b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],e=a.nil,d=a.module,h=a.klass,t=a.send,u=a.hash2,l=a.truthy,v=a.range;a.add_stubs("$default= $- $== $[] $instance $empty? $attr $>= $safe $attr? $<< $include? $gsub $extname $doctitle $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $document $sections $level $caption $captioned_title $numbered $<= $sectnum $< $+ $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $text? $chomp $read_svg_contents $alt $image_uri $encode_quotes $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $by_section $rows $colspan $rowspan $role? $unshift $shift $split $nil_or_empty? $type $attributes $catalog $xreftext $target $join $map $chop $read_contents $sub $match $length".split(" "));
return function(k,w){var x=[d(k,"Asciidoctor")].concat(w);(function(d,$super,k){function n(){}d=n=h(d,$super,"Html5Converter",n);var w=d.$$proto,x=[d].concat(k),z,B,C,U,J,Q,R,V,ba,N,O,ma,da,I,pa,ea,Z,fa,K,ka,W,aa,ia,X,qa,na,ra,ta,ua,Ca,va,Ba,Fa,Ga,Ia,Aa,Ka,Ja,La,la,Ha;k=e;w.xml_mode=w.void_element_slash=w.stylesheets=w.xrefstyle=e;k=[["","",!1]];t(a.const_set(x[0],"QUOTE_TAGS",u("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),{monospaced:["<code>",
"</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",a.to_a(k));k[b(k.length,1)];a.const_set(x[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m);a.const_set(x[0],"SvgStartTagRx",/^<svg[^>]*>/);a.const_set(x[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/);
a.def(d,"$initialize",z=function(b,c){null==c&&(c=u([],{}));this.xml_mode=c["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=l(this.xml_mode)?"/":e;return this.stylesheets=a.const_get_relative(x,"Stylesheets").$instance()},z.$$arity=-2);a.def(d,"$document",B=function(b){var c,d,f,g,h,k=e,n=e,q=e,y=e,w=e,A=e,z=e,B=e,E=z=e,I=e,C=w=E=w=E=z=E=z=z=e,k=k=w=w=E=e,k=this.void_element_slash,n="<br"+k+">";l((q=b.$attr("asset-uri-scheme","https"))["$empty?"]())||(q=""+q+":");y=""+q+"//cdnjs.cloudflare.com/ajax/libs";
w=l(c=m(b.$safe(),a.const_get_qualified(a.const_get_relative(x,"SafeMode"),"SECURE")))?c:b["$attr?"]("linkcss");A=["<!DOCTYPE html>"];z=l(b["$attr?"]("nolang"))?e:' lang="'+b.$attr("lang","en")+'"';A["$<<"]("<html"+(l(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':e)+z+">");A["$<<"]('<head>\n<meta charset="'+b.$attr("encoding","UTF-8")+'"'+k+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+k+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
k+'>\n<meta name="generator" content="Asciidoctor '+b.$attr("asciidoctor-version")+'"'+k+">");if(l(b["$attr?"]("app-name")))A["$<<"]('<meta name="application-name" content="'+b.$attr("app-name")+'"'+k+">");if(l(b["$attr?"]("description")))A["$<<"]('<meta name="description" content="'+b.$attr("description")+'"'+k+">");if(l(b["$attr?"]("keywords")))A["$<<"]('<meta name="keywords" content="'+b.$attr("keywords")+'"'+k+">");if(l(b["$attr?"]("authors")))A["$<<"]('<meta name="author" content="'+(l((B=b.$attr("authors"))["$include?"]("<"))?
B.$gsub(a.const_get_relative(x,"XmlSanitizeRx"),""):B)+'"'+k+">");if(l(b["$attr?"]("copyright")))A["$<<"]('<meta name="copyright" content="'+b.$attr("copyright")+'"'+k+">");l(b["$attr?"]("favicon"))&&(l((z=b.$attr("favicon"))["$empty?"]())?(c=["favicon.ico","image/x-icon"],z=c[0],E=c[1],c):E=(I=a.const_get_qualified("::","File").$extname(z))["$=="](".ico")?"image/x-icon":"image/"+I["$[]"](v(1,-1,!1)),A["$<<"]('<link rel="shortcut icon" type="'+E+'" href="'+z+'">'));A["$<<"]("<title>"+b.$doctitle(u(["sanitize",
"use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if(l(a.const_get_relative(x,"DEFAULT_STYLESHEET_KEYS")["$include?"](b.$attr("stylesheet")))){if(l(z=b.$attr("webfonts")))A["$<<"]('<link rel="stylesheet" href="'+q+"//fonts.googleapis.com/css?family="+(l(z["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":z)+'"'+k+">");if(l(w))A["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(a.const_get_relative(x,
"DEFAULT_STYLESHEET_NAME"),b.$attr("stylesdir",""),!1)+'"'+k+">");else A["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if(l(b["$attr?"]("stylesheet")))if(l(w))A["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(b.$attr("stylesheet"),b.$attr("stylesdir",""))+'"'+k+">");else A["$<<"]("<style>\n"+b.$read_asset(b.$normalize_system_path(b.$attr("stylesheet"),b.$attr("stylesdir","")),u(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(l(b["$attr?"]("icons",
"font")))if(l(b["$attr?"]("iconfont-remote")))A["$<<"]('<link rel="stylesheet" href="'+b.$attr("iconfont-cdn",""+y+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+k+">");else z=""+b.$attr("iconfont-name","font-awesome")+".css",A["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(z,b.$attr("stylesdir",""),!1)+'"'+k+">");E=z=b.$attr("source-highlighter");if("coderay"["$==="](E)){if(b.$attr("coderay-css","class")["$=="]("class"))if(l(w))A["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),
b.$attr("stylesdir",""),!1)+'"'+k+">");else A["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](E)&&b.$attr("pygments-css","class")["$=="]("class"))if(E=b.$attr("pygments-style"),l(w))A["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(E),b.$attr("stylesdir",""),!1)+'"'+k+">");else A["$<<"](this.stylesheets.$embed_pygments_stylesheet(E));if(!l((w=b.$docinfo())["$empty?"]()))A["$<<"](w);A["$<<"]("</head>");E=[];if(l(b.$id()))E["$<<"]('id="'+
b.$id()+'"');if(l(l(c=l(d=l(f=w=b["$sections?"]())?b["$attr?"]("toc-class"):f)?b["$attr?"]("toc"):d)?b["$attr?"]("toc-placement","auto"):c))E["$<<"]('class="'+b.$doctype()+" "+b.$attr("toc-class")+" toc-"+b.$attr("toc-position","header")+'"');else E["$<<"]('class="'+b.$doctype()+'"');if(l(b["$attr?"]("max-width")))E["$<<"]('style="max-width: '+b.$attr("max-width")+';"');A["$<<"]("<body "+r(E," ")+">");if(!l(b.$noheader())){A["$<<"]('<div id="header">');if(b.$doctype()["$=="]("manpage")){A["$<<"]("<h1>"+
b.$doctitle()+" Manual Page</h1>");if(l(l(c=l(d=w)?b["$attr?"]("toc"):d)?b["$attr?"]("toc-placement","auto"):c))A["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");A["$<<"]("<h2>"+b.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+b.$attr("manname")+" - "+b.$attr("manpurpose")+"</p>\n</div>")}else{if(l(b["$has_header?"]())){if(!l(b.$notitle()))A["$<<"]("<h1>"+b.$header().$title()+"</h1>");
C=[];if(l(b["$attr?"]("author"))){C["$<<"]('<span id="author" class="author">'+b.$attr("author")+"</span>"+n);if(l(b["$attr?"]("email")))C["$<<"]('<span id="email" class="email">'+b.$sub_macros(b.$attr("email"))+"</span>"+n);l(p(E=b.$attr("authorcount").$to_i(),1))&&t(a.Range.$new(2,E,!1),"each",[],(g=function(a){null==a&&(a=e);C["$<<"]('<span id="author'+a+'" class="author">'+b.$attr("author_"+a)+"</span>"+n);return l(b["$attr?"]("email_"+a))?C["$<<"]('<span id="email'+a+'" class="email">'+b.$sub_macros(b.$attr("email_"+
a))+"</span>"+n):e},g.$$s=this,g.$$arity=1,g))}if(l(b["$attr?"]("revnumber")))C["$<<"]('<span id="revnumber">'+(l(c=b.$attr("version-label"))?c:"").$downcase()+" "+b.$attr("revnumber")+(l(b["$attr?"]("revdate"))?",":"")+"</span>");if(l(b["$attr?"]("revdate")))C["$<<"]('<span id="revdate">'+b.$attr("revdate")+"</span>");if(l(b["$attr?"]("revremark")))C["$<<"](""+n+'<span id="revremark">'+b.$attr("revremark")+"</span>");l(C["$empty?"]())||(A["$<<"]('<div class="details">'),A.$concat(C),A["$<<"]("</div>"))}if(l(l(c=
l(d=w)?b["$attr?"]("toc"):d)?b["$attr?"]("toc-placement","auto"):c))A["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>")}A["$<<"]("</div>")}A["$<<"]('<div id="content">\n'+b.$content()+"\n</div>");l(l(c=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():c)&&(A["$<<"]('<div id="footnotes">\n<hr'+k+">"),t(b.$footnotes(),"each",[],(h=function(a){null==a&&(a=e);return A["$<<"]('<div class="footnote" id="_footnote_'+
a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},h.$$s=this,h.$$arity=1,h)),A["$<<"]("</div>"));if(!l(b.$nofooter())){A["$<<"]('<div id="footer">');A["$<<"]('<div id="footer-text">');if(l(b["$attr?"]("revnumber")))A["$<<"](""+b.$attr("version-label")+" "+b.$attr("revnumber")+n);if(l(l(c=b["$attr?"]("last-update-label"))?b["$attr?"]("reproducible")["$!"]():c))A["$<<"](""+b.$attr("last-update-label")+" "+b.$attr("docdatetime"));A["$<<"]("</div>");A["$<<"]("</div>")}if(!l((w=
b.$docinfo("footer"))["$empty?"]()))A["$<<"](w);E=z;"highlightjs"["$==="](E)||"highlight.js"["$==="](E)?(w=b.$attr("highlightjsdir",""+y+"/highlight.js/9.12.0"),A["$<<"]('<link rel="stylesheet" href="'+w+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+k+">"),A["$<<"]('<script src="'+w+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](E)&&(w=b.$attr("prettifydir",""+y+"/prettify/r298"),A["$<<"]('<link rel="stylesheet" href="'+w+"/"+b.$attr("prettify-theme",
"prettify")+'.min.css"'+k+">"),A["$<<"]('<script src="'+w+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));l(b["$attr?"]("stem"))&&(k=b.$attr("eqnums","none"),l(k["$empty?"]())&&(k="AMS"),k=' equationNumbers: { autoNumber: "'+k+'" } ',A["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+a.const_get_relative(x,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+a.const_get_relative(x,
"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+a.const_get_relative(x,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+k+'}\n});\n\x3c/script>\n<script src="'+y+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));A["$<<"]("</body>");A["$<<"]("</html>");return r(A,a.const_get_relative(x,"LF"))},B.$$arity=1);a.def(d,
"$embedded",C=function(b){var c,d,f,g,h=e,k=e,m=e,h=[];b.$doctype()["$=="]("manpage")?(l(b.$notitle())||(k=l(b.$id())?' id="'+b.$id()+'"':e,h["$<<"]("<h1"+k+">"+b.$doctitle()+" Manual Page</h1>")),h["$<<"]("<h2>"+b.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+b.$attr("manname")+" - "+b.$attr("manpurpose")+"</p>\n</div>")):l(l(c=b["$has_header?"]())?b.$notitle()["$!"]():c)&&(k=l(b.$id())?' id="'+b.$id()+'"':e,h["$<<"]("<h1"+k+">"+b.$header().$title()+"</h1>"));if(l(l(c=l(d=l(f=b["$sections?"]())?
b["$attr?"]("toc"):f)?(m=b.$attr("toc-placement"))["$!="]("macro"):d)?m["$!="]("preamble"):c))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");h["$<<"](b.$content());l(l(c=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():c)&&(h["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),t(b.$footnotes(),"each",[],(g=function(a){null==a&&(a=e);return h["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+
a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),h["$<<"]("</div>"));return r(h,a.const_get_relative(x,"LF"))},C.$$arity=1);a.def(d,"$outline",U=function(b,c){var d,g,h=e,k=e,m=e,n=e;null==c&&(c=u([],{}));if(!l(b["$sections?"]()))return e;h=l(d=c["$[]"]("sectnumlevels"))?d:b.$document().$attr("sectnumlevels",3).$to_i();k=l(d=c["$[]"]("toclevels"))?d:b.$document().$attr("toclevels",2).$to_i();m=b.$sections();n=['<ul class="sectlevel'+m["$[]"](0).$level()+'">'];
t(m,"each",[],(g=function(a){var b=g.$$s||this,c,d=e,m=e,p=e;null==a&&(a=e);d=a.$level();m=l(a.$caption())?a.$captioned_title():l(l(c=a.$numbered())?q(d,h):c)?""+a.$sectnum()+" "+a.$title():a.$title();return l(l(c=f(d,k))?p=b.$outline(a,u(["toclevels","secnumlevels"],{toclevels:k,secnumlevels:h})):c)?(n["$<<"]('<li><a href="#'+a.$id()+'">'+m+"</a>"),n["$<<"](p),n["$<<"]("</li>")):n["$<<"]('<li><a href="#'+a.$id()+'">'+m+"</a></li>")},g.$$s=this,g.$$arity=1,g));n["$<<"]("</ul>");return r(n,a.const_get_relative(x,
"LF"))},U.$$arity=-2);a.def(d,"$section",J=function(a){var b,d,f=e,g=e,h=e,k=e,m=e,n=e,p=e,r=e,t=p=e,r=e,f=a.$level(),g="h"+c(f,1),h=k=m=n=e;l(a.$id())&&(h=' id="'+(p=a.$id())+'"',l((r=a.$document())["$attr?"]("sectanchors"))&&(k='<a class="anchor" href="#'+p+'"></a>'),l(r["$attr?"]("sectlinks"))&&(m='<a class="link" href="#'+p+'">',n="</a>"));if(f["$=="](0))return"<h1"+h+' class="sect0">'+k+m+a.$title()+n+"</h1>\n"+a.$content();p=l(t=a.$role())?' class="sect'+f+" "+t+'"':' class="sect'+f+'"';r=l(l(b=
l(d=a.$numbered())?a.$caption()["$!"]():d)?q(f,a.$document().$attr("sectnumlevels",3).$to_i()):b)?""+a.$sectnum()+" ":e;return"<div"+p+">\n<"+g+h+">"+k+m+r+a.$captioned_title()+n+"</"+g+">\n"+(f["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},J.$$arity=1);a.def(d,"$admonition",Q=function(a){var b,c=e,d=e,f=e,g=e,h=e,c=l(a.$id())?' id="'+a.$id()+'"':e,d=a.$attr("name"),f=l(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":e,g=l(a.$document()["$attr?"]("icons"))?
l(l(b=a.$document()["$attr?"]("icons","font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+d+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(d)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+c+' class="admonitionblock '+d+(l(b=h=a.$role())?" "+h:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+g+'\n</td>\n<td class="content">\n'+f+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},Q.$$arity=1);a.def(d,
"$audio",R=function(a){var b,c=e,d=e,f=e,g=f=e,h=e,k=e,h=e,c=this.xml_mode,d=l(a.$id())?' id="'+a.$id()+'"':e,f=["audioblock",a.$role()].$compact(),f=' class="'+r(f," ")+'"',g=l(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":e,h=a.$attr("start",e,!1),k=a.$attr("end",e,!1),h=l(l(b=h)?b:k)?"#t="+h+(l(k)?",":e)+k:e;return"<div"+d+f+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+h+'"'+(l(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",c):
e)+(l(a["$option?"]("nocontrols"))?e:this.$append_boolean_attribute("controls",c))+(l(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):e)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},R.$$arity=1);a.def(d,"$colist",V=function(b){var d,f,g=e,h=e,k=e,m=k=e,n=e,g=[],h=l(b.$id())?' id="'+b.$id()+'"':e,k=["colist",b.$style(),b.$role()].$compact(),k=' class="'+r(k," ")+'"';g["$<<"]("<div"+h+k+">");if(l(b["$title?"]()))g["$<<"]('<div class="title">'+b.$title()+
"</div>");l(b.$document()["$attr?"]("icons"))?(g["$<<"]("<table>"),d=[b.$document()["$attr?"]("icons","font"),0],m=d[0],n=d[1],d,t(b.$items(),"each",[],(f=function(d){var h=f.$$s||this,k=e;null==h.void_element_slash&&(h.void_element_slash=e);null==d&&(d=e);n=c(n,1);k=l(m)?'<i class="conum" data-value="'+n+'"></i><b>'+n+"</b>":'<img src="'+b.$icon_uri("callouts/"+n)+'" alt="'+n+'"'+h.void_element_slash+">";return g["$<<"]("<tr>\n<td>"+k+"</td>\n<td>"+d.$text()+(l(d["$blocks?"]())?c(a.const_get_relative(x,
"LF"),d.$content()):"")+"</td>\n</tr>")},f.$$s=this,f.$$arity=1,f)),g["$<<"]("</table>")):(g["$<<"]("<ol>"),t(b.$items(),"each",[],(d=function(b){null==b&&(b=e);return g["$<<"]("<li>\n<p>"+b.$text()+"</p>"+(l(b["$blocks?"]())?c(a.const_get_relative(x,"LF"),b.$content()):"")+"\n</li>")},d.$$s=this,d.$$arity=1,d)),g["$<<"]("</ol>"));g["$<<"]("</div>");return r(g,a.const_get_relative(x,"LF"))},V.$$arity=1);a.def(d,"$dlist",ba=function(b){var c,d,f,g,h=e,k=e,m=e,n=m=m=e,p=k=e,h=[],k=l(b.$id())?' id="'+
b.$id()+'"':e,m=b.$style(),m=("qanda"["$==="](m)?["qlist","qanda",b.$role()]:"horizontal"["$==="](m)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),m=' class="'+r(m," ")+'"';h["$<<"]("<div"+k+m+">");if(l(b["$title?"]()))h["$<<"]('<div class="title">'+b.$title()+"</div>");m=b.$style();"qanda"["$==="](m)?(h["$<<"]("<ol>"),t(b.$items(),"each",[],(c=function(b,d){var f=c.$$s||this,g;null==b&&(b=e);null==d&&(d=e);h["$<<"]("<li>");t([].concat(a.to_a(b)),"each",[],(g=function(a){null==a&&
(a=e);return h["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=f,g.$$arity=1,g));if(l(d)){if(l(d["$text?"]()))h["$<<"]("<p>"+d.$text()+"</p>");if(l(d["$blocks?"]()))h["$<<"](d.$content())}return h["$<<"]("</li>")},c.$$s=this,c.$$arity=2,c)),h["$<<"]("</ol>")):"horizontal"["$==="](m)?(n=this.void_element_slash,h["$<<"]("<table>"),l(l(d=b["$attr?"]("labelwidth"))?d:b["$attr?"]("itemwidth"))&&(h["$<<"]("<colgroup>"),k=l(b["$attr?"]("labelwidth"))?' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"':
e,h["$<<"]("<col"+k+n+">"),k=l(b["$attr?"]("itemwidth"))?' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"':e,h["$<<"]("<col"+k+n+">"),h["$<<"]("</colgroup>")),t(b.$items(),"each",[],(f=function(c,d){var g=f.$$s||this,k,m=e,p=e;null==c&&(c=e);null==d&&(d=e);h["$<<"]("<tr>");h["$<<"]('<td class="hdlist1'+(l(b["$option?"]("strong"))?" strong":e)+'">');m=[].concat(a.to_a(c));p=m["$[]"](-1);t(m,"each",[],(k=function(a){null==a&&(a=e);h["$<<"](a.$text());return l(a["$!="](p))?h["$<<"]("<br"+n+">"):
e},k.$$s=g,k.$$arity=1,k));h["$<<"]("</td>");h["$<<"]('<td class="hdlist2">');if(l(d)){if(l(d["$text?"]()))h["$<<"]("<p>"+d.$text()+"</p>");if(l(d["$blocks?"]()))h["$<<"](d.$content())}h["$<<"]("</td>");return h["$<<"]("</tr>")},f.$$s=this,f.$$arity=2,f)),h["$<<"]("</table>")):(h["$<<"]("<dl>"),p=l(b.$style())?e:' class="hdlist1"',t(b.$items(),"each",[],(g=function(b,c){var d=g.$$s||this,f;null==b&&(b=e);null==c&&(c=e);t([].concat(a.to_a(b)),"each",[],(f=function(a){null==a&&(a=e);return h["$<<"]("<dt"+
p+">"+a.$text()+"</dt>")},f.$$s=d,f.$$arity=1,f));if(l(c)){h["$<<"]("<dd>");if(l(c["$text?"]()))h["$<<"]("<p>"+c.$text()+"</p>");if(l(c["$blocks?"]()))h["$<<"](c.$content());return h["$<<"]("</dd>")}return e},g.$$s=this,g.$$arity=2,g)),h["$<<"]("</dl>"));h["$<<"]("</div>");return r(h,a.const_get_relative(x,"LF"))},ba.$$arity=1);a.def(d,"$example",N=function(a){var b,c=e,d=e,f=e,c=l(a.$id())?' id="'+a.$id()+'"':e,d=l(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":e;return"<div"+
c+' class="exampleblock'+(l(b=f=a.$role())?" "+f:b)+'">\n'+d+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},N.$$arity=1);a.def(d,"$floating_title",O=function(a){var b=e,d=e,f=e,b="h"+c(a.$level(),1),d=l(a.$id())?' id="'+a.$id()+'"':e,f=[a.$style(),a.$role()].$compact();return"<"+b+d+' class="'+r(f," ")+'">'+a.$title()+"</"+b+">"},O.$$arity=1);a.def(d,"$image",ma=function(b){var c,d,g,h=e,k=e,m=e,n=e,p=e,q=e,t=e,u=e,v=e,t=m=m=k=k=h=e,h=b.$attr("target"),k=l(b["$attr?"]("width"))?' width="'+
b.$attr("width")+'"':e,m=l(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':e;l(l(c=l(d=l(g=b["$attr?"]("format","svg",!1))?g:h["$include?"](".svg"))?f(b.$document().$safe(),a.const_get_qualified(a.const_get_relative(x,"SafeMode"),"SECURE")):d)?l(d=n=b["$option?"]("inline"))?d:p=b["$option?"]("interactive"):c)&&(l(n)?q=l(c=this.$read_svg_contents(b,h))?c:'<span class="alt">'+b.$alt()+"</span>":l(p)&&(t=l(b["$attr?"]("fallback"))?'<img src="'+b.$image_uri(b.$attr("fallback"))+'" alt="'+this.$encode_quotes(b.$alt())+
'"'+k+m+this.void_element_slash+">":'<span class="alt">'+b.$alt()+"</span>",q='<object type="image/svg+xml" data="'+b.$image_uri(h)+'"'+k+m+">"+t+"</object>"));q=l(c=q)?c:'<img src="'+b.$image_uri(h)+'" alt="'+this.$encode_quotes(b.$alt())+'"'+k+m+this.void_element_slash+">";l(b["$attr?"]("link"))&&(l(b["$attr?"]("window"))&&(u=' target="'+(v=b.$attr("window"))+'"'+(l(l(c=v["$=="]("_blank"))?c:b["$option?"]("noopener"))?' rel="noopener"':"")),q='<a class="image" href="'+b.$attr("link")+'"'+u+">"+
q+"</a>");h=l(b.$id())?' id="'+b.$id()+'"':e;k=["imageblock",b.$role()].$compact();k=' class="'+r(k," ")+'"';m=[];if(l(b["$attr?"]("align")))m["$<<"]("text-align: "+b.$attr("align"));if(l(b["$attr?"]("float")))m["$<<"]("float: "+b.$attr("float"));m=l(m["$empty?"]())?e:' style="'+r(m,";")+'"';t=l(b["$title?"]())?'\n<div class="title">'+b.$captioned_title()+"</div>":e;return"<div"+h+k+m+'>\n<div class="content">\n'+q+"\n</div>"+t+"\n</div>"},ma.$$arity=1);a.def(d,"$listing",da=function(a){var b,c=e,
d=e,f=e,g=e,h=g=c=f=c=e,k=e,c=l(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(f=l(d=a.$attr("language",e,!1))?' data-lang="'+d+'"':e,g=a.$document().$attr("source-highlighter"),"coderay"["$==="](g)?c=' class="CodeRay highlight'+(l(c)?" nowrap":e)+'"':"pygments"["$==="](g)?c=' class="pygments highlight'+(l(c)?" nowrap":e)+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?(c=' class="highlightjs highlight'+(l(c)?" nowrap":e)+'"',l(d)&&(f=
' class="language-'+d+' hljs"'+f)):"prettify"["$==="](g)?(c=' class="prettyprint highlight'+(l(c)?" nowrap":e)+(l(a["$attr?"]("linenums",e,!1))?" linenums":e)+'"',l(d)&&(f=' class="language-'+d+'"'+f)):"html-pipeline"["$==="](g)?(c=l(d)?' lang="'+d+'"':e,f=e):(c=' class="highlight'+(l(c)?" nowrap":e)+'"',l(d)&&(f=' class="language-'+d+'"'+f)),f="<pre"+c+"><code"+f+">",c="</code></pre>"):(f="<pre"+(l(c)?' class="nowrap"':e)+">",c="</pre>");g=l(a.$id())?' id="'+a.$id()+'"':e;h=l(a["$title?"]())?'<div class="title">'+
a.$captioned_title()+"</div>\n":e;return"<div"+g+' class="listingblock'+(l(b=k=a.$role())?" "+k:b)+'">\n'+h+'<div class="content">\n'+f+a.$content()+c+"\n</div>\n</div>"},da.$$arity=1);a.def(d,"$literal",I=function(a){var b,c=e,d=e,f=e,g=e,c=l(a.$id())?' id="'+a.$id()+'"':e,d=l(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":e,f=l(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");return"<div"+c+' class="literalblock'+(l(b=g=a.$role())?" "+g:b)+'">\n'+d+'<div class="content">\n<pre'+
(l(f)?' class="nowrap"':e)+">"+a.$content()+"</pre>\n</div>\n</div>"},I.$$arity=1);a.def(d,"$stem",pa=function(b){var c,d,f=e,g=e,h=e,k=e,m=e,n=e,f=l(b.$id())?' id="'+b.$id()+'"':e,g=l(b["$title?"]())?'<div class="title">'+b.$title()+"</div>\n":e;d=a.const_get_relative(x,"BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());c=a.to_ary(d);h=null==c[0]?e:c[0];k=null==c[1]?e:c[1];d;l(l(c=(m=b.$content())["$start_with?"](h))?m["$end_with?"](k):c)||(m=""+h+m+k);return"<div"+f+' class="stemblock'+(l(c=
n=b.$role())?" "+n:c)+'">\n'+g+'<div class="content">\n'+m+"\n</div>\n</div>"},pa.$$arity=1);a.def(d,"$olist",ea=function(b){var c,d=e,f=e,g=e,h=f=g=e,k=g=e,d=[],f=l(b.$id())?' id="'+b.$id()+'"':e,g=["olist",b.$style(),b.$role()].$compact(),g=' class="'+r(g," ")+'"';d["$<<"]("<div"+f+g+">");if(l(b["$title?"]()))d["$<<"]('<div class="title">'+b.$title()+"</div>");f=l(h=b.$list_marker_keyword())?' type="'+h+'"':e;g=l(b["$attr?"]("start"))?' start="'+b.$attr("start")+'"':e;k=l(b["$option?"]("reversed"))?
this.$append_boolean_attribute("reversed",this.xml_mode):e;d["$<<"]('<ol class="'+b.$style()+'"'+f+g+k+">");t(b.$items(),"each",[],(c=function(a){null==a&&(a=e);d["$<<"]("<li>");d["$<<"]("<p>"+a.$text()+"</p>");if(l(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},c.$$s=this,c.$$arity=1,c));d["$<<"]("</ol>");d["$<<"]("</div>");return r(d,a.const_get_relative(x,"LF"))},ea.$$arity=1);a.def(d,"$open",Z=function(a){var b,c,d,f=e,g=e,h=e,k=e;if((f=a.$style())["$=="]("abstract")){if(l((b=
a.$parent()["$=="](a.$document()))?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),"";g=l(a.$id())?' id="'+a.$id()+'"':e;h=l(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":e;return"<div"+g+' class="quoteblock abstract'+(l(b=k=a.$role())?" "+k:b)+'">\n'+h+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(l((b=
f["$=="]("partintro"))?l(c=l(d=p(a.$level(),0))?d:a.$parent().$context()["$!="]("section"))?c:a.$document().$doctype()["$!="]("book"):f["$=="]("partintro")))return this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"";g=l(a.$id())?' id="'+a.$id()+'"':e;h=l(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":e;return"<div"+g+' class="openblock'+(l(l(b=f)?f["$!="]("open"):b)?" "+f:"")+(l(b=k=a.$role())?
" "+k:b)+'">\n'+h+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},Z.$$arity=1);a.def(d,"$page_break",fa=function(a){return'<div style="page-break-after: always;"></div>'},fa.$$arity=1);a.def(d,"$paragraph",K=function(a){var b=e,b=e,b=l(a.$role())?'class="paragraph '+a.$role()+'"':'class="paragraph"',b=l(a.$id())?'id="'+a.$id()+'" '+b:b;return l(a["$title?"]())?"<div "+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div "+b+">\n<p>"+a.$content()+"</p>\n</div>"},
K.$$arity=1);a.def(d,"$preamble",ka=function(a){var b,c,d=e,f=e,f=l(l(b=l(c=(d=a.$document())["$attr?"]("toc-placement","preamble"))?d["$sections?"]():c)?d["$attr?"]("toc"):b)?'\n<div id="toc" class="'+d.$attr("toc-class","toc")+'">\n<div id="toctitle">'+d.$attr("toc-title")+"</div>\n"+this.$outline(d)+"\n</div>":e;return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+f+"\n</div>"},ka.$$arity=1);a.def(d,"$quote",W=function(a){var b,c=e,d=e,f=d=e,g=e,h=e,k=e,k=g=e,c=l(a.$id())?
' id="'+a.$id()+'"':e,d=["quoteblock",a.$role()].$compact(),d=' class="'+r(d," ")+'"',f=l(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":e,g=l(a["$attr?"]("attribution"))?a.$attr("attribution"):e,h=l(a["$attr?"]("citetitle"))?a.$attr("citetitle"):e;l(l(b=g)?b:h)?(k=l(h)?"<cite>"+h+"</cite>":e,g=l(g)?"&#8212; "+g+(l(h)?"<br"+this.void_element_slash+">\n":e):e,k='\n<div class="attribution">\n'+g+k+"\n</div>"):k=e;return"<div"+c+d+">"+f+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+
k+"\n</div>"},W.$$arity=1);a.def(d,"$thematic_break",aa=function(a){return"<hr"+this.void_element_slash+">"},aa.$$arity=1);a.def(d,"$sidebar",ia=function(a){var b,c=e,d=e,f=e,c=l(a.$id())?' id="'+a.$id()+'"':e,d=l(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":e;return"<div"+c+' class="sidebarblock'+(l(b=f=a.$role())?" "+f:b)+'">\n<div class="content">\n'+d+a.$content()+"\n</div>\n</div>"},ia.$$arity=1);a.def(d,"$table",X=function(b){var c,d,f,g,h=e,k=e,m=e,n=e,q=e,u=n=m=e,v=e,h=[],k=
l(b.$id())?' id="'+b.$id()+'"':e,m=["tableblock","frame-"+b.$attr("frame","all"),"grid-"+b.$attr("grid","all")],n=[];if(!l(l(c=b["$option?"]("autowidth"))?b["$attr?"]("width",e,!1)["$!"]():c))if(l(b["$attr?"]("tablepcwidth",100)))m["$<<"]("spread");else n["$<<"]("width: "+b.$attr("tablepcwidth")+"%;");if(l(q=b.$role()))m["$<<"](q);m=' class="'+r(m," ")+'"';if(l(b["$attr?"]("float")))n["$<<"]("float: "+b.$attr("float")+";");n=l(n["$empty?"]())?e:' style="'+r(n," ")+'"';h["$<<"]("<table"+k+m+n+">");
if(l(b["$title?"]()))h["$<<"]('<caption class="title">'+b.$captioned_title()+"</caption>");l(p(b.$attr("rowcount"),0))&&(u=this.void_element_slash,h["$<<"]("<colgroup>"),l(b["$option?"]("autowidth"))?(v="<col"+u+">",t(b.$columns().$size(),"times",[],(d=function(){return h["$<<"](v)},d.$$s=this,d.$$arity=0,d))):t(b.$columns(),"each",[],(f=function(a){null==a&&(a=e);return h["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+u+">")},f.$$s=this,f.$$arity=1,f)),h["$<<"]("</colgroup>"),t(b.$rows().$by_section(),
"each",[],(g=function(a,c){var d=g.$$s||this,f;null==a&&(a=e);null==c&&(c=e);if(l(c["$empty?"]()))return e;h["$<<"]("<t"+a+">");t(c,"each",[],(f=function(c){var d=f.$$s||this,g;null==c&&(c=e);h["$<<"]("<tr>");t(c,"each",[],(g=function(c){var d,f=e,g=e,k=g=e,m=e,n=e,p=e;null==c&&(c=e);a["$=="]("head")?f=c.$text():(g=c.$style(),f="asciidoc"["$==="](g)?"<div>"+c.$content()+"</div>":"verse"["$==="](g)?'<div class="verse">'+c.$text()+"</div>":"literal"["$==="](g)?'<div class="literal"><pre>'+c.$text()+
"</pre></div>":l((f=c.$content())["$empty?"]())?"":'<p class="tableblock">'+r(f,'</p>\n<p class="tableblock">')+"</p>");g=l(l(d=a["$=="]("head"))?d:c.$style()["$=="]("header"))?"th":"td";k=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+'"';m=l(c.$colspan())?' colspan="'+c.$colspan()+'"':e;n=l(c.$rowspan())?' rowspan="'+c.$rowspan()+'"':e;p=l(b.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+b.$document().$attr("cellbgcolor")+';"':e;return h["$<<"]("<"+
g+k+m+n+p+">"+f+"</"+g+">")},g.$$s=d,g.$$arity=1,g));return h["$<<"]("</tr>")},f.$$s=d,f.$$arity=1,f));return h["$<<"]("</t"+a+">")},g.$$s=this,g.$$arity=2,g)));h["$<<"]("</table>");return r(h,a.const_get_relative(x,"LF"))},X.$$arity=1);a.def(d,"$toc",qa=function(a){var b,c,d=e,f=e,g=e,h=e,k=e,m=e;if(!l(l(b=l(c=(d=a.$document())["$attr?"]("toc-placement","macro"))?d["$sections?"]():c)?d["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";l(a.$id())?(f=' id="'+a.$id()+'"',g=' id="'+a.$id()+'title"'):
(f=' id="toc"',g=' id="toctitle"');h=l(a["$title?"]())?a.$title():d.$attr("toc-title");k=l(a["$attr?"]("levels"))?a.$attr("levels").$to_i():e;m=l(a["$role?"]())?a.$role():d.$attr("toc-class","toc");return"<div"+f+' class="'+m+'">\n<div'+g+' class="title">'+h+"</div>\n"+this.$outline(d,u(["toclevels"],{toclevels:k}))+"\n</div>"},qa.$$arity=1);a.def(d,"$ulist",na=function(b){var c,d=e,f=e,g=e,h=e,k=e,m=e,n=e,d=[],f=l(b.$id())?' id="'+b.$id()+'"':e,g=["ulist",b.$style(),b.$role()].$compact(),k=h=e;l(m=
b["$option?"]("checklist"))?(g.$unshift(g.$shift(),"checklist"),n=' class="checklist"',l(b["$option?"]("interactive"))?l(this.xml_mode)?(h='<input type="checkbox" data-item-complete="1" checked="checked"/> ',k='<input type="checkbox" data-item-complete="0"/> '):(h='<input type="checkbox" data-item-complete="1" checked> ',k='<input type="checkbox" data-item-complete="0"> '):l(b.$document()["$attr?"]("icons","font"))?(h='<i class="fa fa-check-square-o"></i> ',k='<i class="fa fa-square-o"></i> '):(h=
"&#10003; ",k="&#10063; ")):n=l(b.$style())?' class="'+b.$style()+'"':e;d["$<<"]("<div"+f+' class="'+r(g," ")+'">');if(l(b["$title?"]()))d["$<<"]('<div class="title">'+b.$title()+"</div>");d["$<<"]("<ul"+n+">");t(b.$items(),"each",[],(c=function(a){var b;null==a&&(a=e);d["$<<"]("<li>");if(l(l(b=m)?a["$attr?"]("checkbox"):b))d["$<<"]("<p>"+(l(a["$attr?"]("checked"))?h:k)+a.$text()+"</p>");else d["$<<"]("<p>"+a.$text()+"</p>");if(l(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},c.$$s=
this,c.$$arity=1,c));d["$<<"]("</ul>");d["$<<"]("</div>");return r(d,a.const_get_relative(x,"LF"))},na.$$arity=1);a.def(d,"$verse",ra=function(a){var b,c=e,d=e,f=d=e,g=e,h=e,k=e,k=g=e,c=l(a.$id())?' id="'+a.$id()+'"':e,d=["verseblock",a.$role()].$compact(),d=' class="'+r(d," ")+'"',f=l(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":e,g=l(a["$attr?"]("attribution"))?a.$attr("attribution"):e,h=l(a["$attr?"]("citetitle"))?a.$attr("citetitle"):e;l(l(b=g)?b:h)?(k=l(h)?"<cite>"+h+"</cite>":
e,g=l(g)?"&#8212; "+g+(l(h)?"<br"+this.void_element_slash+">\n":e):e,k='\n<div class="attribution">\n'+g+k+"\n</div>"):k=e;return"<div"+c+d+">"+f+'\n<pre class="content">'+a.$content()+"</pre>"+k+"\n</div>"},ra.$$arity=1);a.def(d,"$video",ta=function(b){var c,d,f=this,g=e,h=e,k=e,m=e,n=e,p=e,q=e,t=e,u=e,v=e,y=e,w=e,x=e,A=e,z=e,D=e,B=e,E=e,I=e,C=e,K=e,J=e,L=e,N=e,V=e,O=e,Q=e,P=e,U=e,ja=e,R=e,Z=e,g=f.xml_mode,h=l(b.$id())?' id="'+b.$id()+'"':e,k=["videoblock",b.$role()].$compact(),m=' class="'+r(k,
" ")+'"',n=l(b["$title?"]())?'\n<div class="title">'+b.$title()+"</div>":e,p=l(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':e,q=l(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':e;return function(){t=b.$attr("poster");if("vimeo"["$==="](t))return l((u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(u=""+u+":"),v=l(b["$attr?"]("start",e,!1))?"#at="+b.$attr("start"):e,y="?",w=l(b["$option?"]("autoplay"))?""+y+"autoplay=1":e,l(w)&&(y="&amp;"),x=l(b["$option?"]("loop"))?
""+y+"loop=1":e,"<div"+h+m+">"+n+'\n<div class="content">\n<iframe'+p+q+' src="'+u+"//player.vimeo.com/video/"+b.$attr("target")+v+w+x+'" frameborder="0"'+(l(b["$option?"]("nofullscreen"))?e:f.$append_boolean_attribute("allowfullscreen",g))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](t))return l((u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(u=""+u+":"),A=l(b["$option?"]("related"))?1:0,z=l(b["$attr?"]("start",e,!1))?"&amp;start="+b.$attr("start"):e,D=l(b["$attr?"]("end",
e,!1))?"&amp;end="+b.$attr("end"):e,w=l(b["$option?"]("autoplay"))?"&amp;autoplay=1":e,x=l(b["$option?"]("loop"))?"&amp;loop=1":e,B=l(b["$option?"]("nocontrols"))?"&amp;controls=0":e,l(b["$option?"]("nofullscreen"))?(E="&amp;fs=0",I=e):(E=e,I=f.$append_boolean_attribute("allowfullscreen",g)),C=l(b["$option?"]("modest"))?"&amp;modestbranding=1":e,K=l(b["$attr?"]("theme",e,!1))?"&amp;theme="+b.$attr("theme"):e,J=l(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):e,d=b.$attr("target").$split("/",2),c=
a.to_ary(d),L=null==c[0]?e:c[0],N=null==c[1]?e:c[1],d,l(N=l(c=N)?c:b.$attr("list",e,!1))?V="&amp;list="+N:(d=L.$split(",",2),c=a.to_ary(d),L=null==c[0]?e:c[0],O=null==c[1]?e:c[1],d,V=l(O=l(c=O)?c:b.$attr("playlist",e,!1))?"&amp;playlist="+O:l(x)?"&amp;playlist="+L:e),"<div"+h+m+">"+n+'\n<div class="content">\n<iframe'+p+q+' src="'+u+"//www.youtube.com/embed/"+L+"?rel="+A+z+D+w+x+B+V+E+C+K+J+'" frameborder="0"'+I+"></iframe>\n</div>\n</div>";Q=l((P=b.$attr("poster",e,!1))["$nil_or_empty?"]())?e:' poster="'+
b.$media_uri(P)+'"';U=l((P=b.$attr("preload",e,!1))["$nil_or_empty?"]())?e:' preload="'+P+'"';ja=b.$attr("start",e,!1);R=b.$attr("end",e,!1);Z=l(l(c=ja)?c:R)?"#t="+ja+(l(R)?",":e)+R:e;return"<div"+h+m+">"+n+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+Z+'"'+p+q+Q+(l(b["$option?"]("autoplay"))?f.$append_boolean_attribute("autoplay",g):e)+(l(b["$option?"]("nocontrols"))?e:f.$append_boolean_attribute("controls",g))+(l(b["$option?"]("loop"))?f.$append_boolean_attribute("loop",
g):e)+U+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},ta.$$arity=1);a.def(d,"$inline_anchor",ua=function(b){var c,d,f=this,g=e,h=e,k=e,m=e,n=e,p=e,q=e;return function(){g=b.$type();if("xref"["$==="](g))return l(l(c=h=b.$text())?c:h=b.$attributes()["$[]"]("path"))||(h=l(a.const_get_relative(x,"AbstractNode")["$==="](k=b.$document().$catalog()["$[]"]("refs")["$[]"](m=b.$attributes()["$[]"]("refid"))))?l(c=k.$xreftext(f.xrefstyle=l(d=f.xrefstyle)?d:b.$document().$attributes()["$[]"]("xrefstyle")))?
c:"["+m+"]":"["+m+"]"),'<a href="'+b.$target()+'">'+h+"</a>";if("ref"["$==="](g))return'<a id="'+b.$id()+'"></a>';if("link"["$==="](g)){n=l(b.$id())?[' id="'+b.$id()+'"']:[];if(l(p=b.$role()))n["$<<"](' class="'+p+'"');if(l(b["$attr?"]("title",e,!1)))n["$<<"](' title="'+b.$attr("title")+'"');if(l(b["$attr?"]("window",e,!1)))n["$<<"](' target="'+(q=b.$attr("window"))+'"'+(l(l(c=q["$=="]("_blank"))?c:b["$option?"]("noopener"))?' rel="noopener"':""));return'<a href="'+b.$target()+'"'+n.$join()+">"+b.$text()+
"</a>"}return"bibref"["$==="](g)?'<a id="'+b.$id()+'"></a>'+b.$text():f.$warn("asciidoctor: WARNING: unknown anchor type: "+b.$type().$inspect())}()},ua.$$arity=1);a.def(d,"$inline_break",Ca=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},Ca.$$arity=1);a.def(d,"$inline_button",va=function(a){return'<b class="button">'+a.$text()+"</b>"},va.$$arity=1);a.def(d,"$inline_callout",Ba=function(a){var b=e;return l(a.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+
a.$text()+'"></i><b>('+a.$text()+")</b>":l(a.$document()["$attr?"]("icons"))?(b=a.$icon_uri("callouts/"+a.$text()),'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"):'<b class="conum">('+a.$text()+")</b>"},Ba.$$arity=1);a.def(d,"$inline_footnote",Fa=function(a){var b=e,c=e;if(l(b=a.$attr("index",e,!1))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+b+"</a>]</sup>";c=l(a.$id())?' id="_footnote_'+a.$id()+
'"':e;return'<sup class="footnote"'+c+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":e},Fa.$$arity=1);a.def(d,"$inline_image",Ga=function(b){var c,d,g,h,k,m,n=e,p=e,q=e,r=q=e,v=e,y=e,w=e,A=e,z=e,D=e,B=e;c=e;l((c=(n=b.$type())["$=="]("icon"))?b.$document()["$attr?"]("icons","font"):(n=b.$type())["$=="]("icon"))?
(p="fa fa-"+b.$target(),t(u(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(d=function(a,c){null==a&&(a=e);null==c&&(c=e);return l(b["$attr?"](a))?p=""+p+" "+c+b.$attr(a):e},d.$$s=this,d.$$arity=2,d)),q=l(b["$attr?"]("title"))?' title="'+b.$attr("title")+'"':e,q='<i class="'+p+'"'+q+"></i>"):l((c=n["$=="]("icon"))?b.$document()["$attr?"]("icons")["$!"]():n["$=="]("icon"))?q="["+b.$alt()+"]":(r=b.$target(),v=t(["width","height","title"],"map",[],(g=function(a){null==
a&&(a=e);return l(b["$attr?"](a))?" "+a+'="'+b.$attr(a)+'"':e},g.$$s=this,g.$$arity=1,g)).$join(),l(l(c=l(h=l(k=n["$!="]("icon"))?l(m=b["$attr?"]("format","svg",!1))?m:r["$include?"](".svg"):k)?f(b.$document().$safe(),a.const_get_qualified(a.const_get_relative(x,"SafeMode"),"SECURE")):h)?l(h=y=b["$option?"]("inline"))?h:w=b["$option?"]("interactive"):c)&&(l(y)?q=l(c=this.$read_svg_contents(b,r))?c:'<span class="alt">'+b.$alt()+"</span>":l(w)&&(A=l(b["$attr?"]("fallback"))?'<img src="'+b.$image_uri(b.$attr("fallback"))+
'" alt="'+this.$encode_quotes(b.$alt())+'"'+v+this.void_element_slash+">":'<span class="alt">'+b.$alt()+"</span>",q='<object type="image/svg+xml" data="'+b.$image_uri(r)+'"'+v+">"+A+"</object>")),q=l(c=q)?c:'<img src="'+(n["$=="]("icon")?b.$icon_uri(r):b.$image_uri(r))+'" alt="'+this.$encode_quotes(b.$alt())+'"'+v+this.void_element_slash+">");l(b["$attr?"]("link"))&&(l(b["$attr?"]("window"))&&(z=' target="'+(D=b.$attr("window"))+'"'+(l(l(c=D["$=="]("_blank"))?c:b["$option?"]("noopener"))?' rel="noopener"':
"")),q='<a class="image" href="'+b.$attr("link")+'"'+z+">"+q+"</a>");p=l(B=b.$role())?""+n+" "+B:n;c=l(b["$attr?"]("float"))?' style="float: '+b.$attr("float")+'"':e;return'<span class="'+p+'"'+c+">"+q+"</span>"},Ga.$$arity=1);a.def(d,"$inline_indexterm",Ia=function(a){return a.$type()["$=="]("visible")?a.$text():""},Ia.$$arity=1);a.def(d,"$inline_kbd",Aa=function(a){var b=e;return(b=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+r(b,"</kbd>+<kbd>")+"</kbd></span>"},
Aa.$$arity=1);a.def(d,"$inline_menu",Ka=function(a){var b=e,c=e,d=e,f=e,g=e,b=l(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',c="</b>"+b+'<b class="submenu">',d=a.$attr("menu");return l((f=a.$attr("submenus"))["$empty?"]())?l(g=a.$attr("menuitem",e,!1))?'<span class="menuseq"><b class="menu">'+d+"</b>"+b+'<b class="menuitem">'+g+"</b></span>":'<b class="menuref">'+d+"</b>":'<span class="menuseq"><b class="menu">'+d+
"</b>"+b+'<b class="submenu">'+r(f,c)+"</b>"+b+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},Ka.$$arity=1);a.def(d,"$inline_quoted",Ja=function(b){var c,d,f=e,g=e;d=c=e;d=a.const_get_relative(x,"QUOTE_TAGS")["$[]"](b.$type());c=a.to_ary(d);f=null==c[0]?e:c[0];g=null==c[1]?e:c[1];c=null==c[2]?e:c[2];d;d=l(b.$role())?l(c)?""+f.$chop()+' class="'+b.$role()+'">'+b.$text()+g:'<span class="'+b.$role()+'">'+f+b.$text()+g+"</span>":""+f+b.$text()+g;return l(b.$id())?'<a id="'+b.$id()+'"></a>'+
d:d},Ja.$$arity=1);a.def(d,"$append_boolean_attribute",La=function(a,b){return l(b)?" "+a+'="'+a+'"':" "+a},La.$$arity=2);a.def(d,"$encode_quotes",la=function(a){return l(a["$include?"]('"'))?a.$gsub('"',"&quot;"):a},la.$$arity=1);return(a.def(d,"$read_svg_contents",Ha=function(b,c){var d,f=e,g=e,h=e;l(f=b.$read_contents(c,u(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(l(f["$start_with?"]("<svg"))||(f=f.$sub(a.const_get_relative(x,"SvgPreambleRx"),
"")),g=h=e,t(["width","height"],"each",[],(d=function(c){null==c&&(c=e);return l(b["$attr?"](c))?(l(h)||(h=(g=f.$match(a.const_get_relative(x,"SvgStartTagRx"))["$[]"](0)).$gsub(a.const_get_relative(x,"DimensionAttributeRx"),"")),h=""+h.$chop()+" "+c+'="'+b.$attr(c)+'px">'):e},d.$$s=this,d.$$arity=1,d)),l(h)&&(f=""+h+f["$[]"](a.Range.$new(g.$length(),-1,!1))));return f},Ha.$$arity=2),e)&&"read_svg_contents"})(a.const_get_relative(x,"Converter"),a.const_get_qualified(a.const_get_relative(x,"Converter"),
"BuiltIn"),x)}(k[0],k)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var q=[],f=a.nil,c=a.module,k=a.klass,e=a.truthy,d=a.hash2,h=a.send,t=a.hash;a.add_stubs("$[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $document $doctype $[] $+ $level $delete $== $casecmp $new $title= $sectname= $special= $fetch $numbered= $> $key? $attributes $special $context $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $=== $next_block $dup $<< $has_more_lines? $each $define_method $unshift $shift $send $empty? $size $call $option $flatten $respond_to? $include? $to_s $split $to_i $compact $inspect $attr_accessor $to_set $! $resolve_regexp $match? $method $register $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $private $join $map $capitalize $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $resolve_class $< $update_config $push $as_symbol $name= $pop $-@ $next_auto_id $generate_name $class_for_name $const_defined?".split(" "));
return function(q,l){var u=[c(q,"Asciidoctor")].concat(l);(function(l,q){var u=c(l,"Extensions"),v=[u].concat(q);(function(c,$super,l){function n(){}c=n=k(c,$super,"Processor",n);var p=c.$$proto,q=[c].concat(l),t,u,v,w,x,z,B,C,E;p.config=f;(function(c,k){var l=[c].concat(k),m,n,p;a.def(c,"$config",m=function(){var a;null==this.config&&(this.config=f);return this.config=e(a=this.config)?a:d([],{})},m.$$arity=0);a.def(c,"$option",n=function(c,d){var e=f,e=[c,d];h(this.$config(),"[]=",a.to_a(e));return e[b(e.length,
1)]},n.$$arity=2);a.def(c,"$use_dsl",p=function(){return e(this.$name()["$nil_or_empty?"]())?e((a.Module.$$nesting=l,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):f:e((a.Module.$$nesting=l,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):f},p.$$arity=0);a.alias(c,"extend_dsl","use_dsl");return a.alias(c,"include_dsl","use_dsl")})(a.get_singleton_class(c),q);c.$attr_reader("config");a.def(c,"$initialize",t=function(a){null==a&&(a=d([],{}));return this.config=
this.$class().$config().$merge(a)},t.$$arity=-1);a.def(c,"$update_config",u=function(a){return this.config.$update(a)},u.$$arity=1);a.def(c,"$process",v=function(b){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},v.$$arity=-1);a.def(c,"$create_section",w=function(c,k,l,n){var p,t,u=f,v=f,y=f,w=f,x=f,A=f,z=v=
f,y=f;null==n&&(n=d([],{}));u=c.$document();p=[u.$doctype(),e(t=n["$[]"]("level"))?t:m(c.$level(),1)];v=p[0];y=p[1];p;e(w=l.$delete("style"))?e(w["$=="]("abstract")?v["$=="]("book"):w["$=="]("abstract"))?(p=["chapter",1],x=p[0],y=p[1],p):(p=[w,!0],x=p[0],A=p[1],p,y["$=="](0)&&(y=1)):v["$=="]("book")?x=y["$=="](0)?"part":y["$=="](1)?"chapter":"section":e(v["$=="]("manpage")?k.$casecmp("synopsis")["$=="](0):v["$=="]("manpage"))?(p=["synopsis",!0],x=p[0],A=p[1],p):x="section";v=a.const_get_relative(q,
"Section").$new(c,y,!1);p=[k,x];v["$title="](p[0]);v["$sectname="](p[1]);p;e(A)?(z=[!0],h(v,"special=",a.to_a(z)),z[b(z.length,1)],e(n.$fetch("numbered",w["$=="]("appendix")))&&(z=[!0],h(v,"numbered=",a.to_a(z)),z[b(z.length,1)])):e(n.$fetch("numbered",e(p=r(y,0))?u.$attributes()["$key?"]("sectnums"):p))&&(z=[e(v.$special())?(p=c.$context()["$=="]("section"))?c.$numbered():c.$context()["$=="]("section"):!0],h(v,"numbered=",a.to_a(z)),z[b(z.length,1)]);(y=l.$delete("id"))["$=="](!1)||(z=[(z=["id",
e(p=y)?p:e(u.$attributes()["$key?"]("sectids"))?a.const_get_relative(q,"Section").$generate_id(v.$title(),u):f],h(l,"[]=",a.to_a(z)),z[b(z.length,1)])],h(v,"id=",a.to_a(z)),z[b(z.length,1)]);v.$update_attributes(l);return v},w.$$arity=-4);a.def(c,"$create_block",x=function(b,c,e,f,g){null==g&&(g=d([],{}));return a.const_get_relative(q,"Block").$new(b,c,d(["source","attributes"],{source:e,attributes:f}).$merge(g))},x.$$arity=-5);a.def(c,"$create_image_block",z=function(c,k,l){var m,n=f,p=f;null==l&&
(l=d([],{}));e(n=k["$[]"]("target"))||this.$raise(a.const_get_qualified("::","ArgumentError"),"Unable to create an image block, target attribute is required");e(m=k["$[]"]("alt"))?m:(p=["alt",(p=["default-alt",a.const_get_relative(q,"Helpers").$basename(n,!0).$tr("_-"," ")],h(k,"[]=",a.to_a(p)),p[b(p.length,1)])],h(k,"[]=",a.to_a(p)),p[b(p.length,1)]);return this.$create_block(c,"image",f,k,l)},z.$$arity=-3);a.def(c,"$create_inline",B=function(b,c,e,f){null==f&&(f=d([],{}));return a.const_get_relative(q,
"Inline").$new(b,c,e,f)},B.$$arity=-4);a.def(c,"$parse_content",C=function(b,c,g){var h,k,l=f,m=f;null==g&&(g=f);for(l=e(a.const_get_relative(q,"Reader")["$==="](c))?c:a.const_get_relative(q,"Reader").$new(c);e(e(h=e(k=m=a.const_get_relative(q,"Parser").$next_block(l,b,e(g)?g.$dup():d([],{})))?b["$<<"](m):k)?h:l["$has_more_lines?"]()););return b},C.$$arity=-3);return h([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block",
"example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(E=function(b,c,d){var e=E.$$s||this,g;null==b&&(b=f);null==c&&(c=f);null==d&&(d=f);return h(e,"define_method",[b],(g=function(b){var e=g.$$s||this,f,k=arguments.length;f=k-0;0>f&&(f=0);f=Array(f);for(var l=0;l<k;l++)f[l-0]=arguments[l];f.$unshift(f.$shift(),d);return h(e,"send",[c].concat(a.to_a(f)))},
g.$$s=e,g.$$arity=-1,g))},E.$$s=c,E.$$arity=3,E))})(v[0],null,v);(function(d,k){var l=c(d,"ProcessorDsl");[l].concat(k);var m,n,p;a.def(l,"$option",m=function(c,d){var e=f,e=[c,d];h(this.$config(),"[]=",a.to_a(e));return e[b(e.length,1)]},m.$$arity=2);a.def(l,"$process",n=function(b){var c,d,g=n.$$p,k=g||f;null==this.process_block&&(this.process_block=f);var l=arguments.length;d=l-0;0>d&&(d=0);d=Array(d);for(var m=0;m<l;m++)d[m-0]=arguments[m];g&&(n.$$p=null);return k!==f?(e(d["$empty?"]())||this.$raise(a.const_get_qualified("::",
"ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),this.process_block=k):e((c=this.process_block,null!=c&&c!==f)?"instance-variable":f)?h(this.process_block,"call",a.to_a(d)):this.$raise(a.const_get_qualified("::","NotImplementedError"))},n.$$arity=-1);a.def(l,"$process_block_given?",p=function(){var a;return(a=this.process_block,null!=a&&a!==f)?"instance-variable":f},p.$$arity=0)})(v[0],v);(function(k,l){var m=c(k,"SyntaxDsl"),n=[m].concat(l),p,q,t,u,v;m.$include(a.const_get_relative(n,
"ProcessorDsl"));a.def(m,"$named",p=function(b){return e(a.const_get_relative(n,"Processor")["$==="](this))?this.name=b:this.$option("name",b)},p.$$arity=1);a.alias(m,"match_name","named");a.def(m,"$content_model",q=function(a){return this.$option("content_model",a)},q.$$arity=1);a.alias(m,"parse_content_as","content_model");a.alias(m,"parses_content_as","content_model");a.def(m,"$positional_attrs",t=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];
return this.$option("pos_attrs",b.$flatten())},t.$$arity=-1);a.alias(m,"name_attributes","positional_attrs");a.alias(m,"name_positional_attributes","positional_attrs");a.def(m,"$default_attrs",u=function(a){return this.$option("default_attrs",a)},u.$$arity=1);a.def(m,"$resolves_attributes",v=function(c){var k,l,m,n=this,p,q=f,t=f,u=f,v=arguments.length,w=v-0;0>w&&(w=0);p=Array(w);for(w=0;w<v;w++)p[w-0]=arguments[w];e(r(p.$size(),1))||e((p=p.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(p=[p]);return function(){q=
p;return(!0)["$==="](q)?(n.$option("pos_attrs",[]),n.$option("default_attrs",d([],{}))):a.const_get_qualified("::","Array")["$==="](q)?(k=[[],d([],{})],t=k[0],u=k[1],k,h(p,"each",[],(l=function(c){var d,k=f,l=f,m=f,m=f;null==c&&(c=f);return e((c=c.$to_s())["$include?"]("="))?(d=c.$split("=",2),c=a.to_ary(d),k=null==c[0]?f:c[0],l=null==c[1]?f:c[1],d,e(k["$include?"](":"))&&(d=k.$split(":",2),c=a.to_ary(d),m=null==c[0]?f:c[0],k=null==c[1]?f:c[1],d,m=m["$=="]("@")?t.$size():m.$to_i(),m=[m,k],h(t,"[]=",
a.to_a(m)),m[b(m.length,1)]),m=[k,l],h(u,"[]=",a.to_a(m)),m[b(m.length,1)]):e(c["$include?"](":"))?(d=c.$split(":",2),c=a.to_ary(d),m=null==c[0]?f:c[0],k=null==c[1]?f:c[1],d,m=m["$=="]("@")?t.$size():m.$to_i(),m=[m,k],h(t,"[]=",a.to_a(m)),m[b(m.length,1)]):t["$<<"](c)},l.$$s=n,l.$$arity=1,l)),n.$option("pos_attrs",t.$compact()),n.$option("default_attrs",u)):a.const_get_qualified("::","Hash")["$==="](q)?(k=[[],d([],{})],t=k[0],u=k[1],k,h(p,"each",[],(m=function(c,d){var k,l,m=k=f;l=f;null==c&&(c=f);
null==d&&(d=f);e((k=c.$to_s())["$include?"](":"))&&(l=k.$split(":",2),k=a.to_ary(l),m=null==k[0]?f:k[0],k=null==k[1]?f:k[1],l,m=m["$=="]("@")?t.$size():m.$to_i(),l=[m,k],h(t,"[]=",a.to_a(l)),l[b(l.length,1)]);return e(d)?(l=[k,d],h(u,"[]=",a.to_a(l)),l[b(l.length,1)]):f},m.$$s=n,m.$$arity=2,m)),n.$option("pos_attrs",t.$compact()),n.$option("default_attrs",u)):n.$raise(a.const_get_qualified("::","ArgumentError"),"unsupported attributes specification for macro: "+p.$inspect())}()},v.$$arity=-1);a.alias(m,
"resolve_attributes","resolves_attributes")})(v[0],v);(function(b,$super,c){function d(){}b=d=k(b,$super,"Preprocessor",d);[b].concat(c);var e;return(a.def(b,"$process",e=function(b,c){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},e.$$arity=2),f)&&"process"})(v[0],a.const_get_relative(v,"Processor"),v);a.const_set(a.const_get_relative(v,"Preprocessor"),"DSL",a.const_get_relative(v,"ProcessorDsl"));
(function(b,$super,c){function d(){}b=d=k(b,$super,"TreeProcessor",d);[b].concat(c);var e;return(a.def(b,"$process",e=function(b){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},e.$$arity=1),f)&&"process"})(v[0],a.const_get_relative(v,"Processor"),v);a.const_set(a.const_get_relative(v,"TreeProcessor"),"DSL",a.const_get_relative(v,"ProcessorDsl"));a.const_set(v[0],"Treeprocessor",a.const_get_relative(v,
"TreeProcessor"));(function(b,$super,c){function d(){}b=d=k(b,$super,"Postprocessor",d);[b].concat(c);var e;return(a.def(b,"$process",e=function(b,c){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},e.$$arity=2),f)&&"process"})(v[0],a.const_get_relative(v,"Processor"),v);a.const_set(a.const_get_relative(v,"Postprocessor"),"DSL",a.const_get_relative(v,"ProcessorDsl"));(function(b,$super,c){function d(){}
b=d=k(b,$super,"IncludeProcessor",d);[b].concat(c);var e,g;a.def(b,"$process",e=function(b,c,d,e){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},e.$$arity=4);return(a.def(b,"$handles?",g=function(a){return!0},g.$$arity=1),f)&&"handles?"})(v[0],a.const_get_relative(v,"Processor"),v);(function(b,d){var g=c(b,"IncludeProcessorDsl"),h=[g].concat(d),k;g.$include(a.const_get_relative(h,"ProcessorDsl"));
a.def(g,"$handles?",k=function(b){var c,d,g=k.$$p,h=g||f;null==this.handles_block&&(this.handles_block=f);var l=arguments.length;d=l-0;0>d&&(d=0);d=Array(d);for(var m=0;m<l;m++)d[m-0]=arguments[m];g&&(k.$$p=null);return h!==f?(e(d["$empty?"]())||this.$raise(a.const_get_qualified("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),this.handles_block=h):e((c=this.handles_block,null!=c&&c!==f)?"instance-variable":f)?this.handles_block.$call(d["$[]"](0)):!0},k.$$arity=
-1)})(v[0],v);a.const_set(a.const_get_relative(v,"IncludeProcessor"),"DSL",a.const_get_relative(v,"IncludeProcessorDsl"));(function(c,$super,l){function m(){}c=m=k(c,$super,"DocinfoProcessor",m);var n=c.$$proto;[c].concat(l);var p,q;n.config=f;c.$attr_accessor("location");a.def(c,"$initialize",p=function(c){var k,l=p.$$p,m=f;null==c&&(c=d([],{}));l&&(p.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",p,!1),[c],null);return e(k=this.config["$[]"]("location"))?k:(m=["location","head"],h(this.config,
"[]=",a.to_a(m)),m[b(m.length,1)])},p.$$arity=-1);return(a.def(c,"$process",q=function(b){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},q.$$arity=1),f)&&"process"})(v[0],a.const_get_relative(v,"Processor"),v);(function(b,d){var e=c(b,"DocinfoProcessorDsl"),f=[e].concat(d),g;e.$include(a.const_get_relative(f,"ProcessorDsl"));a.def(e,"$at_location",g=function(a){return this.$option("location",
a)},g.$$arity=1)})(v[0],v);a.const_set(a.const_get_relative(v,"DocinfoProcessor"),"DSL",a.const_get_relative(v,"DocinfoProcessorDsl"));(function(c,$super,l){function m(){}c=m=k(c,$super,"BlockProcessor",m);var n=c.$$proto;[c].concat(l);var p,q;n.config=f;c.$attr_accessor("name");a.def(c,"$initialize",p=function(c,k){var l,m=p.$$p,n=f,q=f;null==c&&(c=f);null==k&&(k=d([],{}));m&&(p.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",p,!1),[k],null);this.name=e(l=c)?l:this.config["$[]"]("name");
n=this.config["$[]"]("contexts");a.const_get_qualified("::","NilClass")["$==="](n)?e(l=this.config["$[]"]("contexts"))?l:(q=["contexts",["open","paragraph"].$to_set()],h(this.config,"[]=",a.to_a(q)),q[b(q.length,1)]):(q=a.const_get_qualified("::","Symbol")["$==="](n)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],h(this.config,"[]=",a.to_a(q)),q[b(q.length,1)]);return e(l=this.config["$[]"]("content_model"))?l:(q=["content_model","compound"],
h(this.config,"[]=",a.to_a(q)),q[b(q.length,1)])},p.$$arity=-1);return(a.def(c,"$process",q=function(b,c,d){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},q.$$arity=3),f)&&"process"})(v[0],a.const_get_relative(v,"Processor"),v);(function(b,d){var e=c(b,"BlockProcessorDsl"),f=[e].concat(d),g;e.$include(a.const_get_relative(f,"SyntaxDsl"));a.def(e,"$contexts",g=function(a){var b,c=arguments.length;
b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten().$to_set())},g.$$arity=-1);a.alias(e,"on_contexts","contexts");a.alias(e,"on_context","contexts");a.alias(e,"bound_to","contexts")})(v[0],v);a.const_set(a.const_get_relative(v,"BlockProcessor"),"DSL",a.const_get_relative(v,"BlockProcessorDsl"));(function(c,$super,l){function m(){}c=m=k(c,$super,"MacroProcessor",m);var n=c.$$proto;[c].concat(l);var p,q;n.config=f;c.$attr_accessor("name");
a.def(c,"$initialize",p=function(c,k){var l,m=p.$$p,n=f;null==c&&(c=f);null==k&&(k=d([],{}));m&&(p.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",p,!1),[k],null);this.name=e(l=c)?l:this.config["$[]"]("name");return e(l=this.config["$[]"]("content_model"))?l:(n=["content_model","attributes"],h(this.config,"[]=",a.to_a(n)),n[b(n.length,1)])},p.$$arity=-1);return(a.def(c,"$process",q=function(b,c,d){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},
q.$$arity=3),f)&&"process"})(v[0],a.const_get_relative(v,"Processor"),v);(function(b,d){var g=c(b,"MacroProcessorDsl"),k=[g].concat(d),l;g.$include(a.const_get_relative(k,"SyntaxDsl"));a.def(g,"$resolves_attributes",l=function(b){var c,d=l.$$p,g=f,k=f,m=f,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(k=0;k<g;k++)c[k-0]=arguments[k];d&&(l.$$p=null);k=0;m=arguments.length;for(g=Array(m);k<m;k++)g[k]=arguments[k];if(e(c.$size()["$=="](1)?c["$[]"](0)["$!"]():c.$size()["$=="](1)))return this.$option("content_model",
"text"),f;h(this,a.find_super_dispatcher(this,"resolves_attributes",l,!1),g,d);return this.$option("content_model","attributes")},l.$$arity=-1);a.alias(g,"resolve_attributes","resolves_attributes")})(v[0],v);(function(a,$super,b){function c(){}[c=k(a,$super,"BlockMacroProcessor",c)].concat(b);return f})(v[0],a.const_get_relative(v,"MacroProcessor"),v);a.const_set(a.const_get_relative(v,"BlockMacroProcessor"),"DSL",a.const_get_relative(v,"MacroProcessorDsl"));(function(c,$super,l){function m(){}c=
m=k(c,$super,"InlineMacroProcessor",m);var n=c.$$proto,p=[c].concat(l),q,t;n.config=n.name=f;a.class_variable_set(m,"@@rx_cache",d([],{}));a.def(c,"$regexp",q=function(){var c,d=f;return e(c=this.config["$[]"]("regexp"))?c:(d=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],h(this.config,"[]=",a.to_a(d)),d[b(d.length,1)])},q.$$arity=0);return(a.def(c,"$resolve_regexp",t=function(c,d){var k,l,n=f;e(a.const_get_relative(p,"MacroNameRx")["$match?"](c))||this.$raise(a.const_get_qualified("::",
"ArgumentError"),"invalid name for inline macro: "+c);return e(k=(null==(l=m.$$cvars["@@rx_cache"])?f:l)["$[]"]([c,d]))?k:(n=[[c,d],new RegExp("\\\\?"+c+":"+(d["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],h(null==(l=m.$$cvars["@@rx_cache"])?f:l,"[]=",a.to_a(n)),n[b(n.length,1)])},t.$$arity=2),f)&&"resolve_regexp"})(v[0],a.const_get_relative(v,"MacroProcessor"),v);(function(b,d){var e=c(b,"InlineMacroProcessorDsl"),f=[e].concat(d),g,h;e.$include(a.const_get_relative(f,"MacroProcessorDsl"));
a.def(e,"$with_format",g=function(a){return this.$option("format",a)},g.$$arity=1);a.alias(e,"using_format","with_format");a.def(e,"$matches",h=function(a){return this.$option("regexp",a)},h.$$arity=1);a.alias(e,"match","matches");a.alias(e,"matching","matches")})(v[0],v);a.const_set(a.const_get_relative(v,"InlineMacroProcessor"),"DSL",a.const_get_relative(v,"InlineMacroProcessorDsl"));(function(b,$super,c){function d(){}b=d=k(b,$super,"Extension",d);[b].concat(c);var e;b.$attr_reader("kind");b.$attr_reader("config");
b.$attr_reader("instance");return(a.def(b,"$initialize",e=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},e.$$arity=3),f)&&"initialize"})(v[0],null,v);(function(b,$super,c){function d(){}b=d=k(b,$super,"ProcessorExtension",d);[b].concat(c);var g;b.$attr_reader("process_method");return(a.def(b,"$initialize",g=function(b,c,d){var k,l=g.$$p;null==d&&(d=f);l&&(g.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",g,!1),[b,c,c.$config()],null);return this.process_method=e(k=d)?
k:c.$method("process")},g.$$arity=-3),f)&&"initialize"})(v[0],a.const_get_relative(v,"Extension"),v);(function(b,$super,c){function d(){}b=d=k(b,$super,"Group",d);c=[b].concat(c);var e;(function(b,c){var d=[b].concat(c),e;return(a.def(b,"$register",e=function(b){null==b&&(b=f);return a.const_get_relative(d,"Extensions").$register(b,this)},e.$$arity=-1),f)&&"register"})(a.get_singleton_class(b),c);return(a.def(b,"$activate",e=function(b){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},
e.$$arity=1),f)&&"activate"})(v[0],null,v);(function(c,$super,l){function n(){}c=n=k(c,$super,"Registry",n);var q=c.$$proto,t=[c].concat(l),u,v,w,x,z,B,C,E,N,O,Y,da,I,W,ea,Z,X,K,ka,oa,aa,ia,za,qa,na,ra,ta,ua,Ea,va,Ba,Fa,Ga,Ia;q.groups=q.preprocessor_extensions=q.tree_processor_extensions=q.postprocessor_extensions=q.include_processor_extensions=q.docinfo_processor_extensions=q.block_extensions=q.block_macro_extensions=q.inline_macro_extensions=f;c.$attr_reader("document");c.$attr_reader("groups");
a.def(c,"$initialize",u=function(a){null==a&&(a=d([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=f},u.$$arity=-1);a.def(c,"$activate",v=function(b){var c;this.document=b;h(m(a.const_get_relative(t,"Extensions").$groups().$values(),this.groups.$values()),"each",[],(c=function(b){var d=
c.$$s||this,e=f;null==b&&(b=f);e=b;a.const_get_qualified("::","Proc")["$==="](e)?(e=b.$arity(),b=0["$==="](e)||-1["$==="](e)?h(d,"instance_exec",[],b.$to_proc()):1["$==="](e)?b.$call(d):f):b=a.const_get_qualified("::","Class")["$==="](e)?b.$new().$activate(d):b.$activate(d);return b},c.$$s=this,c.$$arity=1,c));return this},v.$$arity=1);a.def(c,"$preprocessor",w=function(a){var b,c=w.$$p,d=c||f,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];c&&(w.$$p=null);return h(this,
"add_document_processor",["preprocessor",b],d.$to_proc())},w.$$arity=-1);a.def(c,"$preprocessors?",x=function(){return this.preprocessor_extensions["$!"]()["$!"]()},x.$$arity=0);a.def(c,"$preprocessors",z=function(){return this.preprocessor_extensions},z.$$arity=0);a.def(c,"$tree_processor",B=function(a){var b,c=B.$$p,d=c||f,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];c&&(B.$$p=null);return h(this,"add_document_processor",["tree_processor",b],d.$to_proc())},
B.$$arity=-1);a.def(c,"$tree_processors?",C=function(){return this.tree_processor_extensions["$!"]()["$!"]()},C.$$arity=0);a.def(c,"$tree_processors",E=function(){return this.tree_processor_extensions},E.$$arity=0);a.alias(c,"treeprocessor","tree_processor");a.alias(c,"treeprocessors?","tree_processors?");a.alias(c,"treeprocessors","tree_processors");a.def(c,"$postprocessor",N=function(a){var b,c=N.$$p,d=c||f,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];c&&
(N.$$p=null);return h(this,"add_document_processor",["postprocessor",b],d.$to_proc())},N.$$arity=-1);a.def(c,"$postprocessors?",O=function(){return this.postprocessor_extensions["$!"]()["$!"]()},O.$$arity=0);a.def(c,"$postprocessors",Y=function(){return this.postprocessor_extensions},Y.$$arity=0);a.def(c,"$include_processor",da=function(a){var b,c=da.$$p,d=c||f,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];c&&(da.$$p=null);return h(this,"add_document_processor",
["include_processor",b],d.$to_proc())},da.$$arity=-1);a.def(c,"$include_processors?",I=function(){return this.include_processor_extensions["$!"]()["$!"]()},I.$$arity=0);a.def(c,"$include_processors",W=function(){return this.include_processor_extensions},W.$$arity=0);a.def(c,"$docinfo_processor",ea=function(a){var b,c=ea.$$p,d=c||f,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];c&&(ea.$$p=null);return h(this,"add_document_processor",["docinfo_processor",b],d.$to_proc())},
ea.$$arity=-1);a.def(c,"$docinfo_processors?",Z=function(a){var b;null==a&&(a=f);return e(this.docinfo_processor_extensions)?e(a)?h(this.docinfo_processor_extensions,"any?",[],(b=function(b){null==b&&(b=f);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):!0:!1},Z.$$arity=-1);a.def(c,"$docinfo_processors",X=function(a){var b;null==a&&(a=f);return e(this.docinfo_processor_extensions)?e(a)?h(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=f);return b.$config()["$[]"]("location")["$=="](a)},
b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:f},X.$$arity=-1);a.def(c,"$block",K=function(a){var b,c=K.$$p,d=c||f,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];c&&(K.$$p=null);return h(this,"add_syntax_processor",["block",b],d.$to_proc())},K.$$arity=-1);a.def(c,"$blocks?",ka=function(){return this.block_extensions["$!"]()["$!"]()},ka.$$arity=0);a.def(c,"$registered_for_block?",oa=function(a,b){var c=f;return e(c=this.block_extensions["$[]"](a.$to_sym()))?
e(c.$config()["$[]"]("contexts")["$include?"](b))?c:!1:!1},oa.$$arity=2);a.def(c,"$find_block_extension",aa=function(a){return this.block_extensions["$[]"](a.$to_sym())},aa.$$arity=1);a.def(c,"$block_macro",ia=function(a){var b,c=ia.$$p,d=c||f,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];c&&(ia.$$p=null);return h(this,"add_syntax_processor",["block_macro",b],d.$to_proc())},ia.$$arity=-1);a.def(c,"$block_macros?",za=function(){return this.block_macro_extensions["$!"]()["$!"]()},
za.$$arity=0);a.def(c,"$registered_for_block_macro?",qa=function(a){var b=f;return e(b=this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},qa.$$arity=1);a.def(c,"$find_block_macro_extension",na=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},na.$$arity=1);a.def(c,"$inline_macro",ra=function(a){var b,c=ra.$$p,d=c||f,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];c&&(ra.$$p=null);return h(this,"add_syntax_processor",["inline_macro",b],d.$to_proc())},
ra.$$arity=-1);a.def(c,"$inline_macros?",ta=function(){return this.inline_macro_extensions["$!"]()["$!"]()},ta.$$arity=0);a.def(c,"$registered_for_inline_macro?",ua=function(a){var b=f;return e(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},ua.$$arity=1);a.def(c,"$find_inline_macro_extension",Ea=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},Ea.$$arity=1);a.def(c,"$inline_macros",va=function(){return this.inline_macro_extensions.$values()},va.$$arity=0);c.$private();
a.def(c,"$add_document_processor",Ba=function(b,c){var d,g,k,l=this,m=Ba.$$p,n=m||f,q=f,r=f,u=f,v=f,w=r=f,x=f,y=f,z=f,A=f;m&&(Ba.$$p=null);q=b.$to_s().$tr("_"," ");r=h(q.$split(),"map",[],(d=function(a){null==a&&(a=f);return a.$capitalize()},d.$$s=l,d.$$arity=1,d)).$join().$to_sym();u=a.const_get_relative(t,"Extensions").$const_get(r);v=e(a.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":f)?a.const_get_qualified(a.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(r):
f;r=e(g=l.$instance_variable_get(("@"+b+"_extensions").$to_sym()))?g:l.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);w=function(){if(n!==f)return x=l.$resolve_args(c,1),y=u.$new(x),e(u.$constants().$grep("DSL"))&&y.$extend(u.$const_get("DSL")),h(y,"instance_exec",[],n.$to_proc()),y.$freeze(),e(y["$process_block_given?"]())||l.$raise(a.const_get_qualified("::","ArgumentError"),"No block specified to process "+q+" extension at "+n.$source_location()),a.const_get_relative(t,"ProcessorExtension").$new(b,
y);k=l.$resolve_args(c,2);g=a.to_ary(k);y=null==g[0]?f:g[0];x=null==g[1]?f:g[1];k;return e(z=a.const_get_relative(t,"Extensions").$resolve_class(y))?(e(e(g=p(z,u))?g:e(k=v)?p(z,v):k)||l.$raise(a.const_get_qualified("::","ArgumentError"),"Invalid type for "+q+" extension: "+y),A=z.$new(x),A.$freeze(),a.const_get_relative(t,"ProcessorExtension").$new(b,A)):e(e(g=u["$==="](y))?g:e(k=v)?v["$==="](y):k)?(y.$update_config(x),y.$freeze(),a.const_get_relative(t,"ProcessorExtension").$new(b,y)):l.$raise(a.const_get_qualified("::",
"ArgumentError"),"Invalid arguments specified for registering "+q+" extension: "+c)}();return w.$config()["$[]"]("position")["$=="](">>")?r.$unshift(w):r["$<<"](w)},Ba.$$arity=2);a.def(c,"$add_syntax_processor",Fa=function(c,k){var l,m,n=Fa.$$p,q=n||f,r=f,u=f,v=f,w=f,x=u=f,y=f,z=f,A=v=f,v=f;n&&(Fa.$$p=null);r=c.$to_s().$tr("_"," ");u=h(r.$split(),"map",[],(l=function(a){null==a&&(a=f);return a.$capitalize()},l.$$s=this,l.$$arity=1,l)).$push("Processor").$join().$to_sym();v=a.const_get_relative(t,
"Extensions").$const_get(u);w=e(a.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":f)?a.const_get_qualified(a.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(u):f;u=e(m=this.$instance_variable_get(("@"+c+"_extensions").$to_sym()))?m:this.$instance_variable_set(("@"+c+"_extensions").$to_sym(),d([],{}));if(q!==f)return l=this.$resolve_args(k,2),m=a.to_ary(l),x=null==m[0]?f:m[0],y=null==m[1]?f:m[1],l,z=v.$new(this.$as_symbol(x),y),e(v.$constants().$grep("DSL"))&&z.$extend(v.$const_get("DSL")),
q.$arity()["$=="](1)?a.yield1(q,z):h(z,"instance_exec",[],q.$to_proc()),e(x=this.$as_symbol(z.$name()))||this.$raise(a.const_get_qualified("::","ArgumentError"),"No name specified for "+r+" extension at "+q.$source_location()),e(z["$process_block_given?"]())||this.$raise(a.const_get_qualified("::","NoMethodError"),"No block specified to process "+r+" extension at "+q.$source_location()),z.$freeze(),v=[x,a.const_get_relative(t,"ProcessorExtension").$new(c,z)],h(u,"[]=",a.to_a(v)),v[b(v.length,1)];
l=this.$resolve_args(k,3);m=a.to_ary(l);z=null==m[0]?f:m[0];x=null==m[1]?f:m[1];y=null==m[2]?f:m[2];l;return e(A=a.const_get_relative(t,"Extensions").$resolve_class(z))?(e(e(m=p(A,v))?m:e(l=w)?p(A,w):l)||this.$raise(a.const_get_qualified("::","ArgumentError"),"Class specified for "+r+" extension does not inherit from "+v+": "+z),v=A.$new(this.$as_symbol(x),y),e(x=this.$as_symbol(v.$name()))||this.$raise(a.const_get_qualified("::","ArgumentError"),"No name specified for "+r+" extension: "+z),v.$freeze(),
v=[x,a.const_get_relative(t,"ProcessorExtension").$new(c,v)],h(u,"[]=",a.to_a(v)),v[b(v.length,1)]):e(e(m=v["$==="](z))?m:e(l=w)?w["$==="](z):l)?(z.$update_config(y),e(x)?(v=[this.$as_symbol(x)],h(z,"name=",a.to_a(v)),m=v[b(v.length,1)]):m=this.$as_symbol(z.$name()),e(x=m)||this.$raise(a.const_get_qualified("::","ArgumentError"),"No name specified for "+r+" extension: "+z),z.$freeze(),v=[x,a.const_get_relative(t,"ProcessorExtension").$new(c,z)],h(u,"[]=",a.to_a(v)),v[b(v.length,1)]):this.$raise(a.const_get_qualified("::",
"ArgumentError"),"Invalid arguments specified for registering "+r+" extension: "+k)},Fa.$$arity=2);a.def(c,"$resolve_args",Ga=function(c,h){var k=f,l=f,k=e(a.const_get_qualified("::","Hash")["$==="](c["$[]"](-1)))?c.$pop():d([],{});if(h["$=="](1))return k;e(r(l=b(b(h,1),c.$size()),0))?c=m(c,a.const_get_qualified("::","Array").$new(l)):e(p(l,0))&&c.$pop(l["$-@"]());c["$<<"](k);return c},Ga.$$arity=2);return(a.def(c,"$as_symbol",Ia=function(a){return e(a)?a.$to_sym():f},Ia.$$arity=1),f)&&"as_symbol"})(v[0],
null,v);(function(c,k){var l=[c].concat(k),n,p,q,r,u,v,w,x,z;a.def(c,"$generate_name",n=function(){return"extgrp"+this.$next_auto_id()},n.$$arity=0);a.def(c,"$next_auto_id",p=function(){var a;null==this.auto_id&&(this.auto_id=f);this.auto_id=e(a=this.auto_id)?a:-1;return this.auto_id=m(this.auto_id,1)},p.$$arity=0);a.def(c,"$groups",q=function(){var a;null==this.groups&&(this.groups=f);return this.groups=e(a=this.groups)?a:d([],{})},q.$$arity=0);a.def(c,"$create",r=function(b){var c,d=r.$$p,g=d||
f;null==b&&(b=f);d&&(r.$$p=null);return g!==f?a.const_get_relative(l,"Registry").$new(t(e(c=b)?c:this.$generate_name(),g)):a.const_get_relative(l,"Registry").$new()},r.$$arity=-1);a.alias(c,"build_registry","create");a.def(c,"$register",u=function(c){var d,k,l=u.$$p,m=l||f,n=f,p=f,q=f,t=f;k=f;n=arguments.length;k=n-0;0>k&&(k=0);k=Array(k);for(t=0;t<n;t++)k[t-0]=arguments[t];l&&(u.$$p=null);n=k.$size();m!==f?p=m:e(q=k.$pop())?p=e(d=this.$resolve_class(q))?d:q:this.$raise(a.const_get_qualified("::",
"ArgumentError"),"Extension group to register not specified");t=e(d=k.$pop())?d:this.$generate_name();e(k["$empty?"]())||this.$raise(a.const_get_qualified("::","ArgumentError"),"Wrong number of arguments ("+n+" for 1..2)");k=[t.$to_sym(),p];h(this.$groups(),"[]=",a.to_a(k));return k[b(k.length,1)]},u.$$arity=-1);a.def(c,"$unregister_all",v=function(){this.groups=d([],{});return f},v.$$arity=0);a.def(c,"$unregister",w=function(a){var b,c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<
d;e++)c[e-0]=arguments[e];h(c,"each",[],(b=function(a){var c=b.$$s||this;null==c.groups&&(c.groups=f);null==a&&(a=f);return c.groups.$delete(a.$to_sym())},b.$$s=this,b.$$arity=1,b));return f},w.$$arity=-1);a.def(c,"$resolve_class",x=function(b){var c=f,c=b;return a.const_get_qualified("::","Class")["$==="](c)?b:a.const_get_qualified("::","String")["$==="](c)?this.$class_for_name(b):f},x.$$arity=1);return(a.def(c,"$class_for_name",z=function(b){var c,d=f,d=a.const_get_qualified("::","Object");h(b.$split("::"),
"each",[],(c=function(g){var h=c.$$s||this,k,l;null==g&&(g=f);return e(e(k=g["$empty?"]())?k:e(l=d["$const_defined?"](g))?a.const_get_qualified("::","Module")["$==="](d=d.$const_get(g)):l)?f:h.$raise(a.const_get_qualified("::","NameError"),"Could not resolve class for name: "+b)},c.$$s=this,c.$$arity=1,c));e(a.const_get_qualified("::","Class")["$==="](d))||this.$raise(a.const_get_qualified("::","NameError"),"Could not resolve class for name: "+b);return d},z.$$arity=1),f)&&"class_for_name"})(a.get_singleton_class(u),
v)})(u[0],u)}(q[0],q)};Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(a){var b=[],m=a.nil,r=a.module,p=a.klass,q=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));return function(b,c){var g=[r(b,"Asciidoctor")].concat(c);(function(b,$super,c){function f(){}b=f=p(b,$super,"PreprocessorReader",f);var g=b.$$proto,k=[b].concat(c),r;g.path_resolver=g.document=
g.include_stack=g.dir=m;return(a.def(b,"$resolve_include_path",r=function(b,c,e){var f,g=m,h=m,p=m,t=p=g=m;e=m;g=(this.path_resolver=q(f=this.path_resolver)?f:a.const_get_relative(k,"PathResolver").$new("\\")).$posixify(b);f=["file",this.document.$base_dir()];h=f[1];f;if(q(g["$start_with?"]("file://")))p=g;else if(q(a.const_get_relative(k,"Helpers")["$uriish?"](g))){if(!q(q(f=this.path_resolver["$descends_from?"](g,h))?f:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+
b+"["+c+"]");p=g}else if(q(this.path_resolver["$absolute_path?"](g)))p=g="file://"+(q(g["$start_with?"]("/"))?"":"/")+g;else if((p=q(t=this.include_stack["$empty?"]())?h:this.dir)["$=="]("."))p=g;else if(q(q(f=p["$start_with?"]("file://"))?f:a.const_get_relative(k,"Helpers")["$uriish?"](p)["$!"]()))p=""+p+"/"+g,g=q(t)?g:q(q(f=h["$=="]("."))?f:(e=this.path_resolver["$descends_from?"](p,h))["$!"]())?p:p.$slice(e,p.$length());else if(q(t))p=""+p+"/"+g;else if(q(q(f=e=this.path_resolver["$descends_from?"](p,
h))?f:this.document.$attributes()["$key?"]("allow-uri-read")))p=""+p+"/"+g,g=q(e)?p.$slice(e,p.$length()):g;else return this.$replace_next_line("link:"+b+"["+c+"]");return[p,"file",g]},r.$$arity=3),m)&&"resolve_include_path"})(g[0],a.const_get_relative(g,"Reader"),g)}(b[0],b)};Opal.modules["asciidoctor/js/postscript"]=function(a){var b=a.top,m=a.nil;a.add_stubs(["$require","$=="]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");b.$require("asciidoctor/extensions");
return a.const_get_relative([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?b.$require("asciidoctor/js/opal_ext/browser/reader"):m};(function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var p=a.top,q=[],f=a.nil,c=a.truthy,k=a.gvars,e=a.module,d=a.hash2,h=a.send,t=a.hash;null==k[":"]&&(k[":"]=f);a.add_stubs("$== $>= $require $unshift $dirname $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $<< $define $expand_path $join $home $pwd $! $!= $default_external $to_set $map $keys $slice $merge $inject $* $to_a $dup $insert $start $=== $split $gsub $respond_to? $raise $ancestors $class $path $utc $at $Integer $mtime $readlines $basename $extname $index $strftime $year $rewind $lines $each_line $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load $delete $key? $attributes $outfilesuffix $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $attr $uriish? $include? $write_primary_stylesheet $instance $empty? $read_asset $file? $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
c(a.const_get_relative(q,"RUBY_ENGINE","skip_raise")?"constant":f)||a.const_set(q[0],"RUBY_ENGINE","unknown");a.const_set(q[0],"RUBY_ENGINE_OPAL",a.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal"));a.const_set(q[0],"RUBY_ENGINE_JRUBY",a.const_get_relative(q,"RUBY_ENGINE")["$=="]("jruby"));a.const_set(q[0],"RUBY_MIN_VERSION_1_9",b(a.const_get_relative(q,"RUBY_VERSION"),"1.9"));a.const_set(q[0],"RUBY_MIN_VERSION_2",b(a.const_get_relative(q,"RUBY_VERSION"),"2"));p.$require("set");a.const_get_relative(q,
"RUBY_ENGINE")["$=="]("opal")?p.$require("asciidoctor/js"):f;k[":"].$unshift(a.const_get_relative(q,"File").$dirname("asciidoctor"));(function(k,l){var p=e(k,"Asciidoctor"),n=[p].concat(l),q,u,v,w=f,x=f,y=f;a.const_set(n[0],"RUBY_ENGINE",a.const_get_qualified("::","RUBY_ENGINE"));(function(b,c){var g=e(b,"SafeMode"),k=[g].concat(c),l,n,p,q,t=f;a.const_set(k[0],"UNSAFE",0);a.const_set(k[0],"SAFE",1);a.const_set(k[0],"SERVER",10);a.const_set(k[0],"SECURE",20);t=d([],{});h((a.Module.$$nesting=k,g.$constants()),
"each",[],(l=function(b){var c=l.$$s||this,d=f;null==b&&(b=f);d=[c.$const_get(b),b.$to_s().$downcase()];h(t,"[]=",a.to_a(d));return d[m(d.length,1)]},l.$$s=g,l.$$arity=1,l));g.names_by_value=t;a.defs(g,"$value_for_name",n=function(a){return this.$const_get(a.$upcase())},n.$$arity=1);a.defs(g,"$name_for_value",p=function(a){null==this.names_by_value&&(this.names_by_value=f);return this.names_by_value["$[]"](a)},p.$$arity=1);a.defs(g,"$names",q=function(){null==this.names_by_value&&(this.names_by_value=
f);return this.names_by_value.$values()},q.$$arity=0)})(n[0],n);(function(b,c){var d=e(b,"Compliance"),g=[d].concat(c),h;d.keys=a.const_get_qualified("::","Set").$new();(function(a,b){[a].concat(b);return a.$attr_reader("keys")})(a.get_singleton_class(d),g);a.defs(d,"$define",h=function(b,c){null==this.keys&&(this.keys=f);this.$instance_variable_set("@"+b,c);var d=a.get_singleton_class(this);[d].concat(g);d.$send("attr_accessor",b);this.keys["$<<"](b);return f},h.$$arity=2);d.$define("block_terminates_paragraph",
!0);d.$define("strict_verbatim_paragraphs",!0);d.$define("underline_style_section_titles",!0);d.$define("unwrap_standalone_preamble",!0);d.$define("attribute_missing","skip");d.$define("attribute_undefined","drop-line");d.$define("shorthand_property_syntax",!0);d.$define("unique_id_start_index",2);d.$define("markdown_syntax",!0)})(n[0],n);a.const_set(n[0],"ROOT_PATH",a.const_get_qualified("::","File").$dirname(a.const_get_qualified("::","File").$dirname(a.const_get_qualified("::","File").$expand_path("asciidoctor"))));
a.const_set(n[0],"DATA_PATH",a.const_get_qualified("::","File").$join(a.const_get_relative(n,"ROOT_PATH"),"data"));try{a.const_set(n[0],"USER_HOME",a.const_get_qualified("::","Dir").$home())}catch(z){if(a.rescue(z,[a.const_get_relative(n,"StandardError")]))try{a.const_set(n[0],"USER_HOME",c(q=a.const_get_qualified("::","ENV")["$[]"]("HOME"))?q:a.const_get_qualified("::","Dir").$pwd())}finally{a.pop_exception()}else throw z;}a.const_set(n[0],"COERCE_ENCODING",c(q=a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())?
a.const_get_qualified("::","RUBY_MIN_VERSION_1_9"):q);a.const_set(n[0],"FORCE_ENCODING",c(q=a.const_get_relative(n,"COERCE_ENCODING"))?a.const_get_qualified("::","Encoding").$default_external()["$!="](a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8")):q);a.const_set(n[0],"BOM_BYTES_UTF_8",[239,187,191]);a.const_set(n[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(n[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(n[0],"FORCE_UNICODE_LINE_LENGTH",a.const_get_qualified("::","RUBY_MIN_VERSION_1_9")["$!"]());
a.const_set(n[0],"LF",a.const_set(n[0],"EOL","\n"));a.const_set(n[0],"NULL","\x00");a.const_set(n[0],"TAB","\t");a.const_set(n[0],"DEFAULT_DOCTYPE","article");a.const_set(n[0],"DEFAULT_BACKEND","html5");a.const_set(n[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(n[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(n[0],"BACKEND_ALIASES",d(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(n[0],"DEFAULT_PAGE_WIDTHS",d(["docbook"],{docbook:425}));a.const_set(n[0],
"DEFAULT_EXTENSIONS",d("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"}));a.const_set(n[0],"ASCIIDOC_EXTENSIONS",d([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.const_set(n[0],"SETEXT_SECTION_LEVELS",d(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(n[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(n[0],
"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set());a.const_set(n[0],"CALLOUT_LIST_HEADS","<1234567890".split("").$to_set());a.const_set(n[0],"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(n[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(n[0],"DELIMITED_BLOCKS",d('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],
"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.const_get_qualified("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.const_get_qualified("::","Set").$new()],",===":["table",a.const_get_qualified("::","Set").$new()],":===":["table",a.const_get_qualified("::","Set").$new()],
"!===":["table",a.const_get_qualified("::","Set").$new()],"////":["comment",a.const_get_qualified("::","Set").$new()],"```":["fenced_code",a.const_get_qualified("::","Set").$new()]}));a.const_set(n[0],"DELIMITED_BLOCK_HEADS",h(a.const_get_relative(n,"DELIMITED_BLOCKS").$keys(),"map",[],(u=function(a){null==a&&(a=f);return a.$slice(0,2)},u.$$s=p,u.$$arity=1,u)).$to_set());a.const_set(n[0],"LAYOUT_BREAK_CHARS",d(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(n[0],"MARKDOWN_THEMATIC_BREAK_CHARS",
d(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(n[0],"HYBRID_LAYOUT_BREAK_CHARS",a.const_get_relative(n,"LAYOUT_BREAK_CHARS").$merge(a.const_get_relative(n,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(n[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(n[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.const_set(n[0],"ORDERED_LIST_KEYWORDS",d(["loweralpha","lowerroman","upperalpha","upperroman"],
{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(n[0],"ATTR_REF_HEAD","{");a.const_set(n[0],"LIST_CONTINUATION","+");a.const_set(n[0],"HARD_LINE_BREAK"," +");a.const_set(n[0],"LINE_CONTINUATION"," \\");a.const_set(n[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(n[0],"BLOCK_MATH_DELIMITERS",d(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(n[0],"INLINE_MATH_DELIMITERS",d(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(",
"\\)"]}));a.const_set(n[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);a.const_set(n[0],"CIRCUMFIX_COMMENTS",h(t(["/*","*/"],[".css"],["(*","*)"],[".ml",".mli",".nb"],["\x3c!--","--\x3e"],[".html",".xhtml",".xml",".xsl"],["<%--","--%>"],[".asp",".jsp"]),"inject",[d([],{})],(v=function(b,c){var e=v.$$s||this,g,k,l;null==c&&(c=f);c=a.to_ary(c);g=a.slice.call(c,0,c.length);k=g.splice(0,1)[0];null==k&&(k=f);g=g.splice(0,1)[0];null==g&&(g=f);null==b&&(b=f);h(g,"each",[],(l=function(c){var e=f;null==c&&(c=f);e=
[c,d(["prefix","suffix"],{prefix:k["$[]"](0),suffix:k["$[]"](-1)})];h(b,"[]=",a.to_a(e));return e[m(e.length,1)]},l.$$s=e,l.$$arity=1,l));return b},v.$$s=p,v.$$arity=2,v.$$has_top_level_mlhs_arg=!0,v)));a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")||f;a.const_set(n[0],"AuthorInfoLineRx",new RegExp("^("+a.const_get_relative(n,"CG_WORD")+"["+a.const_get_relative(n,"CC_WORD")+"\\-'.]*)(?: +("+a.const_get_relative(n,"CG_WORD")+"["+a.const_get_relative(n,"CC_WORD")+"\\-'.]*))?(?: +("+a.const_get_relative(n,
"CG_WORD")+"["+a.const_get_relative(n,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(n[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/);a.const_set(n[0],"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/);a.const_set(n[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/);a.const_set(n[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/);a.const_set(n[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/);
a.const_set(n[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]*)\]$/);a.const_set(n[0],"TagDirectiveRx",/\b(?:tag|(end))::(\S+)\[\]$/);a.const_set(n[0],"AttributeEntryRx",/^:(!?\w[^\n]*?):(?:[ \t]+([^\n]*))?$/);a.const_set(n[0],"InvalidAttributeNameCharsRx",/[^\w\-]/);a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?a.const_set(n[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/):f;a.const_set(n[0],"AttributeReferenceRx",/(\\)?\{(\w+[-\w]*|(set|counter2?):[^\n]+?)(\\)?\}/);
a.const_set(n[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$"));a.const_set(n[0],"BlockAttributeListRx",new RegExp("^\\[(|["+a.const_get_relative(n,"CC_WORD")+".#%{,\"'].*)\\]$"));a.const_set(n[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+a.const_get_relative(n,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$"));
a.const_set(n[0],"BlockTitleRx",/^\.([^ \t.][^\n]*)$/);a.const_set(n[0],"AdmonitionParagraphRx",new RegExp("^("+r(a.const_get_relative(n,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+"));a.const_set(n[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/);a.const_set(n[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);a.const_set(n[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);a.const_set(n[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+a.const_get_relative(n,"CG_WORD")+
"+.*)[^.].*?)$"));a.const_set(n[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$"));a.const_set(n[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^"+a.const_get_relative(n,"CC_WORD")+"]+?"));a.const_set(n[0],"DiscreteHeadingStyleRx",/^(?:discrete|float)\b/);a.const_set(n[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::{2,4}|;;)(?:$|[ \t])|<?\d+>[ \t])/);
a.const_set(n[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/);a.const_set(n[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/);a.const_set(n[0],"OrderedListMarkerRxMap",d(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(n[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:{2,4}|;;)(?:[ \t]+([^\n]*))?$/);a.const_set(n[0],
"DescriptionListSiblingRx",d(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::)(?:[ \t]+(.*))?$/,":::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(:::)(?:[ \t]+(.*))?$/,"::::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::::)(?:[ \t]+(.*))?$/,";;":/^(?!\/\/)[ \t]*(.*)(;;)(?:[ \t]+(.*))?$/}));a.const_set(n[0],"CalloutListRx",/^<?(\d+)>[ \t]+([^\n]*)$/);a.const_set(n[0],"CalloutListSniffRx",/^<?\d+>/);a.const_set(n[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.const_set(n[0],
"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.const_set(n[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+a.const_get_relative(n,"CC_EOL")+")"));a.const_set(n[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+a.const_get_relative(n,"CC_EOL")+")"));a.const_set(n[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+a.const_get_relative(n,"CC_EOL")+")");
a.const_set(n[0],"ListRxMap",d(["ulist","olist","dlist","colist"],{ulist:a.const_get_relative(n,"UnorderedListRx"),olist:a.const_get_relative(n,"OrderedListRx"),dlist:a.const_get_relative(n,"DescriptionListRx"),colist:a.const_get_relative(n,"CalloutListRx")}));a.const_set(n[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.const_set(n[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);
a.const_set(n[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(n[0],"CustomBlockMacroRx",new RegExp("^("+a.const_get_relative(n,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.*)\\]$"));a.const_set(n[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]*)\]$/);a.const_set(n[0],"BlockTocMacroRx",/^toc::\[([^\n]*)\]$/);a.const_set(n[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+a.const_get_relative(n,"CC_ALPHA")+
"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))"));a.const_set(n[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])"));
a.const_set(n[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]"));a.const_set(n[0],"EmailInlineRx",new RegExp("([\\\\>:/])?"+a.const_get_relative(n,"CG_WORD")+"["+a.const_get_relative(n,"CC_WORD")+".%+-]*@"+a.const_get_relative(n,"CG_ALNUM")+"["+a.const_get_relative(n,"CC_ALNUM")+".-]*\\."+a.const_get_relative(n,"CG_ALPHA")+"{2,4}\\b"));a.const_set(n[0],"InlineFootnoteMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+
a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(n[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(n[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+a.const_get_relative(n,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(n[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+a.const_get_relative(n,
"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(n[0],"LinkInlineRx",new RegExp("(^|link:|"+a.const_get_relative(n,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(n[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(n[0],"MacroNameRx",new RegExp("^"+a.const_get_relative(n,
"CG_WORD")+"+$"));a.const_set(n[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(n[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+a.const_get_relative(n,"CG_WORD")+"|["+a.const_get_relative(n,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])?\\]","m"));a.const_set(n[0],"MenuInlineRx",new RegExp('\\\\?"(['+a.const_get_relative(n,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));
a.const_set(n[0],"PassInlineRx",t(!1,["+","`",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)\\4)(?!"+a.const_get_relative(n,"CG_WORD")+")","m")],!0,["`",f,new RegExp("(^|[^`"+a.const_get_relative(n,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+a.const_get_relative(n,"CC_ALL")+"*?\\S)\\4)(?![`"+a.const_get_relative(n,"CC_WORD")+"])","m")]));a.const_set(n[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+
a.const_get_relative(n,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(n[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+a.const_get_relative(n,"CC_WORD")+"#/.:{]"+a.const_get_relative(n,"CC_ALL")+"*?)&gt;&gt;|xref:(["+a.const_get_relative(n,"CC_WORD")+"#/.:{]"+a.const_get_relative(n,"CC_ALL")+"*?)\\[(?:\\]|("+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]))","m"));a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?
a.const_set(n[0],"HardLineBreakRx",/^(.*) \+$/m):f;a.const_set(n[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(n[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(n[0],"BlankLineRx",/\n{2,}/);a.const_set(n[0],"DataDelimiterRx",/[,;]/);a.const_set(n[0],"TrailingDigitsRx",/\d+$/);a.const_set(n[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(n[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(n[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(n[0],
"SubModifierSniffRx",/[+-]/);a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")||f;a.const_set(n[0],"UriSniffRx",new RegExp("^"+a.const_get_relative(n,"CG_ALPHA")+"["+a.const_get_relative(n,"CC_ALNUM")+".+-]+:/{0,2}"));a.const_set(n[0],"UriTerminatorRx",/[);:]$/);a.const_set(n[0],"XmlSanitizeRx",/<[^>]+>/);a.const_set(n[0],"INTRINSIC_ATTRIBUTES",d("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),
{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));w=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+a.const_get_relative(n,"CC_ALL")+"+?)\\*\\*","m")],["strong",
"constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)\\*(?!"+a.const_get_relative(n,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+a.const_get_relative(n,"CC_ALL")+'*?\\S)`"(?!'+a.const_get_relative(n,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+
a.const_get_relative(n,"CC_ALL")+"*?\\S)`'(?!"+a.const_get_relative(n,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+a.const_get_relative(n,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)`(?!["+a.const_get_relative(n,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+a.const_get_relative(n,
"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)_(?!"+a.const_get_relative(n,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+a.const_get_relative(n,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)#(?!"+
a.const_get_relative(n,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]];x=w.$dup();y=[2,["double","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)''(?!"+a.const_get_relative(n,"CG_WORD")+")","m")]];h(x,"[]=",a.to_a(y));y[m(y.length,1)];y=[3,["single","constrained",new RegExp("(^|[^"+a.const_get_relative(n,
"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)'(?!"+a.const_get_relative(n,"CG_WORD")+")","m")]];h(x,"[]=",a.to_a(y));y[m(y.length,1)];y=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+a.const_get_relative(n,"CC_ALL")+"+?)\\+\\+","m")]];h(x,"[]=",a.to_a(y));y[m(y.length,1)];y=[5,["monospaced","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+
"*?\\S)\\+(?!"+a.const_get_relative(n,"CG_WORD")+")","m")]];h(x,"[]=",a.to_a(y));y[m(y.length,1)];x.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)'(?!"+a.const_get_relative(n,"CG_WORD")+")","m")]);a.const_set(n[0],"QUOTE_SUBS",t(!1,w,!0,x));x=w=f;a.const_set(n[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,
"&#8201;&#8212;&#8201;","none"],[new RegExp("("+a.const_get_relative(n,"CG_WORD")+")\\\\?--(?="+a.const_get_relative(n,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+a.const_get_relative(n,"CG_ALNUM")+")\\\\?'(?="+a.const_get_relative(n,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,
"","bounding"]]);(function(e,k){var l=[e].concat(k),n,p,q,t;a.def(e,"$load",n=function(b,e){var g,k,n,p,q,t=f,u=f,v=f,w=f,x=f,y=f,z=f,A=f,B=f,C=f,E=f,J=f,L=f;null==e&&(e=d([],{}));try{e=e.$dup();c(t=e["$[]"]("timings"))&&t.$start("read");c((u=e["$[]"]("attributes"))["$!"]())?u=d([],{}):c(c(g=a.const_get_qualified("::","Hash")["$==="](u))?g:c(k=a.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?a.const_get_qualified(a.const_get_qualified(a.const_get_qualified("::","Java"),"JavaUtil"),"Map")["$==="](u):
k)?u=u.$dup():c(a.const_get_qualified("::","Array")["$==="](u))?(g=[d([],{}),u],u=g[0],v=g[1],g,h(v,"each",[],(n=function(b){var d,e=f,g=f,e=f;null==b&&(b=f);d=b.$split("=",2);b=a.to_ary(d);e=null==b[0]?f:b[0];g=null==b[1]?f:b[1];d;e=[e,c(b=g)?b:""];h(u,"[]=",a.to_a(e));return e[m(e.length,1)]},n.$$s=this,n.$$arity=1,n))):c(a.const_get_qualified("::","String")["$==="](u))?(g=[d([],{}),u.$gsub(a.const_get_relative(l,"SpaceDelimiterRx"),"\\1"+a.const_get_relative(l,"NULL")).$gsub(a.const_get_relative(l,
"EscapedSpaceRx"),"\\1").$split(a.const_get_relative(l,"NULL"))],u=g[0],v=g[1],g,h(v,"each",[],(p=function(b){var d,e=f,g=f,e=f;null==b&&(b=f);d=b.$split("=",2);b=a.to_ary(d);e=null==b[0]?f:b[0];g=null==b[1]?f:b[1];d;e=[e,c(b=g)?b:""];h(u,"[]=",a.to_a(e));return e[m(e.length,1)]},p.$$s=this,p.$$arity=1,p))):c(c(g=u["$respond_to?"]("keys"))?u["$respond_to?"]("[]"):g)?u=a.const_get_qualified("::","Hash")["$[]"](h(u.$keys(),"map",[],(q=function(a){null==a&&(a=f);return[a,u["$[]"](a)]},q.$$s=this,q.$$arity=
1,q))):this.$raise(a.const_get_qualified("::","ArgumentError"),"illegal type for attributes option: "+r(u.$class().$ancestors()," < "));w=f;if(c(a.const_get_qualified("::","File")["$==="](b)))x=a.const_get_qualified("::","File").$expand_path(b.$path()),y=c(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?a.const_get_qualified("::","Time").$at(this.$Integer(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():b.$mtime(),w=b.$readlines(),z=["docfile",x],h(u,"[]=",a.to_a(z)),
z[m(z.length,1)],z=["docdir",a.const_get_qualified("::","File").$dirname(x)],h(u,"[]=",a.to_a(z)),z[m(z.length,1)],z=["docname",a.const_get_relative(l,"Helpers").$basename(x,(z=["docfilesuffix",a.const_get_qualified("::","File").$extname(x)],h(u,"[]=",a.to_a(z)),z[m(z.length,1)]))],h(u,"[]=",a.to_a(z)),z[m(z.length,1)],c(A=u["$[]"]("docdate"))?c(g=u["$[]"]("docyear"))?g:(z=["docyear",A.$index("-")["$=="](4)?A.$slice(0,4):f],h(u,"[]=",a.to_a(z)),z[m(z.length,1)]):(A=(z=["docdate",y.$strftime("%Y-%m-%d")],
h(u,"[]=",a.to_a(z)),z[m(z.length,1)]),c(g=u["$[]"]("docyear"))?g:(z=["docyear",y.$year().$to_s()],h(u,"[]=",a.to_a(z)),z[m(z.length,1)])),B=c(g=u["$[]"]("doctime"))?g:(z=["doctime",y.$strftime("%H:%M:%S %Z")],h(u,"[]=",a.to_a(z)),z[m(z.length,1)]),z=["docdatetime",""+A+" "+B],h(u,"[]=",a.to_a(z)),z[m(z.length,1)];else if(c(b["$respond_to?"]("readlines"))){try{b.$rewind()}catch(P){if(a.rescue(P,[a.const_get_relative(l,"StandardError")]))try{f}finally{a.pop_exception()}else throw P;}w=b.$readlines()}else c(a.const_get_qualified("::",
"String")["$==="](b))?w=c(a.const_get_qualified("::","RUBY_MIN_VERSION_2"))?b.$lines():b.$each_line().$to_a():c(a.const_get_qualified("::","Array")["$==="](b))?w=b.$dup():this.$raise(a.const_get_qualified("::","ArgumentError"),"unsupported input type: "+b.$class());c(t)&&(t.$record("read"),t.$start("parse"));z=["attributes",u];h(e,"[]=",a.to_a(z));z[m(z.length,1)];C=e["$[]"]("parse")["$=="](!1)?a.const_get_relative(l,"Document").$new(w,e):a.const_get_relative(l,"Document").$new(w,e).$parse();c(t)&&
t.$record("parse");return C}catch(P){if(a.rescue(P,[a.const_get_relative(l,"StandardError")])){E=P;try{try{J="asciidoctor: FAILED: "+(c(g=u["$[]"]("docfile"))?g:"<stdin>")+": Failed to load AsciiDoc document",c(E["$respond_to?"]("exception"))?(L=E.$exception(""+J+" - "+E.$message()),L.$set_backtrace(E.$backtrace())):(L=E.$class().$new(J,E),z=[E.$stack_trace()],h(L,"stack_trace=",a.to_a(z)),z[m(z.length,1)])}catch(U){if(a.rescue(U,[a.const_get_relative(l,"StandardError")]))try{L=E}finally{a.pop_exception()}else throw U;
}return this.$raise(L)}finally{a.pop_exception()}}else throw P;}},n.$$arity=-2);a.def(e,"$load_file",p=function(b,c){var e;null==c&&(c=d([],{}));return h(a.const_get_qualified("::","File"),"open",[b],(e=function(a){var b=e.$$s||this;null==a&&(a=f);return b.$load(a,c)},e.$$s=this,e.$$arity=1,e))},p.$$arity=-2);a.def(e,"$convert",q=function(e,k){var n,p,q,t,r,u=f,v=f,w=f,x=f,y=f,z=f,A=f,B=f,C=r=y=f,E=y=f,H=u=u=B=z=f,J=z=v=f,L=u=A=x=f,P=w=f;null==k&&(k=d([],{}));k=k.$dup();k.$delete("parse");u=k.$delete("to_file");
v=k.$delete("to_dir");w=c(n=k.$delete("mkdirs"))?n:!1;x=k["$[]"]("timings");y=u;if((!0)["$==="](y)||f["$==="](y))z=c(n=v["$!"]())?a.const_get_qualified("::","File")["$==="](e):n,A=!1,B=v,u=f;else if((!1)["$==="](y))B=A=z=!1,u=f;else{if("/dev/null"["$==="](y))return this.$load(e,k);z=!1;B=c(A=u["$respond_to?"]("write"))?!1:u}!c(k["$key?"]("header_footer"))&&c(c(n=z)?n:B)&&(y=["header_footer",!0],h(k,"[]=",a.to_a(y)),y[m(y.length,1)]);c(z)?(r=a.const_get_qualified("::","File").$expand_path(e.$path()),
y=["to_dir",C=a.const_get_qualified("::","File").$dirname(r)],h(k,"[]=",a.to_a(y)),y[m(y.length,1)]):c(B)?c(v)?(y=c(u)?["to_dir",a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::","File").$join(v,u,".."))]:["to_dir",a.const_get_qualified("::","File").$expand_path(v)],h(k,"[]=",a.to_a(y)),y[m(y.length,1)]):c(u)&&(y=["to_dir",a.const_get_qualified("::","File").$expand_path(u,"..")],h(k,"[]=",a.to_a(y)),y[m(y.length,1)]):(y=["to_dir",f],h(k,"[]=",a.to_a(y)),y[m(y.length,1)]);
y=this.$load(e,k);c(z)?(E=a.const_get_qualified("::","File").$join(C,""+y.$attributes()["$[]"]("docname")+y.$outfilesuffix()),E["$=="](r)&&this.$raise(a.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+E)):c(B)?(z=c(k["$key?"]("base_dir"))?a.const_get_qualified("::","File").$expand_path(k["$[]"]("base_dir")):a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::","Dir").$pwd()),B=c(b(y.$safe(),a.const_get_qualified(a.const_get_relative(l,"SafeMode"),
"SAFE")))?z:f,c(v)?(C=y.$normalize_system_path(v,z,B,d(["target_name","recover"],{target_name:"to_dir",recover:!1})),c(u)?(E=y.$normalize_system_path(u,C,f,d(["target_name","recover"],{target_name:"to_dir",recover:!1})),C=a.const_get_qualified("::","File").$dirname(E)):E=a.const_get_qualified("::","File").$join(C,""+y.$attributes()["$[]"]("docname")+y.$outfilesuffix())):c(u)&&(E=y.$normalize_system_path(u,z,B,d(["target_name","recover"],{target_name:"to_dir",recover:!1})),C=a.const_get_qualified("::",
"File").$dirname(E)),c(c(n=a.const_get_qualified("::","File")["$==="](e))?E["$=="](a.const_get_qualified("::","File").$expand_path(e.$path())):n)&&this.$raise(a.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+E),c(a.const_get_qualified("::","File")["$directory?"](C))||(c(w)?a.const_get_relative(l,"Helpers").$mkdir_p(C):this.$raise(a.const_get_qualified("::","IOError"),"target directory does not exist: "+v))):(E=u,C=f);c(x)&&x.$start("convert");u=c(c(n=E)?A["$!"]():
n)?d(["outfile","outdir"],{outfile:E,outdir:C}):d([],{});u=y.$convert(u);c(x)&&x.$record("convert");return c(E)?(c(x)&&x.$start("write"),y.$write(u,E),c(x)&&x.$record("write"),c(r=A["$!"]())&&(r=y.$safe(),E=a.const_get_qualified(a.const_get_relative(l,"SafeMode"),"SECURE"),r="number"===typeof r&&"number"===typeof E?r<E:r["$<"](E)),c(c(n=c(p=c(q=c(t=r)?y["$attr?"]("linkcss"):t)?y["$attr?"]("copycss"):q)?y["$attr?"]("basebackend-html"):p)?(c(p=H=y.$attr("stylesdir"))?a.const_get_relative(l,"Helpers")["$uriish?"](H):
p)["$!"]():n)&&(z=v=!1,c(J=y.$attr("stylesheet"))&&(c(a.const_get_relative(l,"DEFAULT_STYLESHEET_KEYS")["$include?"](J))?v=!0:c(a.const_get_relative(l,"Helpers")["$uriish?"](J)["$!"]())&&(z=!0)),x=c(n=y["$attr?"]("source-highlighter","coderay"))?y.$attr("coderay-css","class")["$=="]("class"):n,A=c(n=y["$attr?"]("source-highlighter","pygments"))?y.$attr("pygments-css","class")["$=="]("class"):n,c(c(n=c(p=c(q=v)?q:z)?p:x)?n:A)&&(u=y.$normalize_system_path(H,C,c(b(y.$safe(),a.const_get_qualified(a.const_get_relative(l,
"SafeMode"),"SAFE")))?C:f),c(w)&&a.const_get_relative(l,"Helpers").$mkdir_p(u),c(v)?a.const_get_relative(l,"Stylesheets").$instance().$write_primary_stylesheet(u):c(z)&&(L=c((L=y.$attr("copycss"))["$empty?"]())?y.$normalize_system_path(J):y.$normalize_system_path(L),w=y.$normalize_system_path(J,u,c(b(y.$safe(),a.const_get_qualified(a.const_get_relative(l,"SafeMode"),"SAFE")))?C:f),c(c(n=L["$!="](w))?P=y.$read_asset(L,d(["warn_on_failure","label"],{warn_on_failure:a.const_get_qualified("::","File")["$file?"](w)["$!"](),
label:"stylesheet"})):n)&&a.const_get_qualified("::","IO").$write(w,P)),c(x)?a.const_get_relative(l,"Stylesheets").$instance().$write_coderay_stylesheet(u):c(A)&&a.const_get_relative(l,"Stylesheets").$instance().$write_pygments_stylesheet(u,y.$attr("pygments-style")))),y):u},q.$$arity=-2);a.alias(e,"render","convert");a.def(e,"$convert_file",t=function(b,c){var e;null==c&&(c=d([],{}));return h(a.const_get_qualified("::","File"),"open",[b],(e=function(a){var b=e.$$s||this;null==a&&(a=f);return b.$convert(a,
c)},e.$$s=this,e.$$arity=1,e))},t.$$arity=-2);a.alias(e,"render_file","convert_file");a.const_get_relative(l,"RUBY_ENGINE")["$=="]("opal");return f})(a.get_singleton_class(p),n);a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?(p.$require("asciidoctor/timings"),p.$require("asciidoctor/version")):f})(q[0],q);p.$require("asciidoctor/core_ext");p.$require("asciidoctor/helpers");p.$require("asciidoctor/substitutors");p.$require("asciidoctor/abstract_node");p.$require("asciidoctor/abstract_block");
p.$require("asciidoctor/attribute_list");p.$require("asciidoctor/block");p.$require("asciidoctor/callouts");p.$require("asciidoctor/converter");p.$require("asciidoctor/document");p.$require("asciidoctor/inline");p.$require("asciidoctor/list");p.$require("asciidoctor/parser");p.$require("asciidoctor/path_resolver");p.$require("asciidoctor/reader");p.$require("asciidoctor/section");p.$require("asciidoctor/stylesheets");p.$require("asciidoctor/table");return a.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal")?
p.$require("asciidoctor/js/postscript"):f})(Opal);var x=function(a){return!a||"$$smap"in a?a:Opal.hash(a)},C=function(a){var b={},m=0,r=a.$$keys;a=a.$$smap;for(var p=r.length;m<p;m++){var q=r[m];b[q]=a[q]}return b},B=function(a){if(a=x(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",x(b)))}return a},u=Opal.Asciidoctor.$$class;u.$$proto.getCoreVersion=function(){return this.$$const.VERSION};u.$$proto.convert=function(a,b){"object"===
typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));var m=this.$convert(a,B(b));return m===Opal.nil?"":m};u.$$proto.convertFile=function(a,b){return this.$convert_file(a,B(b))};u.$$proto.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));return this.$load(a,B(b))};u.$$proto.loadFile=function(a,b){return this.$load_file(a,B(b))};var v=Opal.Asciidoctor.AbstractBlock;v.$$proto.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};
v.$$proto.getCaptionedTitle=function(){return this.$captioned_title()};v.$$proto.getStyle=function(){return this.style};v.$$proto.getCaption=function(){return this.$caption()};v.$$proto.setCaption=function(a){this.caption=a};v.$$proto.getLevel=function(){return this.level};v.$$proto.getBlocks=function(){return this.blocks};v.$$proto.getContent=function(){return this.$content()};v.$$proto.convert=function(){return this.$convert()};v.$$proto.findBy=function(a,b){return"undefined"===typeof b&&"function"===
typeof a?Opal.send(this,"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[x(a)],b):this.$find_by(x(a))};v.$$proto.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};v=Opal.Asciidoctor.Block;v.$$proto.getSource=function(){return this.$source()};v.$$proto.getSourceLines=function(){return this.lines};v=Opal.Asciidoctor.AbstractNode;v.$$proto.getAttributes=function(){return C(this.attributes)};v.$$proto.getAttribute=function(a,b,m){a=this.$attr(a,b,m);return a===
Opal.nil?void 0:a};v.$$proto.hasAttribute=function(a){return a in this.attributes.$$smap};v.$$proto.isAttribute=function(a,b,m){a=this["$attr?"](a,b,m);return a===Opal.nil?!1:a};v.$$proto.setAttribute=function(a,b,m){"undefined"===typeof m&&(m=!0);return this.$set_attr(a,b,m)};v.$$proto.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a};v.$$proto.getDocument=function(){return this.document};v.$$proto.isInline=function(){return this["$inline?"]()};v.$$proto.isBlock=function(){return this["$block?"]()};
v.$$proto.isRole=function(a){return this["$role?"](a)};v.$$proto.getRole=function(){return this.$role()};v.$$proto.hasRole=function(a){return this["$has_role?"](a)};v.$$proto.getRoles=function(){return this.$roles()};v.$$proto.addRole=function(a){return this.$add_role(a)};v.$$proto.removeRole=function(a){return this.$remove_role(a)};v.$$proto.isReftext=function(){return this["$reftext?"]()};v.$$proto.getReftext=function(){return this.$reftext()};v.$$proto.getContext=function(){var a=this.context;
return"string"===typeof a?a:a.toString()};v.$$proto.getId=function(){return this.id};v.$$proto.isOption=function(a){return this["$option?"](a)};v.$$proto.setOption=function(a){return this.$set_option(a)};v.$$proto.getIconUri=function(a){return this.$icon_uri(a)};v.$$proto.getMediaUri=function(a,b){return this.$media_uri(a,b)};v.$$proto.getImageUri=function(a,b){return this.$image_uri(a,b)};v.$$proto.getConverter=function(){return this.$converter()};v.$$proto.readContents=function(a,b){return this.$read_contents(a,
x(b))};v.$$proto.readAsset=function(a,b){return this.$read_asset(a,x(b))};v.$$proto.normalizeWebPath=function(a,b,m){return this.$normalize_web_path(a,b,m)};v.$$proto.normalizeSystemPath=function(a,b,m,r){return this.$normalize_system_path(a,b,m,x(r))};v.$$proto.normalizeAssetPath=function(a,b,m){return this.$normalize_asset_path(a,b,m)};var m=Opal.Asciidoctor.Document;m.$$proto.getHeader=function(){return this.header};m.$$proto.setAttribute=function(a,b){return this.$set_attribute(a,b)};m.$$proto.removeAttribute=
function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};m.$$proto.convert=function(a){a=this.$convert(x(a));return a===Opal.nil?"":a};m.$$proto.write=function(a,b){return this.$write(a,b)};m.$$proto.getAuthor=function(){return this.$author()};m.$$proto.getSource=function(){return this.$source()};m.$$proto.getSourceLines=function(){return this.$source_lines()};m.$$proto.isNested=function(){return this["$nested?"]()};m.$$proto.hasFootnotes=function(){return this["$footnotes?"]()};
m.$$proto.getFootnotes=function(){return this.$footnotes()};m.$$proto.isEmbedded=function(){return this["$embedded?"]()};m.$$proto.hasExtensions=function(){return this["$extensions?"]()};m.$$proto.getDoctype=function(){return this.doctype};m.$$proto.getBackend=function(){return this.backend};m.$$proto.isBasebackend=function(a){return this["$basebackend?"](a)};m.$$proto.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};m.$$proto.setTitle=function(a){return this["$title="](a)};m.$$proto.getDocumentTitle=
function(a){a=this.$doctitle(x(a));return a===Opal.nil?void 0:a};m.$$proto.getDoctitle=m.$$proto.getDocumentTitle;m.$$proto.getCatalog=function(){return C(this.catalog)};m.$$proto.getReferences=m.$$proto.getCatalog;m.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")};m.$$proto.getRevdate=function(){return this.getRevisionDate()};m.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")};m.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")};
m.RevisionInfo=function(a,b,m){this.date=a;this.number=b;this.remark=m};v=m.RevisionInfo;v.prototype.getDate=function(){return this.date};v.prototype.getNumber=function(){return this.number};v.prototype.getRemark=function(){return this.remark};v.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};m.$$proto.getRevisionInfo=function(){return new m.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};m.$$proto.hasRevisionInfo=
function(){return!this.getRevisionInfo().isEmpty()};m.$$proto.getNotitle=function(){return this.$notitle()};m.$$proto.getNoheader=function(){return this.$noheader()};m.$$proto.getNofooter=function(){return this.$nofooter()};m.$$proto.hasHeader=function(){return this["$header?"]()};m.$$proto.deleteAttribute=function(a){return this.$delete_attribute(a)};m.$$proto.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};m.$$proto.parse=function(a){return this.$parse(a)};m.$$proto.getDocinfo=
function(a,b){return this.$docinfo(a,b)};m.$$proto.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};m.$$proto.counterIncrement=function(a,b){return this.$counter_increment(a,b)};m.$$proto.counter=function(a,b){return this.$counter(a,b)};m.$$proto.getSafe=function(){return this.safe};m.$$proto.getCompatMode=function(){return this.compat_mode};m.$$proto.getSourcemap=function(){return this.sourcemap};m.$$proto.getCounters=function(){return C(this.counters)};m.$$proto.getCallouts=
function(){return this.$callouts()};m.$$proto.getBaseDir=function(){return this.base_dir};m.$$proto.getOptions=function(){return C(this.options)};m.$$proto.getOutfilesuffix=function(){return this.outfilesuffix};m.$$proto.getParentDocument=function(){return this.parent_document};m.$$proto.getReader=function(){return this.reader};m.$$proto.getConverter=function(){return this.converter};m.$$proto.getExtensions=function(){return this.extensions};v=m.Title;v.$$proto.getMain=function(){return this.main};
v.$$proto.getCombined=function(){return this.combined};v.$$proto.getSubtitle=function(){return this.subtitle};v.$$proto.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};v.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};v=Opal.Asciidoctor.Inline;v.$$proto.convert=function(){return this.$convert()};v.$$proto.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};v.$$proto.getType=function(){return this.$type()};v.$$proto.getTarget=function(){var a=
this.$target();return a===Opal.nil?void 0:a};Opal.Asciidoctor.List.$$proto.getItems=function(){return this.blocks};Opal.Asciidoctor.ListItem.$$proto.getText=function(){return this.$text()};v=Opal.Asciidoctor.Reader;v.$$proto.pushInclude=function(a,b,m,r,p){return this.$push_include(a,b,m,r,p)};v.$$proto.getCursor=function(){return this.$cursor()};v.$$proto.getLines=function(){return this.$lines()};v.$$proto.getString=function(){return this.$string()};var w=function(a){a.$$arity=a.length;return a},
z=function(a,b,m,r){return"function"===typeof m?Opal.send(a,b,r&&[r],w(m)):a["$"+b](m,r)},v=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=v;v.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"build_registry",null,w(a)):"function"===typeof b?Opal.send(this,"build_registry",[a],w(b)):this.$build_registry()};v.register=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"register",null,w(a)):Opal.send(this,
"register",[a],w(b))};v.getGroups=function(){return C(this.groups)};v.unregisterAll=function(){this.$unregister_all()};v.unregister=function(){for(var a=Array.isArray(arguments[0])?arguments[0]:arguments,b=this.groups,m={},r=0,p=b.$$keys;r<p.length;r++){var q=p[r];m[q.toString()]=q}for(r=0;r<a.length;r++)p=a[r],p in m&&Opal.hash_delete(b,m[p])};var r=v.Registry;r.$$proto.getGroups=v.getGroups;r.$$proto.unregisterAll=function(){this.groups=Opal.hash()};r.$$proto.unregister=v.unregister;r.$$proto.block=
function(a,b){1===arguments.length&&(b=a,a=null);return z(this,"block",b,a)};r.$$proto.inlineMacro=function(a,b){1===arguments.length&&(b=a,a=null);return z(this,"inline_macro",b,a)};r.$$proto.includeProcessor=function(a){return z(this,"include_processor",a)};r.$$proto.blockMacro=function(a,b){1===arguments.length&&(b=a,a=null);return z(this,"block_macro",b,a)};r.$$proto.treeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return z(this,"tree_processor",b,a)};r.$$proto.postprocessor=function(a,
b){1===arguments.length&&(b=a,a=null);return z(this,"postprocessor",b,a)};r.$$proto.preprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return z(this,"preprocessor",b,a)};r.$$proto.docinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return z(this,"docinfo_processor",b,a)};r=v.Processor;r.$$proto.process=function(a){return Opal.send(this,"process",null,w(a))};r.$$proto.named=function(a){return this.$named(a)};r.$$proto.createBlock=function(a,b,m,r,p){return this.$create_block(a,
b,m,x(r),x(p))};r.$$proto.createImageBlock=function(a,b,m){return this.$create_image_block(a,x(b),x(m))};r.$$proto.createInline=function(a,b,m,r){return this.$create_inline(a,b,m,x(r))};r.$$proto.parseContent=function(a,b,m){return this.$parse_content(a,b,m)};r.$$proto.positionalAttributes=function(a){return this.$positional_attrs(a)};v.BlockProcessor.$$proto.onContext=function(a){return this.$on_context(a)};v.IncludeProcessor.$$proto.handles=function(a){return Opal.send(this,"handles?",null,w(a))};
v.DocinfoProcessor.$$proto.atLocation=function(a){this.$at_location(a)};v=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=v;v.$$proto.convert=function(a,b,m){return this.$convert(a,b,x(m))};v.BuiltIn.$$proto.convert=v.$$proto.convert;v=Opal.Asciidoctor.Converter.Factory;v.getDefault=function(a){return this.$default(a)};v.$$proto.create=function(a,b){return this.$create(a,x(b))};u.$$proto.getVersion=function(){return"1.5.6-rc.1"};return Opal.Asciidoctor});
